<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111" />



  
  

  <title>Android 开发者 Gradle 速查表</title>

    <link rel="canonical" href="https://codepen.io/ccwq/pen/GgoRvaG">
  
  
  
  

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
</head>

<body translate="no">
  <!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Android 开发者 Gradle 速查表</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    :root{--primary-color:#8250df;--bg-color:#ffffff;--text-color:#24292f;--border-color:#d0d7de;--code-bg:#f6f8fa;--sidebar-bg:#f6f8fa;--card-shadow:rgba(149, 157, 165, 0.2)}
    body{background:var(--bg-color);color:var(--text-color);font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji';font-size:12px;line-height:1.4;min-height:100vh;padding:15px}
    h1, h2, h3{color:var(--text-color);margin-top:0;position:relative;font-weight:600}
    h1{font-size:1.5rem;text-align:center;margin:15px 0 20px;padding-bottom:10px}
    h1::after{content:"";position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:120px;height:1px;background:var(--primary-color)}
    h2{font-size:1.1rem;margin:12px 0 8px;padding-bottom:5px;border-bottom:1px solid var(--border-color);color:var(--primary-color)}
    h3{font-size:1rem;margin:10px 0 5px;color:var(--primary-color)}
    .container{column-count:4;column-gap:15px;max-width:100%;margin:0 auto;padding:0 5px 25px;transition:column-width 0.2s}
    @media (max-width: 1100px){.container{column-count:3}}
    @media (max-width: 800px){.container{column-count:2}}
    @media (max-width: 500px){.container{column-count:1}}
    .card{background:var(--bg-color);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 1px 3px 0 var(--card-shadow);margin-bottom:12px;padding:12px;break-inside:avoid;position:relative;overflow:hidden}
    .card::before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:var(--primary-color)}
    .code-block{background:var(--code-bg);color:var(--text-color);border:1px solid var(--border-color);border-radius:3px;padding:8px;font-size:11px;font-family:ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;line-height:1.3;margin:8px 0 5px;overflow-x:auto;white-space:pre;position:relative}
    .slider-box{margin:10px auto 15px;max-width:350px;display:flex;flex-direction:row;align-items:center;background:var(--sidebar-bg);border:1px solid var(--border-color);border-radius:15px;padding:8px 15px;box-shadow:0 1px 2px rgba(0, 0, 0, 0.05)}
    .slider-box span{font-size:12px;margin:0 8px 0 0;color:var(--text-color);font-weight:600}
    .slider{width:150px;-webkit-appearance:none;height:5px;background:var(--border-color);outline:none;border-radius:2px}
    .slider::-webkit-slider-thumb{-webkit-appearance:none;width:15px;height:15px;background:var(--primary-color);cursor:pointer;border-radius:50%;box-shadow:0 1px 2px rgba(0, 0, 0, 0.2)}
    ::selection{background:rgba(130, 80, 223, 0.3)}
    .desc{font-size:11px;color:#57606a;margin:6px 0;padding:6px 8px;border-left:2px solid var(--primary-color);background:var(--code-bg);border-radius:0 3px 3px 0}
    ul{padding-left:16px;margin:8px 0}
    li{margin-bottom:5px;position:relative;padding-left:15px}
    li::before{content:"•";position:absolute;left:0;color:var(--primary-color);font-size:1em;line-height:1}
    a{color:#0969da;text-decoration:none;border-bottom:1px dotted var(--border-color);padding:1px 0;transition:all 0.3s}
    a:hover{color:#0550ae;border-bottom:1px solid var(--primary-color)}
    a:visited{color:#6a5a8a}
    #colShow{font-weight:600;color:var(--primary-color)}
    .card::after{content:"";position:absolute;bottom:0;right:0;width:20px;height:20px;background:linear-gradient(135deg, transparent 50%, var(--code-bg) 50%);pointer-events:none}
  </style>
</head>
<body>
  <h1>Android 开发者 Gradle 速查表</h1>
  <div class="slider-box">
    <span>列宽:</span>
    <input class="slider" id="colWidthSlider" type="range" min="250" max="500" value="300" oninput="resizeColumn(this.value)" />
    <span id="colShow">300px</span>
  </div>
  <div class="container" id="container">
    <div class="card">
      <h2>环境搭建与 Wrapper</h2>
      <h3>安装 Gradle</h3>
      <p>支持 Windows、macOS 和 Linux，可通过包管理器或官网下载 ZIP 安装。</p>
      <pre class="code-block"><code class="language-shell"># macOS (Homebrew)
brew install gradle

# 查看版本
gradle -v</code></pre>
      <h3>Gradle Wrapper</h3>
      <p>推荐使用 Wrapper 保证团队一致性，自动下载指定版本。</p>
      <pre class="code-block"><code class="language-shell"># 初始化 Wrapper
gradle wrapper --gradle-version 7.4.2

# 执行任务
./gradlew tasks</code></pre>
      <p class="desc">务必将 gradlew、gradlew.bat 和 gradle/wrapper/* 提交到版本控制。</p>
    </div>
    <div class="card">
      <h2>项目配置基础</h2>
      <h3>settings.gradle</h3>
      <p>定义子项目和根项目名称。</p>
      <pre class="code-block"><code class="language-groovy">rootProject.name = "MyApp"
include ":app", ":library"</code></pre>
      <h3>gradle.properties</h3>
      <p>全局属性配置，如 JVM 参数与并行构建。</p>
      <pre class="code-block"><code class="language-properties">org.gradle.jvmargs=-Xmx4g
org.gradle.parallel=true</code></pre>
      <h3>local.properties</h3>
      <p>Android SDK 路径，本地生成，通常不提交。</p>
      <pre class="code-block"><code class="language-properties">sdk.dir=/Users/username/Library/Android/sdk</code></pre>
    </div>
    <div class="card">
      <h2>构建脚本 DSL</h2>
      <h3>Groovy DSL</h3>
      <p>使用闭包配置 Android 和依赖。</p>
      <pre class="code-block"><code class="language-groovy">android {
    compileSdkVersion 31
    defaultConfig {
        applicationId "com.example.app"
        minSdkVersion 21
        targetSdkVersion 31
    }
}

dependencies {
    implementation "androidx.core:core-ktx:1.6.0"
}</code></pre>
      <h3>Kotlin DSL</h3>
      <p>在 Module 10 专题中深入介绍。</p>
    </div>
    <div class="card">
      <h2>插件应用</h2>
      <h3>插件声明</h3>
      <pre class="code-block"><code class="language-groovy">plugins {
    id 'com.android.application' version '7.4.2'
    id 'kotlin-android'
}</code></pre>
      <h3>Legacy 方式</h3>
      <pre class="code-block"><code class="language-groovy">apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'</code></pre>
    </div>
    <div class="card">
      <h2>依赖管理</h2>
      <h3>仓库配置</h3>
      <pre class="code-block"><code class="language-groovy">repositories {
    google()
    mavenCentral()
}</code></pre>
      <h3>依赖范围</h3>
      <ul>
        <li>implementation</li>
        <li>api</li>
        <li>compileOnly</li>
        <li>kapt / annotationProcessor</li>
        <li>testImplementation / androidTestImplementation</li>
      </ul>
    </div>
    <div class="card">
      <h2>任务系统</h2>
      <h3>自定义 Task</h3>
      <pre class="code-block"><code class="language-groovy">task copyAssets(type: Copy) {
    from 'src/main/assets'
    into "$buildDir/outputs/assets"
}</code></pre>
      <h3>常用命令</h3>
      <pre class="code-block"><code class="language-shell">./gradlew clean
./gradlew assembleDebug
./gradlew connectedAndroidTest</code></pre>
    </div>
    <div class="card">
      <h2>生命周期阶段</h2>
      <h3>初始化 → 配置 → 执行</h3>
      <ul>
        <li>初始化（Init）：解析 settings.gradle</li>
        <li>配置（Configuration）：执行所有脚本</li>
        <li>执行（Execution）：运行选定 Task</li>
      </ul>
      <h3>钩子</h3>
      <pre class="code-block"><code class="language-groovy">tasks.named('assembleDebug') {
    doFirst { println '开始构建 Debug' }
    doLast  { println '构建完成' }
}</code></pre>
    </div>
    <div class="card">
      <h2>多模块项目</h2>
      <h3>包含子项目</h3>
      <pre class="code-block"><code class="language-groovy">// settings.gradle
include ':app', ':feature:login', ':feature:profile'</code></pre>
      <h3>模块间依赖</h3>
      <pre class="code-block"><code class="language-groovy">dependencies {
    implementation project(':feature:login')
}</code></pre>
    </div>
    <div class="card">
      <h2>构建变体与风味</h2>
      <h3>buildTypes</h3>
      <pre class="code-block"><code class="language-groovy">buildTypes {
    debug {
        applicationIdSuffix ".debug"
    }
    release {
        minifyEnabled true
    }
}</code></pre>
      <h3>productFlavors</h3>
      <pre class="code-block"><code class="language-groovy">productFlavors {
    demo {
        dimension "version"
    }
    full {
        dimension "version"
    }
}</code></pre>
    </div>
    <div class="card">
      <h2>Kotlin DSL</h2>
      <h3>插件与依赖</h3>
      <pre class="code-block"><code class="language-kotlin">plugins {
    id("com.android.application") version "7.4.2"
    kotlin("android")
}

dependencies {
    implementation("org.jetbrains.kotlin:kotlin-stdlib:1.6.10")
}</code></pre>
      <h3>配置示例</h3>
      <pre class="code-block"><code class="language-kotlin">android {
    compileSdk = 31
    defaultConfig {
        minSdk = 21
        targetSdk = 31
    }
}</code></pre>
    </div>
    <div class="card">
      <h2>性能优化与构建缓存</h2>
      <h3>并行与按需配置</h3>
      <pre class="code-block"><code class="language-properties">org.gradle.parallel=true
org.gradle.configureondemand=true</code></pre>
      <h3>构建缓存</h3>
      <ul>
        <li>本地缓存：org.gradle.caching=true</li>
        <li>远程缓存：配置 Cache 服务器</li>
      </ul>
    </div>
    <div class="card">
      <h2>调试与诊断</h2>
      <h3>日志级别</h3>
      <pre class="code-block"><code class="language-shell">./gradlew build --info
./gradlew build --debug --stacktrace</code></pre>
      <h3>Build Scan</h3>
      <pre class="code-block"><code class="language-groovy">plugins {
    id 'com.gradle.build-scan' version '3.8.1'
}
buildScan {
    publishAlways()
}</code></pre>
    </div>
    <div class="card">
      <h2>属性与扩展</h2>
      <h3>Extra 属性</h3>
      <pre class="code-block"><code class="language-groovy">ext {
    kotlin_version = '1.6.10'
}</code></pre>
      <h3>项目属性</h3>
      <pre class="code-block"><code class="language-groovy">def env = project.findProperty("env") ?: "dev"</code></pre>
    </div>
    <div class="card">
      <h2>CI/CD 集成</h2>
      <h3>常用命令</h3>
      <pre class="code-block"><code class="language-shell">./gradlew assembleRelease -Penv=prod</code></pre>
      <h3>GitHub Actions 示例</h3>
      <pre class="code-block"><code class="language-yaml">name: Android CI

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Set up JDK 11
        uses: actions/setup-java@v2
        with:
          java-version: '11'
      - name: Build with Gradle
        run: ./gradlew assembleDebug --stacktrace</code></pre>
    </div>
  </div>
  <script>
    function resizeColumn(px){
      let container = document.getElementById('container');
      container.style.columnWidth = px + 'px';
      document.getElementById('colShow').innerText = px + 'px';
      container.style.display = 'none';
      void container.offsetHeight;
      container.style.display = 'block';
    }
    resizeColumn(300);
  </script>
</body>
</html>
  
  
  
</body>

</html>