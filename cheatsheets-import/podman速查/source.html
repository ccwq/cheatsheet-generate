<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111" />



  
  

  <title>padman速查表</title>

    <link rel="canonical" href="https://codepen.io/zeniok/pen/xbwWqNv">
  
  
  
  

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
</head>

<body translate="no">
  <!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>Podman 速查表</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      :root {
        --primary-color: #8250df;
        --bg-color: #ffffff;
        --text-color: #24292f;
        --border-color: #d0d7de;
        --code-bg: #f6f8fa;
        --sidebar-bg: #f6f8fa;
        --card-shadow: rgba(149, 157, 165, 0.2);
      }
      body {
        background: var(--bg-color);
        color: var(--text-color);
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica,
          Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
        font-size: 12px;
        line-height: 1.4;
        min-height: 100vh;
        padding: 15px;
      }
      h1,
      h2,
      h3 {
        color: var(--text-color);
        margin-top: 0;
        position: relative;
        font-weight: 600;
      }
      h1 {
        font-size: 1.5rem;
        text-align: center;
        margin: 15px 0 20px;
        padding-bottom: 10px;
      }
      h1::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 120px;
        height: 1px;
        background: var(--primary-color);
      }
      h2 {
        font-size: 1.1rem;
        margin: 12px 0 8px;
        padding-bottom: 5px;
        border-bottom: 1px solid var(--border-color);
        color: var(--primary-color);
      }
      h3 {
        font-size: 1rem;
        margin: 10px 0 5px;
        color: var(--primary-color);
      }
      .container {
        column-count: 4;
        column-gap: 15px;
        max-width: 100%;
        margin: 0 auto;
        padding: 0 5px 25px;
        transition: column-width 0.2s;
      }
      @media (max-width: 1100px) {
        .container {
          column-count: 3;
        }
      }
      @media (max-width: 800px) {
        .container {
          column-count: 2;
        }
      }
      @media (max-width: 500px) {
        .container {
          column-count: 1;
        }
      }
      .card {
        background: var(--bg-color);
        border: 1px solid var(--border-color);
        border-radius: 6px;
        box-shadow: 0 1px 3px 0 var(--card-shadow);
        margin-bottom: 12px;
        padding: 12px;
        break-inside: avoid;
        position: relative;
        overflow: hidden;
      }
      .card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background: var(--primary-color);
      }
      .code-block {
        background: var(--code-bg);
        color: var(--text-color);
        border: 1px solid var(--border-color);
        padding:0 8px;
        border-radius: 3px;
        font-size: 11px;
        font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas,
          "Liberation Mono", Menlo, monospace;
        line-height: 1.8;
        margin: 8px 0 5px;
        overflow-x: auto;
        white-space: pre;
        position: relative;
      }
      .slider-box {
        margin: 10px auto 15px;
        max-width: 350px;
        display: flex;
        flex-direction: row;
        align-items: center;
        background: var(--sidebar-bg);
        border: 1px solid var(--border-color);
        border-radius: 15px;
        padding: 8px 15px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
      }
      .slider-box span {
        font-size: 12px;
        margin: 0 8px 0 0;
        color: var(--text-color);
        font-weight: 600;
      }
      .slider {
        width: 150px;
        -webkit-appearance: none;
        height: 5px;
        background: var(--border-color);
        outline: none;
        border-radius: 2px;
      }
      .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 15px;
        height: 15px;
        background: var(--primary-color);
        cursor: pointer;
        border-radius: 50%;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      }
      ::selection {
        background: rgba(130, 80, 223, 0.3);
      }
      .desc {
        font-size: 11px;
        color: #57606a;
        margin: 6px 0;
        padding: 6px 8px;
        border-left: 2px solid var(--primary-color);
        background: var(--code-bg);
        border-radius: 0 3px 3px 0;
      }
      .dot-list > div {
        position: relative;
        padding-left: 0px;
        margin-bottom: 6px;
      }
      a {
        color: #0969da;
        text-decoration: none;
        border-bottom: 1px dotted var(--border-color);
        padding: 1px 0;
        transition: all 0.3s;
      }
      a:hover {
        color: #0550ae;
        border-bottom: 1px solid var(--primary-color);
      }
      a:visited {
        color: #6a5a8a;
      }
      #colShow {
        font-weight: 600;
        color: var(--primary-color);
      }
      .card::after {
        content: "";
        position: absolute;
        bottom: 0;
        right: 0;
        width: 20px;
        height: 20px;
        background: linear-gradient(135deg, transparent 50%, var(--code-bg) 50%);
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <h1>Podman 速查表</h1>
    <div class="slider-box">
      <span>列宽:</span>
      <input
        class="slider"
        id="colWidthSlider"
        type="range"
        min="250"
        max="500"
        value="300"
        oninput="resizeColumn(this.value)"
      />
      <span id="colShow">300px</span>
    </div>
    <div class="container" id="container">
      <!-- Podman 简介 -->
      <section class="card">
        <h2>简介</h2>
        <p>
          Podman 是一个无守护进程的开源容器引擎，支持管理 OCI 容器和
          容器镜像。它兼容 Docker 命令行，支持 rootless 模式，提高安全性。
        </p>
        <p>
          官网：
          <a
            href="https://podman.io/"
            target="_blank"
            rel="noreferrer noopener"
            >https://podman.io/</a
          >
        </p>
      </section>

      <!-- 安装方式 -->
      <section class="card">
        <h2>安装</h2>
        <h3>常用平台安装命令</h3>
        <div class="dot-list">
          <div>
            <code class="code-block"
              >sudo dnf install -y podman</code
            >
            （Fedora/CentOS/RHEL）
          </div>
          <div>
            <code class="code-block"
              >sudo apt-get update &amp;&amp; sudo apt-get install -y podman</code
            >
            （Debian/Ubuntu）
          </div>
          <div>
            macOS 安装：
            <code class="code-block">brew install podman</code>
          </div>
          <div>
            Windows 可通过 <code class="code-block">podman machine</code> 或 Podman Desktop 运行虚拟环境使用          
          </div>
          <div>
            在windows创建docker的alias <code class="code-block">mklink docker.exe podman.exe</code> 
          </div>
        </div>
      </section>

      <!-- Podman Machine -->
      <section class="card">
        <h2>Podman Machine</h2>
        <p>
          Podman Machine 提供跨平台的容器运行环境，特别适用于 macOS 和 Windows。
        </p>
        <h3>基础操作</h3>
        <div class="dot-list">
          <div><code class="code-block">podman machine init</code> — 初始化虚拟机</div>
          <div><code class="code-block">podman machine start</code> — 启动虚拟机</div>
          <div><code class="code-block">podman machine stop</code> — 停止虚拟机</div>
          <div><code class="code-block">podman machine ssh</code> — 连接到虚拟机</div>
          <div><code class="code-block">podman machine list</code> — 查看虚拟机状态</div>
          <div><code class="code-block">podman machine rm</code> — 删除虚拟机</div>
        </div>
        <h3>自定义配置</h3>
        <div class="dot-list">
          <div><code class="code-block">podman machine init --memory 4096 --cpus 2</code> — 指定内存和CPU</div>
          <div><code class="code-block">podman machine init --disk-size 50</code> — 指定磁盘大小(GB)</div>
        </div>
      </section>

      <!-- 镜像源配置 -->
      <section class="card">
        <h2>镜像源配置</h2>
        <h3>Linux 系统配置</h3>
        <div class="dot-list">
          <div>编辑配置文件：<code class="code-block">sudo vim /etc/containers/registries.conf</code></div>
        </div>
        <h3>Windows/Podman Desktop 配置</h3>
        <div class="dot-list">
          <div>
            进入 Podman Machine：
            <code class="code-block">podman machine ssh</code>
          </div>
          <div>
            编辑配置文件：
            <code class="code-block">sudo vi /etc/containers/registries.conf</code>
          </div>
          <div>重启虚拟机使配置生效</div>
        </div>
        <h3>国内镜像源示例配置</h3>
        <pre class="code-block">unqualified-search-registries = ["docker.io"]

[[registry]]
prefix = "docker.io"
location = "docker.io"

[[registry.mirror]]
location = "hub-mirror.c.163.com"    # 网易镜像

[[registry.mirror]]
location = "registry.docker-cn.com"  # Docker官方中国镜像

[[registry.mirror]]
location = "yourID.mirror.aliyuncs.com"  # 阿里云镜像</pre>
        <div class="desc">
          阿里云镜像需要登录获取专属 ID，替换 yourID 部分
        </div>
      </section>

      <!-- WSL 集成 -->
      <section class="card">
        <h2>WSL 集成配置</h2>
        <p>
          在其他 WSL 发行版中使用 Podman Desktop 的 Podman 环境。
        </p>
        <h3>连接到 Podman Machine</h3>
        <div class="dot-list">
          <div>
            添加连接（root 模式）：
            <code class="code-block">podman system connection add --default podman-machine-default-root unix:///mnt/wsl/podman-sockets/podman-machine-default/podman-root.sock</code>
          </div>
          <div>
            添加连接（rootless 模式）：
            <code class="code-block">podman system connection add --default podman-machine-default unix:///mnt/wsl/podman-sockets/podman-machine-default/podman-user.sock</code>
          </div>
          <div><code class="code-block">podman system connection list</code> — 查看连接</div>
          <div><code class="code-block">podman system connection default &lt;name&gt;</code> — 设置默认连接</div>
        </div>
        <div class="desc">
          检查 /mnt/wsl/podman-sockets/ 目录确认可用的 Socket 名称
        </div>
      </section>

      <!-- 基础命令 -->
      <section class="card">
        <h2>基础命令</h2>
        <h3>镜像操作</h3>
        <div class="dot-list">
          <div><code class="code-block">podman pull &lt;image&gt;</code> — 拉取镜像</div>
          <div><code class="code-block">podman images</code> — 列出镜像</div>
          <div><code class="code-block">podman rmi &lt;image&gt;</code> — 删除镜像</div>
          <div><code class="code-block">podman search &lt;term&gt;</code> — 搜索镜像</div>
          <div><code class="code-block">podman inspect &lt;image&gt;</code> — 查看镜像详情</div>
        </div>
        <h3>容器操作</h3>
        <div class="dot-list">
          <div>
            <code class="code-block"
              >podman run [options] &lt;image&gt; [command]</code
            >
            — 运行容器，如进入交互模式：
            <code class="code-block"
              >podman run -it --rm ubuntu /bin/bash</code
            >
          </div>
          <div><code class="code-block">podman ps</code> — 查看运行中的容器</div>
          <div><code class="code-block">podman ps -a</code> — 查看所有容器</div>
          <div><code class="code-block">podman stop &lt;container&gt;</code> — 停止容器</div>
          <div><code class="code-block">podman start &lt;container&gt;</code> — 启动容器</div>
          <div><code class="code-block">podman restart &lt;container&gt;</code> — 重启容器</div>
          <div><code class="code-block">podman rm &lt;container&gt;</code> — 删除容器</div>
          <div><code class="code-block">podman logs &lt;container&gt;</code> — 查看日志</div>
          <div><code class="code-block">podman exec -it &lt;container&gt; bash</code> — 进入容器</div>
        </div>
      </section>

      <!-- 网络管理 -->
      <section class="card">
        <h2>网络管理</h2>
        <div class="dot-list">
          <div><code class="code-block">podman network ls</code> — 列出网络</div>
          <div><code class="code-block">podman network inspect &lt;network&gt;</code> — 查看网络详情</div>
          <div><code class="code-block">podman network create &lt;network-name&gt;</code> — 创建自定义网络</div>
          <div><code class="code-block">podman network rm &lt;network-name&gt;</code> — 删除网络</div>
          <div><code class="code-block">podman network prune</code> — 清理未使用网络</div>
        </div>
      </section>

      <!-- Pod 管理 -->
      <section class="card">
        <h2>Pod 管理</h2>
        <p>
          Pod 是 Podman 独有功能，可以将多个容器组合管理，共享网络和存储。
        </p>
        <div class="dot-list">
          <div><code class="code-block">podman pod create --name &lt;pod-name&gt;</code> — 创建 Pod</div>
          <div><code class="code-block">podman pod ls</code> — 列出 Pod</div>
          <div><code class="code-block">podman pod start &lt;pod-name&gt;</code> — 启动 Pod</div>
          <div><code class="code-block">podman pod stop &lt;pod-name&gt;</code> — 停止 Pod</div>
          <div><code class="code-block">podman pod rm &lt;pod-name&gt;</code> — 删除 Pod</div>
          <div><code class="code-block">podman run --pod &lt;pod-name&gt; &lt;image&gt;</code> — 在 Pod 中运行容器</div>
        </div>
      </section>

      <!-- rootless 模式 -->
      <section class="card">
        <h2>Rootless 模式</h2>
        <p>
          Podman 支持 rootless 容器运行，无需 root 权限，提高安全性。配置用户命名空间和子 UID/GID 即可使用。
        </p>
        <h3>启动 rootless 容器示例</h3>
        <pre class="code-block">
podman run --rm -it --security-opt label=disable alpine sh
        </pre>
        <h3>配置 rootless 环境</h3>
        <div class="dot-list">
          <div><code class="code-block">sudo usermod --add-subuids 165536-231071 --add-subgids 165536-231071 $USER</code> — 配置用户命名空间</div>
          <div><code class="code-block">podman system migrate</code> — 迁移到 rootless 模式</div>
        </div>
      </section>

      <!-- 镜像构建 -->
      <section class="card">
        <h2>镜像构建</h2>
        <h3>使用 Podman 构建镜像</h3>
        <div class="dot-list">
          <div><code class="code-block">podman build -t &lt;image-name&gt; &lt;path&gt;</code> — 从 Dockerfile 构建镜像</div>
          <div><code class="code-block">podman build --format docker -t myimage .</code> — 指定镜像格式</div>
          <div><code class="code-block">podman build --no-cache -t myimage .</code> — 不使用缓存构建</div>
          <div><code class="code-block">podman build --build-arg KEY=value -t myimage .</code> — 传递构建参数</div>
        </div>
      </section>

      <!-- 容器数据管理 -->
      <section class="card">
        <h2>数据卷和挂载</h2>
        <div class="dot-list">
          <div><code class="code-block">podman volume create &lt;volume-name&gt;</code> — 创建数据卷</div>
          <div><code class="code-block">podman volume ls</code> — 列出数据卷</div>
          <div><code class="code-block">podman volume inspect &lt;volume-name&gt;</code> — 查看数据卷详情</div>
          <div><code class="code-block">podman volume rm &lt;volume-name&gt;</code> — 删除数据卷</div>
          <div><code class="code-block">podman volume prune</code> — 清理未使用数据卷</div>
          <div>
            容器运行时挂载卷：
            <code class="code-block">podman run -v &lt;volume-name&gt;:/mnt alpine</code>
          </div>
          <div>
            绑定主机目录：
            <code class="code-block">podman run -v /host/path:/container/path:Z image</code>
          </div>
        </div>
      </section>

      <!-- 容器导出与导入 -->
      <section class="card">
        <h2>导出与导入</h2>
        <div class="dot-list">
          <div><code class="code-block">podman export &lt;container&gt; &gt; container.tar</code> — 导出容器文件系统</div>
          <div><code class="code-block">podman import container.tar &lt;image-name&gt;</code> — 导入镜像</div>
          <div><code class="code-block">podman save -o image.tar &lt;image&gt;</code> — 保存镜像</div>
          <div><code class="code-block">podman load -i image.tar</code> — 载入镜像</div>
          <div><code class="code-block">podman commit &lt;container&gt; &lt;new-image&gt;</code> — 从容器创建镜像</div>
        </div>
      </section>

      <!-- 资源限制 -->
      <section class="card">
        <h2>资源限制</h2>
        <div class="dot-list">
          <div><code class="code-block">--memory &lt;limit&gt;</code> — 限制内存，如 <code>--memory=512m</code></div>
          <div><code class="code-block">--cpus &lt;number&gt;</code> — 限制 CPU 核数，如 <code>--cpus=1.5</code></div>
          <div><code class="code-block">--pids-limit &lt;number&gt;</code> — 限制进程数量</div>
          <div><code class="code-block">--ulimit</code> — 设置 ulimit 限制</div>
          <div><code class="code-block">--device-read-bps</code> — 限制设备读取带宽</div>
          <div><code class="code-block">--device-write-bps</code> — 限制设备写入带宽</div>
        </div>
      </section>

      <!-- Podman Compose -->
      <section class="card">
        <h2>Podman Compose</h2>
        <p>
          Podman 也支持用 Compose 文件管理多容器，通过 Podman Compose 工具，命令类似 Docker Compose。
        </p>
        <h3>安装 Podman Compose</h3>
        <div class="dot-list">
          <div><code class="code-block">pip3 install podman-compose</code> — 使用 pip 安装</div>
          <div><code class="code-block">sudo dnf install podman-compose</code> — Fedora 系统安装</div>
        </div>
        <h3>常用命令</h3>
        <div class="dot-list">
          <div><code class="code-block">podman-compose up -d</code> — 启动服务</div>
          <div><code class="code-block">podman-compose down</code> — 停止服务并删除容器网络</div>
          <div><code class="code-block">podman-compose ps</code> — 查看服务状态</div>
          <div><code class="code-block">podman-compose logs</code> — 查看服务日志</div>
          <div><code class="code-block">podman-compose build</code> — 构建服务镜像</div>
        </div>
      </section>

      <!-- Systemd 集成 -->
      <section class="card">
        <h2>Systemd 集成</h2>
        <p>
          Podman 可以生成 systemd 服务文件，实现容器的自动启动和管理。
        </p>
        <div class="dot-list">
          <div><code class="code-block">podman generate systemd --new --files --name &lt;container&gt;</code> — 生成 systemd 服务文件</div>
          <div><code class="code-block">sudo cp container-&lt;name&gt;.service /etc/systemd/system/</code> — 复制服务文件</div>
          <div><code class="code-block">sudo systemctl daemon-reload</code> — 重载 systemd</div>
          <div><code class="code-block">sudo systemctl enable --now container-&lt;name&gt;</code> — 启用并启动服务</div>
        </div>
      </section>

      <!-- 重要配置文件 -->
      <section class="card">
        <h2>重要配置文件</h2>
        <div class="dot-list">
          <div><code>~/.config/containers/containers.conf</code> — Podman 全局配置</div>
          <div><code>~/.config/containers/policy.json</code> — 镜像策略定义，如签名验证</div>
          <div><code>/etc/containers/registries.conf</code> — 镜像仓库配置</div>
          <div><code>/etc/containers/storage.conf</code> — 存储配置文件</div>
          <div><code>~/.config/containers/mounts.conf</code> — 默认挂载配置</div>
        </div>
      </section>

      <!-- 常见选项与参数 -->
      <section class="card">
        <h2>常用选项说明</h2>
        <div class="dot-list">
          <div><code>--rm</code> — 容器退出后自动删除容器</div>
          <div><code>-d</code> — 后台运行容器</div>
          <div><code>-it</code> — 交互终端模式，常与bash/sh结合</div>
          <div><code>--security-opt label=disable</code> — 禁用 SELinux 标签（rootless或特殊环境时常用）</div>
          <div><code>--net</code> — 配置容器网络模式，如 <code>--net=host</code></div>
          <div><code>--pod</code> — 归属 Pod 管理多个容器</div>
          <div><code>--privileged</code> — 特权模式运行</div>
          <div><code>--read-only</code> — 以只读模式挂载根文件系统</div>
        </div>
      </section>

      <!-- 故障排除 -->
      <section class="card">
        <h2>故障排除</h2>
        <div class="dot-list">
          <div><code class="code-block">podman info</code> — 查看系统信息和配置</div>
          <div><code class="code-block">podman system df</code> — 查看磁盘使用情况</div>
          <div><code class="code-block">podman system prune</code> — 清理未使用的数据</div>
          <div><code class="code-block">podman system reset</code> — 重置 Podman 状态（慎用）</div>
          <div><code class="code-block">podman events</code> — 实时查看事件</div>
          <div><code class="code-block">podman version</code> — 查看版本信息</div>
        </div>
      </section>
    </div>
    <script>
      function resizeColumn(px) {
        let container = document.getElementById("container");
        container.style.columnWidth = px + "px";
        document.getElementById("colShow").innerText = px + "px";
        container.style.display = "none";
        void container.offsetHeight;
        container.style.display = "block";
      }
      resizeColumn(300);
    </script>
  </body>
</html>
  
  
  
</body>

</html>