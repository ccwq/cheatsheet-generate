<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>tmux速查</title>

    <link rel="icon" type="image/png" href="../../assets/brand/cheatsheet.png" />
    <link rel="apple-touch-icon" href="../../assets/brand/cheatsheet.png" />
  </head>
<body>
<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>tmux 综合速查表</title>
  <style>
    /* 全局重置与基础 */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font: 12px/1.1 "Helvetica Neue", Arial, sans-serif;
      background: linear-gradient(135deg, #2b2b2b, #1a1a1a);
      color: #eee;
      padding: 20px;
      min-height: 100vh;
    }
    h1, h2, h3 {
      margin-bottom: 10px;
    }
    /* 顶部控件 */
    #controls {
      position: sticky;
      top: 0;
      background: rgba(0, 0, 0, 0.6);
      padding: 10px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      z-index: 10;
      user-select: none;
    }
    #controls label {
      flex-shrink: 0;
    }
    #colRange {
      margin-left: 10px;
      cursor: pointer;
    }
    /* 瀑布流布局 */
    #container {
      column-width: 500px;
      column-gap: 20px;
    }
    .card {
      display: inline-block;
      width: 100%;
      margin-bottom: 20px;
      background: rgba(30, 30, 30, 0.8);
      border-radius: 8px;
      padding: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
      break-inside: avoid;
    }
    /* 标题 */
    .card h2 {
      font-size: 14px;
      border-bottom: 1px solid #444;
      padding-bottom: 4px;
      margin-bottom: 8px;
    }
    .card h3 {
      font-size: 13px;
      margin-top: 8px;
      margin-bottom: 6px;
    }
    /* 代码块 */
    pre {
      background: rgba(0, 0, 0, 0.9);
      padding: 10px;
      border-radius: 4px;
      overflow: auto;
      font-family: monospace;
      font-size: 11px;
      line-height: 1.2;
      color: #8cf;
      white-space: pre-wrap;
      word-break: break-word;
    }
    code {
      font-family: monospace;
      color: #8cf;
    }
    ul {
      margin-left: 20px;
      margin-bottom: 8px;
    }
    p {
      margin-bottom: 10px;
    }
  </style>


  <div id="controls">
    <label for="colRange">列宽范围 (px):</label>
    <input type="range" id="colRange" min="300" max="660" value="360">
  </div>

  <section id="container">
    <!-- 关于 tmux -->
    <article class="card">
      <h2>关于 tmux</h2>
      <p>tmux 是一个<strong>终端复用器</strong>，允许在单个终端窗口中创建、管理多个会话、窗口和窗格，支持会话的分离和重新附加，非常适合长期运行进程、工作空间管理和远程终端任务。</p>
      <ul>
        <li>服务器-客户端架构；每个 tmux 服务器管理多个会话，客户端连接交互。</li>
        <li>多会话、多窗口、多窗格支持，灵活操作。</li>
        <li>支持鼠标操作、复制模式、状态栏定制等强大功能。</li>
      </ul>
    </article>

    <!-- 安装 -->
    <article class="card">
      <h2>安装 tmux</h2>
      <h3>Linux 发行版安装</h3>
      <pre><code>Debian/Ubuntu:
sudo apt update
sudo apt install tmux

Fedora:
dnf install tmux

Arch Linux:
pacman -S tmux

macOS (Homebrew):
brew install tmux</code></pre>
      <h3>源码编译安装</h3>
      <pre><code>git clone https://github.com/tmux/tmux.git
cd tmux
sh autogen.sh
./configure
make
sudo make install</code></pre>
      <h3>验证安装版本</h3>
      <pre><code>tmux -V  # 显示 tmux 版本</code></pre>
    </article>

    <!-- 会话管理 (Sessions) -->
    <article class="card">
      <h2>会话管理 (Sessions)</h2>
      <h3>创建新会话</h3>
      <pre><code># 创建默认新会话
tmux

# 创建指定名称会话
tmux new -s mysession</code></pre>
      <h3>会话附加与分离</h3>
      <pre><code># 附加到默认或最后一个会话
tmux attach
tmux attach -t mysession

# 从当前会话分离
Ctrl + b, 然后 d</code></pre>
      <h3>会话列表和管理</h3>
      <pre><code>tmux ls          # 列出所有会话
tmux kill-session -t mysession  # 杀死指定会话
tmux kill-server   # 停止所有会话和服务器</code></pre>
      <h3>会话重命名和切换</h3>
      <pre><code>Ctrl + b,  $    # 重命名当前会话
Ctrl + b,  s    # 选择和切换会话</code></pre>
    </article>

    <!-- 窗口管理 (Windows) -->
    <article class="card">
      <h2>窗口管理 (Windows)</h2>
      <h3>创建与关闭窗口</h3>
      <pre><code>Ctrl + b,  c    # 创建新窗口
Ctrl + b,  &    # 关闭当前窗口</code></pre>
      <h3>窗口切换</h3>
      <pre><code>Ctrl + b,  n    # 下一个窗口
Ctrl + b,  p    # 上一个窗口
Ctrl + b,  w    # 显示窗口列表选择
Ctrl + b,  [0-9]  # 切换到指定编号窗口</code></pre>
      <h3>重命名和查找窗口</h3>
      <pre><code>Ctrl + b,  ,    # 重命名当前窗口
Ctrl + b,  f    # 搜索窗口名称或编号</code></pre>
    </article>

    <!-- 窗格管理 (Panes) -->
    <article class="card">
      <h2>窗格管理 (Panes)</h2>
      <h3>拆分窗格</h3>
      <pre><code>Ctrl + b,  "    # 水平拆分窗格
Ctrl + b,  %    # 垂直拆分窗格</code></pre>
      <h3>窗格切换</h3>
      <pre><code>Ctrl + b,  箭头键     # 在窗格间移动
Ctrl + b,  o    # 切换到下一个窗格</code></pre>
      <h3>调整窗格大小</h3>
      <pre><code>Ctrl + b,  Ctrl + 箭头键  # 调整当前窗格大小</code></pre>
      <h3>窗格操作</h3>
      <pre><code>Ctrl + b,  x    # 关闭当前窗格
Ctrl + b,  !    # 将窗格拆分为独立窗口
Ctrl + b,  z    # 最大化/恢复当前窗格</code></pre>
      <h3>同步窗格输入</h3>
      <pre><code>Ctrl + b,  :setw synchronize-panes on  # 开启同步输入
Ctrl + b,  :setw synchronize-panes off # 关闭同步输入</code></pre>
    </article>

    <!-- 复制模式 (Copy Mode) -->
    <article class="card">
      <h2>复制模式与文本操作 (Copy Mode)</h2>
      <h3>进入与退出复制模式</h3>
      <pre><code>Ctrl + b,  [   # 进入复制模式
ENTER           # 退出复制模式（复制时自动退出）</code></pre>
      <h3>移动光标与导航（Vim 模式）</h3>
      <pre><code># 在 .tmux.conf 中启用 vi 模式：
setw -g mode-keys vi

# 常用移动
h/j/k/l    # 左/下/上/右
w/b        # 下一个/上一个单词
0/$        # 行首/行尾
gg/G       # 文档首尾
Ctrl-d/u   # 半页下/上
Ctrl-f/b   # 下一页/上一页
/          # 搜索前向文本
?          # 搜索后向文本</code></pre>
      <h3>文本选择与复制</h3>
      <pre><code>空格键      # 开始选择
回车键      # 复制选中内容至缓冲区
Ctrl + b,  ] # 粘贴缓冲区内容</code></pre>
    </article>

    <!-- 配置文件 (.tmux.conf) -->
    <article class="card">
      <h2>配置文件 (.tmux.conf)</h2>
      <p>tmux 启动时读取此文件，实现个性化配置与快捷键自定义。</p>
      <pre><code># 修改前缀键为 Ctrl-a
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# 启用鼠标支持
set -g mouse on

# 状态栏美化
set -g status-bg colour235
set -g status-fg white
set -g status-left '[#S]'
set -g status-right '#(date +"%Y-%m-%d %H:%M")'

# 窗格编号从1开始
set -g pane-base-index 1

# 窗口编号从1开始
set -g base-index 1

# 启用vi模式复制
setw -g mode-keys vi

# 重新加载配置
bind r source-file ~/.tmux.conf \; display-message "配置已重新加载"
</code></pre>
    </article>

    <!-- 常用快捷键 -->
    <article class="card">
      <h2>常用快捷键一览</h2>
      <ul>
        <li><strong>Ctrl + b</strong>：默认前缀键（可自定义）</li>
        <li><strong>Ctrl + b, ?</strong>：显示所有快捷键列表</li>
        <li><strong>Ctrl + b, d</strong>：分离当前会话</li>
        <li><strong>Ctrl + b, c</strong>：新建窗口</li>
        <li><strong>Ctrl + b, n/p</strong>：下一个/上一个窗口</li>
        <li><strong>Ctrl + b, %, "</strong>：垂直/水平拆分窗格</li>
        <li><strong>Ctrl + b, o</strong>：切换到下一个窗格</li>
        <li><strong>Ctrl + b, x</strong>：关闭当前窗格</li>
        <li><strong>Ctrl + b, z</strong>：窗格最大化切换</li>
        <li><strong>Ctrl + b, [</strong>：进入复制模式</li>
        <li><strong>Ctrl + b, ]</strong>：粘贴缓冲区内容</li>
        <li><strong>Ctrl + b, &</strong>：关闭当前窗口</li>
        <li><strong>Ctrl + b, ,</strong>：重命名窗口</li>
        <li><strong>Ctrl + b, $</strong>：重命名会话</li>
      </ul>
    </article>

    <!-- 进阶功能 -->
    <article class="card">
      <h2>进阶功能与实用技巧</h2>
      <h3>鼠标支持</h3>
      <pre><code># 启用鼠标，方便窗口切换、选择、缩放
set -g mouse on</code></pre>
      <h3>会话自动恢复</h3>
      <p>使用 tmuxinator 或 teamocil 等工具管理会话配置，自动启动和恢复工作环境。</p>
      <h3>脚本与自动化</h3>
      <pre><code># 配合shell脚本自动管理tmux会话，例如：
tmux new-session -d -s mysession
tmux send-keys -t mysession 'vim' C-m
tmux attach -t mysession</code></pre>
      <h3>多行命令绑定</h3>
      <pre><code>bind-key r source-file ~/.tmux.conf \; display-message "Reloaded!"</code></pre>
      <h3>状态栏自定义示例</h3>
      <pre><code>set -g status-left "#[fg=green]#S #[fg=yellow]#(whoami) "
set -g status-right "#(date +'%Y-%m-%d %H:%M') #[fg=cyan]#H"</code></pre>
    </article>

  </section>

  <script>
    // 顶部滑块控制列宽
    const range = document.getElementById("colRange");
    const container = document.getElementById("container");
    range.addEventListener("input", () => {
      container.style.columnWidth = range.value + "px";
    });
  </script>
</body>
</html>