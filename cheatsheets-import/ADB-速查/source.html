<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111" />



  
  

  <title>ADB 命令速查表</title>

    <link rel="canonical" href="https://codepen.io/zeniok/pen/XJmPOjz">
  
  
  
  

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
</head>

<body translate="no">
  <!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>ADB 命令速查表（增强版）</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      * { box-sizing:border-box; margin:0; padding:0 }
      :root {
        --primary-color:#8250df;
        --bg-color:#ffffff;
        --text-color:#24292f;
        --border-color:#d0d7de;
        --code-bg:#f6f8fa;
        --sidebar-bg:#f6f8fa;
        --card-shadow:rgba(149,157,165,0.2)
      }
      body {
        background:var(--bg-color);
        color:var(--text-color);
        font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif;
        font-size:13px;
        line-height:1.2;
        padding:15px;
      }
      h1{font-size:16px;text-align:center;margin:15px 0 20px;position:relative;font-weight:600}
      h1::after{content:"";position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:120px;height:1px;background:var(--primary-color)}
      h2{font-size:14px;margin:12px 0 8px;padding-bottom:5px;border-bottom:1px solid var(--border-color);color:var(--primary-color);font-weight:600}
      h3{font-size:13px;margin:10px 0 5px;color:var(--primary-color);font-weight:600}
      .slider-box{margin:10px auto 15px;max-width:350px;display:flex;align-items:center;background:var(--sidebar-bg);border:1px solid var(--border-color);border-radius:15px;padding:8px 15px;box-shadow:0 1px 2px rgba(0,0,0,0.05)}
      .slider-box span{font-size:12px;margin-right:8px;color:var(--text-color);font-weight:600}
      .slider{width:150px;appearance:none;height:5px;background:var(--border-color);border-radius:2px;outline:none}
      .slider::-webkit-slider-thumb{appearance:none;width:15px;height:15px;background:var(--primary-color);border-radius:50%;cursor:pointer;box-shadow:0 1px 2px rgba(0,0,0,0.2)}
      ::selection{background:rgba(130,80,223,0.3)}
      .container{column-count:4;column-gap:15px;padding:0 5px 25px;transition:column-width .2s}
      @media(max-width:1100px){.container{column-count:3}}
      @media(max-width:800px){.container{column-count:2}}
      @media(max-width:500px){.container{column-count:1}}
      .card{background:var(--bg-color);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 1px 3px var(--card-shadow);margin-bottom:12px;padding:12px;break-inside:avoid;position:relative;overflow:hidden}
      .card::before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:var(--primary-color)}
      .card::after{content:"";position:absolute;bottom:0;right:0;width:20px;height:20px;background:linear-gradient(135deg,transparent 50%,var(--code-bg) 50%);pointer-events:none}
      .code-block{background:var(--code-bg);border:1px solid var(--border-color);border-radius:3px;padding:8px;font-size:11px;font-family:ui-monospace,Consolas,Menlo,monospace;line-height:1.3;margin:8px 0 5px;overflow-x:auto;white-space:pre}
      .desc{font-size:11px;color:#57606a;margin:6px 0;padding:6px 8px;border-left:2px solid var(--primary-color);background:var(--code-bg);border-radius:0 3px 3px 0}
      ul{padding-left:16px;margin:8px 0}
      li{margin-bottom:5px;padding-left:15px;position:relative}
      li::before{content:"•";position:absolute;left:0;color:var(--primary-color)}
      a{color:#0969da;text-decoration:none;border-bottom:1px dotted var(--border-color);transition:all .3s}
      a:hover{color:#0550ae;border-bottom:1px solid var(--primary-color)}
      a:visited{color:#6a5a8a}
    </style>
  </head>
  <body>
    <h1>ADB 命令速查表（增强版）</h1>
    <div class="slider-box">
      <span>列宽:</span>
      <input id="colWidthSlider" class="slider" type="range" min="250" max="500" value="300" oninput="resizeColumn(this.value)" />
      <span id="colShow">300px</span>
    </div>
    <div class="container" id="container">

      <div class="card">
        <h2>1. 原理与架构</h2>
        <ul>
          <li>客户端（Client）：运行在开发机，发送 adb 命令。</li>
          <li>守护进程（Daemon, adbd）：运行在设备上，执行命令。</li>
          <li>服务器（Server）：运行在开发机，管理 Client 与 Daemon 通信，监听 TCP 5037 端口。</li>
        </ul>
        <div class="desc">扫描 5555–5585 端口连接模拟器；每台设备/模拟器都与服务器建立 TCP 连接。</div>
      </div>

      <div class="card">
        <h2>2. 设备管理</h2>
        <ul>
          <li><code>adb devices[-l]</code>：列出所有设备及详信息。</li>
          <li><code>adb connect IP:端口</code> / <code>adb disconnect</code>：TCP/IP 连接/断开。</li>
          <li><code>adb tcpip 端口</code>：使设备监听指定端口用于无线调试。</li>
          <li><code>adb pair IP:端口</code>：Android 11+ 无线配对（QR code 或配对码）。</li>
          <li><code>adb kill-server</code> / <code>adb start-server</code>：停止/启动服务。</li>
        </ul>
      </div>

      <div class="card">
        <h2>3. 应用管理</h2>
        <h3>3.1 安装与卸载</h3>
        <ul>
          <li><code>adb install [-r|-t|-g] apk路径</code>：安装/重装/授权安装。</li>
          <li><code>adb install-multiple apk1 apk2 …</code>：分包安装。</li>
          <li><code>adb uninstall [-k] 包名</code>：卸载，可保留数据。</li>
          <li><code>adb shell pm clear 包名</code>：清除应用数据。</li>
        </ul>
        <h3>3.2 查询与权限</h3>
        <ul>
          <li><code>adb shell pm list packages [关键字]</code>：列出包。</li>
          <li><code>adb shell pm path 包名</code>：查看 APK 路径。</li>
          <li><code>adb shell pm grant/revoke 包名 权限</code>：授予/撤销运行时权限。</li>
        </ul>
      </div>

      <div class="card">
        <h2>4. Shell 操作</h2>
        <h3>4.1 交互与执行</h3>
        <ul>
          <li><code>adb shell</code>：开启交互 Shell。</li>
          <li><code>adb shell &lt;命令&gt;</code>：执行单条。</li>
          <li><code>adb [-d|-e|-s 序列号] shell</code>：指定设备。</li>
        </ul>
        <h3>4.2 常用工具</h3>
        <ul>
          <li><code>adb shell ls /system/bin</code>：列举工具。</li>
          <li><code>adb shell toybox --help</code>：toybox 工具集合帮助。</li>
        </ul>
      </div>

      <div class="card">
        <h2>5. 网络调试与端口转发</h2>
        <h3>5.1 正向/反向</h3>
        <ul>
          <li><code>adb forward tcp:本地  tcp:设备</code>：正向转发。</li>
          <li><code>adb reverse tcp:设备 tcp:本地</code>：反向转发（adb 1.0.32+）。</li>
          <li><code>adb forward --remove tcp:端口</code>：移除映射。</li>
        </ul>
        <h3>5.2 示例</h3>
        <div class="code-block">
// 正向：将主机456→设备456
adb forward tcp:456 tcp:456

// 反向：将设备9090→主机9090
adb reverse tcp:9090 tcp:9090
        </div>
      </div>

      <div class="card">
        <h2>6. 文件与数据</h2>
        <ul>
          <li><code>adb push 本地路径 设备路径</code>：上传文件/目录。</li>
          <li><code>adb pull 设备路径 本地路径</code>：下载文件/目录。</li>
          <li><code>adb shell sqlite3 数据库路径</code>：SQLite3 访问（需 root/模拟器）。</li>
          <li><code>adb shell cmd package dump-profiles 包名</code>：导出 ART 性能配置。</li>
        </ul>
      </div>

      <div class="card">
        <h2>7. 日志与诊断</h2>
        <ul>
          <li><code>adb logcat [选项]</code>：查看/过滤系统日志。</li>
          <li><code>adb bugreport</code>：生成全面故障报告。</li>
          <li><code>adb shell dumpsys [service]</code>：查看系统服务状态（meminfo、window、battery…）。</li>
          <li><code>adb shell cmd testharness enable</code>：启用测试恢复环境（Android 10+）。</li>
        </ul>
      </div>

      <div class="card">
        <h2>8. 屏幕截图与录制</h2>
        <ul>
          <li><code>adb shell screencap /sdcard/屏幕.png</code>：截图。</li>
          <li><code>adb shell screenrecord [--size WxH] [--bit-rate B] [--time-limit S] /sdcard/录制.mp4</code>：录屏（最长180s）。</li>
        </ul>
      </div>

      <div class="card">
        <h2>9. 高级管理</h2>
        <h3>9.1 Activity Manager (am)</h3>
        <ul>
          <li><code>adb shell am start -n 包名/.Activity</code>：启动组件。</li>
          <li><code>adb shell am broadcast -a Intent.Action.XXX</code>：发送广播。</li>
          <li><code>adb shell am force-stop 包名</code>：强制停止应用。</li>
          <li><code>adb shell am display-size/reset WxH</code>：修改屏幕分辨率。</li>
        </ul>
        <h3>9.2 Package Manager (pm)</h3>
        <ul>
          <li><code>adb shell pm list users|features|libraries</code>：列举用户/功能/库。</li>
          <li><code>adb shell pm get-install-location</code> / <code>set-install-location x</code>：查询/设置默认安装位置。</li>
          <li><code>adb shell pm grant/revoke 包名 权限</code>：管理权限。</li>
        </ul>
        <h3>9.3 Device Policy Manager (dpm)</h3>
        <ul>
          <li><code>adb shell dpm set-device-owner Component</code>：设为设备所有者。</li>
          <li><code>adb shell dpm remove-active-admin Component</code>：移除管理员。</li>
        </ul>
      </div>

      <div class="card">
        <h2>10. 环境与后端</h2>
        <ul>
          <li><code>ADB_LIBUSB=1</code>：使用 libusb 后端，可支持 attach/detach。</li>
          <li>mDNS 后端：Bonjour 或 Openscreen，需 mdnsd 守护进程。</li>
        </ul>
        <div class="desc">
          本地文档：<code>&lt;SDK&gt;/platform-tools/adb</code><br/>
          在线文档：<a href="https://developer.android.com/studio/command-line/adb.html" target="_blank">Android Studio ADB 文档</a>
        </div>
      </div>

    </div>
    <script>
      function resizeColumn(px) {
        const c = document.getElementById('container');
        c.style.columnWidth = px + 'px';
        document.getElementById('colShow').innerText = px + 'px';
        c.style.display = 'none'; void c.offsetHeight; c.style.display = 'block';
      }
      resizeColumn(300);
    </script>
  </body>
</html>
  
  
  
</body>

</html>