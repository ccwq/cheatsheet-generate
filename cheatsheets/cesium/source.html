<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111" />



  
  

  <title>CesiumJS速查表</title>

    <link rel="canonical" href="https://codepen.io/zeniok/pen/OPybjLN">
  
  
  
  

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
</head>

<body translate="no">
  <!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CesiumJS 速查表 | 3D地球开发完整参考</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #3b82c4 100%);
            color: #333;
            line-height: 1.3;
            min-height: 100vh;
            font-size: 13px;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 15px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 30px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .header p {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .masonry-container {
            column-count: 4;
            column-gap: 20px;
            column-fill: balance;
        }

        @media (max-width: 1400px) {
            .masonry-container { column-count: 3; }
        }

        @media (max-width: 1000px) {
            .masonry-container { column-count: 2; }
        }

        @media (max-width: 600px) {
            .masonry-container { column-count: 1; }
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            break-inside: avoid;
            display: inline-block;
            width: 100%;
        }

        .section h2 {
            color: #1e3c72;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 8px;
            line-height: 1.2;
        }

        .section h2::after {
            content: "→";
            margin-left: auto;
            color: #3b82c4;
            font-weight: bold;
        }

        .section h3 {
            color: #555;
            font-size: 1.1rem;
            margin: 12px 0 8px 0;
            border-left: 3px solid #1e3c72;
            padding-left: 8px;
        }

        .code-block {
            background: #1e1e2e;
            border-radius: 8px;
            margin: 10px 0;
            overflow: hidden;
            position: relative;
        }

        .code-header {
            background: #2d2d44;
            padding: 6px 12px;
            font-size: 0.8rem;
            color: #a6a6a6;
            border-bottom: 1px solid #3a3a54;
        }

        pre {
            margin: 0;
            padding: 12px;
            overflow-x: auto;
            font-size: 0.8rem;
            line-height: 1.3;
        }

        code {
            color: #cdd6f4;
            font-family: 'Fira Code', 'Consolas', monospace;
        }

        .highlight { color: #f38ba8; }
        .string { color: #a6e3a1; }
        .comment { color: #6c7086; font-style: italic; }
        .keyword { color: #cba6f7; }
        .method { color: #89b4fa; }
        .number { color: #fab387; }

        .copy-btn {
            position: absolute;
            top: 6px;
            right: 8px;
            background: #1e3c72;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.7rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .code-block:hover .copy-btn {
            opacity: 1;
        }

        .copy-btn:hover {
            background: #3b82c4;
        }

        .footer {
            text-align: center;
            color: white;
            padding: 25px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            margin-top: 30px;
        }

        .tag {
            display: inline-block;
            background: #1e3c72;
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.7rem;
            margin: 2px;
        }

        .api-list {
            font-size: 0.75rem;
            line-height: 1.4;
            margin: 8px 0;
        }

        .api-list li {
            margin: 3px 0;
            padding-left: 10px;
            border-left: 2px solid #e0e0e0;
        }

        .note {
            background: #f8f9fa;
            border-left: 4px solid #1e3c72;
            padding: 8px 12px;
            margin: 10px 0;
            font-size: 0.75rem;
            border-radius: 0 6px 6px 0;
        }

        .quick-ref {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 8px;
            border-radius: 6px;
            margin: 8px 0;
            font-size: 0.75rem;
        }

        .warning {
            background: #fff5f5;
            border-left: 4px solid #e53e3e;
            padding: 8px 12px;
            margin: 10px 0;
            font-size: 0.75rem;
            border-radius: 0 6px 6px 0;
        }

        .tip {
            background: #f0fff4;
            border-left: 4px solid #38a169;
            padding: 8px 12px;
            margin: 10px 0;
            font-size: 0.75rem;
            border-radius: 0 6px 6px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>CesiumJS 3D地球速查表</h1>
            <p>三维地理信息可视化开发完整API参考 - WebGL虚拟地球引擎</p>
            <div style="margin-top: 15px;">
                <span class="tag">场景创建</span>
                <span class="tag">相机控制</span>
                <span class="tag">实体系统</span>
                <span class="tag">材质贴图</span>
                <span class="tag">数据源</span>
                <span class="tag">3D模型</span>
                <span class="tag">地形处理</span>
                <span class="tag">粒子效果</span>
                <span class="tag">性能优化</span>
            </div>
        </header>

        <div class="masonry-container">
            
            <!-- 基础场景设置 -->
            <section class="section">
                <h2>基础场景设置</h2>
                <h3>创建Viewer</h3>
                <div class="code-block">
                    <div class="code-header">基础场景创建</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 基础Viewer创建</span>
<span class="keyword">const</span> <span class="highlight">viewer</span> = <span class="keyword">new</span> <span class="method">Cesium.Viewer</span>(<span class="string">'cesiumContainer'</span>, {
    <span class="comment">// 地形提供商</span>
    <span class="highlight">terrainProvider</span>: <span class="method">Cesium.createWorldTerrain</span>(),
    
    <span class="comment">// 影像图层</span>
    <span class="highlight">imageryProvider</span>: <span class="keyword">new</span> <span class="method">Cesium.BingMapsImageryProvider</span>({
        <span class="highlight">url</span>: <span class="string">'https://dev.virtualearth.net'</span>,
        <span class="highlight">key</span>: <span class="string">'YOUR_BING_MAPS_KEY'</span>,
        <span class="highlight">mapStyle</span>: <span class="method">Cesium.BingMapsStyle.AERIAL</span>
    }),
    
    <span class="comment">// UI控件</span>
    <span class="highlight">homeButton</span>: <span class="keyword">true</span>,
    <span class="highlight">sceneModePicker</span>: <span class="keyword">true</span>,
    <span class="highlight">baseLayerPicker</span>: <span class="keyword">true</span>,
    <span class="highlight">navigationHelpButton</span>: <span class="keyword">true</span>,
    <span class="highlight">animation</span>: <span class="keyword">true</span>,
    <span class="highlight">timeline</span>: <span class="keyword">true</span>,
    <span class="highlight">fullscreenButton</span>: <span class="keyword">true</span>,
    <span class="highlight">vrButton</span>: <span class="keyword">false</span>,
    
    <span class="comment">// 渲染选项</span>
    <span class="highlight">shadows</span>: <span class="keyword">true</span>,
    <span class="highlight">terrainShadows</span>: <span class="method">Cesium.ShadowMode.RECEIVE_ONLY</span>,
    <span class="highlight">requestRenderMode</span>: <span class="keyword">true</span>,
    <span class="highlight">maximumRenderTimeChange</span>: <span class="number">Infinity</span>
});

<span class="comment">// 启用深度测试</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">depthTestAgainstTerrain</span> = <span class="keyword">true</span>;</code></pre>
                </div>

                <h3>场景配置</h3>
                <div class="code-block">
                    <div class="code-header">场景环境设置</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 场景模式</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">mode</span> = <span class="method">Cesium.SceneMode.SCENE3D</span>; <span class="comment">// 3D模式</span>
<span class="comment">// Cesium.SceneMode.SCENE2D - 2D模式</span>
<span class="comment">// Cesium.SceneMode.COLUMBUS_VIEW - 哥伦布视图</span>

<span class="comment">// 背景和大气</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">skyBox</span> = <span class="keyword">new</span> <span class="method">Cesium.SkyBox</span>({
    <span class="highlight">sources</span>: {
        <span class="highlight">positiveX</span>: <span class="string">'path/to/right.jpg'</span>,
        <span class="highlight">negativeX</span>: <span class="string">'path/to/left.jpg'</span>,
        <span class="highlight">positiveY</span>: <span class="string">'path/to/top.jpg'</span>,
        <span class="highlight">negativeY</span>: <span class="string">'path/to/bottom.jpg'</span>,
        <span class="highlight">positiveZ</span>: <span class="string">'path/to/front.jpg'</span>,
        <span class="highlight">negativeZ</span>: <span class="string">'path/to/back.jpg'</span>
    }
});

<span class="comment">// 大气效果</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">skyAtmosphere</span>.<span class="highlight">show</span> = <span class="keyword">true</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">fog</span>.<span class="highlight">enabled</span> = <span class="keyword">true</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">fog</span>.<span class="highlight">density</span> = <span class="number">0.0002</span>;</code></pre>
                </div>
            </section>

            <!-- 相机控制 -->
            <section class="section">
                <h2>相机控制</h2>
                <h3>相机位置</h3>
                <div class="code-block">
                    <div class="code-header">相机定位</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 设置相机位置</span>
<span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">setView</span>({
    <span class="highlight">destination</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>, <span class="number">15000</span>),
    <span class="highlight">orientation</span>: {
        <span class="highlight">heading</span>: <span class="method">Cesium.Math.toRadians</span>(<span class="number">0</span>), <span class="comment">// 方位角</span>
        <span class="highlight">pitch</span>: <span class="method">Cesium.Math.toRadians</span>(<span class="number">-90</span>), <span class="comment">// 俯仰角</span>
        <span class="highlight">roll</span>: <span class="number">0.0</span> <span class="comment">// 翻滚角</span>
    }
});

<span class="comment">// 直接设置位置</span>
<span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="highlight">position</span> = <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>, <span class="number">1000</span>);

<span class="comment">// 查看矩形区域</span>
<span class="keyword">const</span> <span class="highlight">rectangle</span> = <span class="method">Cesium.Rectangle.fromDegrees</span>(<span class="number">110</span>, <span class="number">20</span>, <span class="number">120</span>, <span class="number">30</span>);
<span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">flyTo</span>({
    <span class="highlight">destination</span>: <span class="highlight">rectangle</span>
});</code></pre>
                </div>

                <h3>相机飞行</h3>
                <div class="code-block">
                    <div class="code-header">平滑飞行动画</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 飞行到指定位置</span>
<span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">flyTo</span>({
    <span class="highlight">destination</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">-75.62898</span>, <span class="number">40.02703</span>, <span class="number">300</span>),
    <span class="highlight">orientation</span>: {
        <span class="highlight">heading</span>: <span class="method">Cesium.Math.toRadians</span>(<span class="number">20.0</span>),
        <span class="highlight">pitch</span>: <span class="method">Cesium.Math.toRadians</span>(<span class="number">-35.0</span>),
    },
    <span class="highlight">duration</span>: <span class="number">3.0</span>, <span class="comment">// 飞行时间(秒)</span>
    <span class="highlight">complete</span>: <span class="keyword">function</span>() {
        <span class="method">console.log</span>(<span class="string">'飞行完成'</span>);
    }
});

<span class="comment">// 飞行到实体</span>
<span class="highlight">viewer</span>.<span class="method">flyTo</span>(<span class="highlight">entity</span>);

<span class="comment">// 跟踪实体</span>
<span class="highlight">viewer</span>.<span class="method">trackedEntity</span> = <span class="highlight">entity</span>;

<span class="comment">// 缩放到实体</span>
<span class="highlight">viewer</span>.<span class="method">zoomTo</span>(<span class="highlight">entity</span>);</code></pre>
                </div>

                <h3>相机事件</h3>
                <div class="code-block">
                    <div class="code-header">相机交互事件</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 相机移动事件</span>
<span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="highlight">moveStart</span>.<span class="method">addEventListener</span>(<span class="keyword">function</span>() {
    <span class="method">console.log</span>(<span class="string">'相机开始移动'</span>);
});

<span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="highlight">moveEnd</span>.<span class="method">addEventListener</span>(<span class="keyword">function</span>() {
    <span class="method">console.log</span>(<span class="string">'相机移动结束'</span>);
});

<span class="comment">// 相机改变事件</span>
<span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="highlight">changed</span>.<span class="method">addEventListener</span>(<span class="keyword">function</span>() {
    <span class="keyword">const</span> <span class="highlight">position</span> = <span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="highlight">position</span>;
    <span class="keyword">const</span> <span class="highlight">cartographic</span> = <span class="method">Cesium.Cartographic.fromCartesian</span>(<span class="highlight">position</span>);
    <span class="keyword">const</span> <span class="highlight">longitude</span> = <span class="method">Cesium.Math.toDegrees</span>(<span class="highlight">cartographic</span>.<span class="highlight">longitude</span>);
    <span class="keyword">const</span> <span class="highlight">latitude</span> = <span class="method">Cesium.Math.toDegrees</span>(<span class="highlight">cartographic</span>.<span class="highlight">latitude</span>);
    <span class="keyword">const</span> <span class="highlight">height</span> = <span class="highlight">cartographic</span>.<span class="highlight">height</span>;
    
    <span class="method">console.log</span>(<span class="string">`位置: ${longitude}, ${latitude}, ${height}`</span>);
});</code></pre>
                </div>
            </section>

            <!-- 实体系统 -->
            <section class="section">
                <h2>实体系统</h2>
                <h3>基础实体</h3>
                <div class="code-block">
                    <div class="code-header">创建实体对象</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 创建点实体</span>
<span class="keyword">const</span> <span class="highlight">pointEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">name</span>: <span class="string">'北京'</span>,
    <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>),
    <span class="highlight">point</span>: {
        <span class="highlight">pixelSize</span>: <span class="number">10</span>,
        <span class="highlight">color</span>: <span class="method">Cesium.Color.YELLOW</span>,
        <span class="highlight">outlineColor</span>: <span class="method">Cesium.Color.BLACK</span>,
        <span class="highlight">outlineWidth</span>: <span class="number">2</span>,
        <span class="highlight">heightReference</span>: <span class="method">Cesium.HeightReference.CLAMP_TO_GROUND</span>
    }
});

<span class="comment">// 创建广告牌实体</span>
<span class="keyword">const</span> <span class="highlight">billboardEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>),
    <span class="highlight">billboard</span>: {
        <span class="highlight">image</span>: <span class="string">'path/to/image.png'</span>,
        <span class="highlight">width</span>: <span class="number">64</span>,
        <span class="highlight">height</span>: <span class="number">64</span>,
        <span class="highlight">scale</span>: <span class="number">1.0</span>,
        <span class="highlight">verticalOrigin</span>: <span class="method">Cesium.VerticalOrigin.BOTTOM</span>,
        <span class="highlight">pixelOffset</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian2</span>(<span class="number">0</span>, <span class="number">-50</span>)
    }
});

<span class="comment">// 创建标签实体</span>
<span class="keyword">const</span> <span class="highlight">labelEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>),
    <span class="highlight">label</span>: {
        <span class="highlight">text</span>: <span class="string">'北京市'</span>,
        <span class="highlight">font</span>: <span class="string">'12pt monospace'</span>,
        <span class="highlight">fillColor</span>: <span class="method">Cesium.Color.WHITE</span>,
        <span class="highlight">outlineColor</span>: <span class="method">Cesium.Color.BLACK</span>,
        <span class="highlight">outlineWidth</span>: <span class="number">2</span>,
        <span class="highlight">style</span>: <span class="method">Cesium.LabelStyle.FILL_AND_OUTLINE</span>,
        <span class="highlight">pixelOffset</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian2</span>(<span class="number">0</span>, <span class="number">-40</span>)
    }
});</code></pre>
                </div>

                <h3>几何实体</h3>
                <div class="code-block">
                    <div class="code-header">几何图形实体</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 多边形实体</span>
<span class="keyword">const</span> <span class="highlight">polygonEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">polygon</span>: {
        <span class="highlight">hierarchy</span>: <span class="method">Cesium.Cartesian3.fromDegreesArray</span>([
            <span class="number">116.3</span>, <span class="number">39.8</span>,
            <span class="number">116.5</span>, <span class="number">39.8</span>,
            <span class="number">116.5</span>, <span class="number">40.0</span>,
            <span class="number">116.3</span>, <span class="number">40.0</span>
        ]),
        <span class="highlight">material</span>: <span class="method">Cesium.Color.RED</span>.<span class="method">withAlpha</span>(<span class="number">0.5</span>),
        <span class="highlight">outline</span>: <span class="keyword">true</span>,
        <span class="highlight">outlineColor</span>: <span class="method">Cesium.Color.RED</span>,
        <span class="highlight">extrudedHeight</span>: <span class="number">30000</span> <span class="comment">// 拉伸高度</span>
    }
});

<span class="comment">// 折线实体</span>
<span class="keyword">const</span> <span class="highlight">polylineEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">polyline</span>: {
        <span class="highlight">positions</span>: <span class="method">Cesium.Cartesian3.fromDegreesArray</span>([
            <span class="number">116.2</span>, <span class="number">39.8</span>,
            <span class="number">116.6</span>, <span class="number">40.0</span>,
            <span class="number">117.0</span>, <span class="number">40.2</span>
        ]),
        <span class="highlight">width</span>: <span class="number">5</span>,
        <span class="highlight">material</span>: <span class="method">Cesium.Color.CYAN</span>,
        <span class="highlight">clampToGround</span>: <span class="keyword">true</span>
    }
});

<span class="comment">// 圆形实体</span>
<span class="keyword">const</span> <span class="highlight">circleEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>),
    <span class="highlight">ellipse</span>: {
        <span class="highlight">semiMinorAxis</span>: <span class="number">1000</span>,
        <span class="highlight">semiMajorAxis</span>: <span class="number">1500</span>,
        <span class="highlight">material</span>: <span class="method">Cesium.Color.BLUE</span>.<span class="method">withAlpha</span>(<span class="number">0.3</span>),
        <span class="highlight">outline</span>: <span class="keyword">true</span>,
        <span class="highlight">outlineColor</span>: <span class="method">Cesium.Color.BLUE</span>
    }
});</code></pre>
                </div>

                <h3>3D几何体</h3>
                <div class="code-block">
                    <div class="code-header">立体几何实体</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 盒子实体</span>
<span class="keyword">const</span> <span class="highlight">boxEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>, <span class="number">250</span>),
    <span class="highlight">box</span>: {
        <span class="highlight">dimensions</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian3</span>(<span class="number">400</span>, <span class="number">300</span>, <span class="number">500</span>),
        <span class="highlight">material</span>: <span class="method">Cesium.Color.GREEN</span>
    }
});

<span class="comment">// 圆柱体实体</span>
<span class="keyword">const</span> <span class="highlight">cylinderEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>, <span class="number">250</span>),
    <span class="highlight">cylinder</span>: {
        <span class="highlight">length</span>: <span class="number">400</span>,
        <span class="highlight">topRadius</span>: <span class="number">200</span>,
        <span class="highlight">bottomRadius</span>: <span class="number">200</span>,
        <span class="highlight">material</span>: <span class="method">Cesium.Color.ORANGE</span>
    }
});

<span class="comment">// 球体实体</span>
<span class="keyword">const</span> <span class="highlight">sphereEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>, <span class="number">250</span>),
    <span class="highlight">ellipsoid</span>: {
        <span class="highlight">radii</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian3</span>(<span class="number">200</span>, <span class="number">200</span>, <span class="number">300</span>),
        <span class="highlight">material</span>: <span class="method">Cesium.Color.PURPLE</span>
    }
});</code></pre>
                </div>
            </section>

            <!-- 材质与外观 -->
            <section class="section">
                <h2>材质与外观</h2>
                <h3>基础材质</h3>
                <div class="code-block">
                    <div class="code-header">材质系统</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 颜色材质</span>
<span class="keyword">const</span> <span class="highlight">colorMaterial</span> = <span class="method">Cesium.Color.RED</span>;

<span class="comment">// 图像材质</span>
<span class="keyword">const</span> <span class="highlight">imageMaterial</span> = <span class="keyword">new</span> <span class="method">Cesium.ImageMaterialProperty</span>({
    <span class="highlight">image</span>: <span class="string">'path/to/texture.jpg'</span>,
    <span class="highlight">repeat</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian2</span>(<span class="number">2</span>, <span class="number">2</span>)
});

<span class="comment">// 棋盘格材质</span>
<span class="keyword">const</span> <span class="highlight">checkerboardMaterial</span> = <span class="keyword">new</span> <span class="method">Cesium.CheckerboardMaterialProperty</span>({
    <span class="highlight">evenColor</span>: <span class="method">Cesium.Color.WHITE</span>,
    <span class="highlight">oddColor</span>: <span class="method">Cesium.Color.BLACK</span>,
    <span class="highlight">repeat</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian2</span>(<span class="number">4</span>, <span class="number">4</span>)
});

<span class="comment">// 条纹材质</span>
<span class="keyword">const</span> <span class="highlight">stripeMaterial</span> = <span class="keyword">new</span> <span class="method">Cesium.StripeMaterialProperty</span>({
    <span class="highlight">evenColor</span>: <span class="method">Cesium.Color.WHITE</span>,
    <span class="highlight">oddColor</span>: <span class="method">Cesium.Color.BLUE</span>,
    <span class="highlight">repeat</span>: <span class="number">16</span>,
    <span class="highlight">offset</span>: <span class="number">0</span>,
    <span class="highlight">orientation</span>: <span class="method">Cesium.StripeOrientation.HORIZONTAL</span>
});

<span class="comment">// 网格材质</span>
<span class="keyword">const</span> <span class="highlight">gridMaterial</span> = <span class="keyword">new</span> <span class="method">Cesium.GridMaterialProperty</span>({
    <span class="highlight">color</span>: <span class="method">Cesium.Color.YELLOW</span>,
    <span class="highlight">cellAlpha</span>: <span class="number">0.2</span>,
    <span class="highlight">lineCount</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian2</span>(<span class="number">8</span>, <span class="number">8</span>),
    <span class="highlight">lineThickness</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian2</span>(<span class="number">2.0</span>, <span class="number">2.0</span>)
});</code></pre>
                </div>

                <h3>动态材质</h3>
                <div class="code-block">
                    <div class="code-header">动画材质效果</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 动态颜色材质</span>
<span class="keyword">const</span> <span class="highlight">dynamicColor</span> = <span class="keyword">new</span> <span class="method">Cesium.ColorMaterialProperty</span>(
    <span class="keyword">new</span> <span class="method">Cesium.TimeIntervalCollectionProperty</span>()
);

<span class="comment">// 添加时间间隔颜色</span>
<span class="highlight">dynamicColor</span>.<span class="highlight">intervals</span>.<span class="method">addInterval</span>(<span class="keyword">new</span> <span class="method">Cesium.TimeInterval</span>({
    <span class="highlight">start</span>: <span class="method">Cesium.JulianDate.now</span>(),
    <span class="highlight">stop</span>: <span class="method">Cesium.JulianDate.addSeconds</span>(<span class="method">Cesium.JulianDate.now</span>(), <span class="number">10</span>, <span class="keyword">new</span> <span class="method">Cesium.JulianDate</span>()),
    <span class="highlight">data</span>: <span class="method">Cesium.Color.RED</span>
}));

<span class="comment">// 脉冲材质</span>
<span class="keyword">const</span> <span class="highlight">pulseMaterial</span> = <span class="keyword">new</span> <span class="method">Cesium.ColorMaterialProperty</span>(
    <span class="keyword">new</span> <span class="method">Cesium.SampledProperty</span>(<span class="method">Cesium.Color</span>)
);

<span class="comment">// 添加颜色采样点</span>
<span class="keyword">const</span> <span class="highlight">time</span> = <span class="method">Cesium.JulianDate.now</span>();
<span class="highlight">pulseMaterial</span>.<span class="highlight">color</span>.<span class="method">addSample</span>(<span class="highlight">time</span>, <span class="method">Cesium.Color.RED</span>);
<span class="highlight">pulseMaterial</span>.<span class="highlight">color</span>.<span class="method">addSample</span>(
    <span class="method">Cesium.JulianDate.addSeconds</span>(<span class="highlight">time</span>, <span class="number">1</span>, <span class="keyword">new</span> <span class="method">Cesium.JulianDate</span>()),
    <span class="method">Cesium.Color.BLUE</span>
);</code></pre>
                </div>
            </section>

            <!-- 数据源管理 -->
            <section class="section">
                <h2>数据源管理</h2>
                <h3>GeoJSON数据</h3>
                <div class="code-block">
                    <div class="code-header">加载GeoJSON</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 加载GeoJSON数据源</span>
<span class="keyword">const</span> <span class="highlight">geoJsonDataSource</span> = <span class="method">Cesium.GeoJsonDataSource.load</span>(<span class="string">'data/sample.geojson'</span>, {
    <span class="highlight">stroke</span>: <span class="method">Cesium.Color.HOTPINK</span>,
    <span class="highlight">fill</span>: <span class="method">Cesium.Color.PINK</span>.<span class="method">withAlpha</span>(<span class="number">0.5</span>),
    <span class="highlight">strokeWidth</span>: <span class="number">3</span>,
    <span class="highlight">markerSymbol</span>: <span class="string">'?'</span>
}).<span class="method">then</span>(<span class="keyword">function</span>(<span class="highlight">dataSource</span>) {
    <span class="highlight">viewer</span>.<span class="highlight">dataSources</span>.<span class="method">add</span>(<span class="highlight">dataSource</span>);
    
    <span class="comment">// 自定义实体样式</span>
    <span class="keyword">const</span> <span class="highlight">entities</span> = <span class="highlight">dataSource</span>.<span class="highlight">entities</span>.<span class="highlight">values</span>;
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="highlight">i</span> = <span class="number">0</span>; <span class="highlight">i</span> &lt; <span class="highlight">entities</span>.<span class="highlight">length</span>; <span class="highlight">i</span>++) {
        <span class="keyword">const</span> <span class="highlight">entity</span> = <span class="highlight">entities</span>[<span class="highlight">i</span>];
        <span class="keyword">if</span> (<span class="highlight">entity</span>.<span class="highlight">polygon</span>) {
            <span class="highlight">entity</span>.<span class="highlight">polygon</span>.<span class="highlight">extrudedHeight</span> = <span class="number">1000</span>;
        }
    }
    
    <span class="highlight">viewer</span>.<span class="method">flyTo</span>(<span class="highlight">dataSource</span>);
});</code></pre>
                </div>

                <h3>KML数据</h3>
                <div class="code-block">
                    <div class="code-header">加载KML数据源</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 加载KML数据源</span>
<span class="keyword">const</span> <span class="highlight">kmlDataSource</span> = <span class="method">Cesium.KmlDataSource.load</span>(<span class="string">'data/sample.kml'</span>, {
    <span class="highlight">camera</span>: <span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">camera</span>,
    <span class="highlight">canvas</span>: <span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">canvas</span>
}).<span class="method">then</span>(<span class="keyword">function</span>(<span class="highlight">dataSource</span>) {
    <span class="highlight">viewer</span>.<span class="highlight">dataSources</span>.<span class="method">add</span>(<span class="highlight">dataSource</span>);
    <span class="highlight">viewer</span>.<span class="method">flyTo</span>(<span class="highlight">dataSource</span>);
});</code></pre>
                </div>

                <h3>CZML数据</h3>
                <div class="code-block">
                    <div class="code-header">加载CZML时间数据</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 加载CZML数据源</span>
<span class="keyword">const</span> <span class="highlight">czmlDataSource</span> = <span class="method">Cesium.CzmlDataSource.load</span>(<span class="string">'data/vehicle.czml'</span>)
.<span class="method">then</span>(<span class="keyword">function</span>(<span class="highlight">dataSource</span>) {
    <span class="highlight">viewer</span>.<span class="highlight">dataSources</span>.<span class="method">add</span>(<span class="highlight">dataSource</span>);
    
    <span class="comment">// 设置时间轴</span>
    <span class="highlight">viewer</span>.<span class="highlight">timeline</span>.<span class="highlight">zoomTo</span>(
        <span class="highlight">dataSource</span>.<span class="highlight">clock</span>.<span class="highlight">startTime</span>,
        <span class="highlight">dataSource</span>.<span class="highlight">clock</span>.<span class="highlight">stopTime</span>
    );
    
    <span class="comment">// 启动时间动画</span>
    <span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">shouldAnimate</span> = <span class="keyword">true</span>;
    
    <span class="highlight">viewer</span>.<span class="method">flyTo</span>(<span class="highlight">dataSource</span>);
});</code></pre>
                </div>

                <h3>自定义数据源</h3>
                <div class="code-block">
                    <div class="code-header">创建自定义数据源</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 创建自定义数据源</span>
<span class="keyword">const</span> <span class="highlight">customDataSource</span> = <span class="keyword">new</span> <span class="method">Cesium.CustomDataSource</span>(<span class="string">'myData'</span>);

<span class="comment">// 添加实体到数据源</span>
<span class="keyword">for</span> (<span class="keyword">let</span> <span class="highlight">i</span> = <span class="number">0</span>; <span class="highlight">i</span> &lt; <span class="number">100</span>; <span class="highlight">i</span>++) {
    <span class="keyword">const</span> <span class="highlight">longitude</span> = <span class="method">Math.random</span>() * <span class="number">360</span> - <span class="number">180</span>;
    <span class="keyword">const</span> <span class="highlight">latitude</span> = <span class="method">Math.random</span>() * <span class="number">180</span> - <span class="number">90</span>;
    
    <span class="highlight">customDataSource</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
        <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="highlight">longitude</span>, <span class="highlight">latitude</span>),
        <span class="highlight">point</span>: {
            <span class="highlight">pixelSize</span>: <span class="number">5</span>,
            <span class="highlight">color</span>: <span class="method">Cesium.Color.fromRandom</span>()
        }
    });
}

<span class="comment">// 添加到viewer</span>
<span class="highlight">viewer</span>.<span class="highlight">dataSources</span>.<span class="method">add</span>(<span class="highlight">customDataSource</span>);</code></pre>
                </div>
            </section>

            <!-- 图像图层 -->
            <section class="section">
                <h2>图像图层</h2>
                <h3>影像提供商</h3>
                <div class="code-block">
                    <div class="code-header">不同影像源</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// OpenStreetMap提供商</span>
<span class="keyword">const</span> <span class="highlight">osmProvider</span> = <span class="keyword">new</span> <span class="method">Cesium.OpenStreetMapImageryProvider</span>({
    <span class="highlight">url</span>: <span class="string">'https://a.tile.openstreetmap.org/'</span>
});

<span class="comment">// Bing Maps提供商</span>
<span class="keyword">const</span> <span class="highlight">bingProvider</span> = <span class="keyword">new</span> <span class="method">Cesium.BingMapsImageryProvider</span>({
    <span class="highlight">url</span>: <span class="string">'https://dev.virtualearth.net'</span>,
    <span class="highlight">key</span>: <span class="string">'YOUR_BING_MAPS_KEY'</span>,
    <span class="highlight">mapStyle</span>: <span class="method">Cesium.BingMapsStyle.AERIAL_WITH_LABELS</span>
});

<span class="comment">// Google Earth Enterprise提供商</span>
<span class="keyword">const</span> <span class="highlight">googleProvider</span> = <span class="keyword">new</span> <span class="method">Cesium.GoogleEarthEnterpriseImageryProvider</span>({
    <span class="highlight">url</span>: <span class="string">'http://www.earthenterprise.org/3d'</span>
});

<span class="comment">// TMS提供商</span>
<span class="keyword">const</span> <span class="highlight">tmsProvider</span> = <span class="keyword">new</span> <span class="method">Cesium.TileMapServiceImageryProvider</span>({
    <span class="highlight">url</span>: <span class="string">'../images/cesium_maptiler'</span>
});

<span class="comment">// WMS提供商</span>
<span class="keyword">const</span> <span class="highlight">wmsProvider</span> = <span class="keyword">new</span> <span class="method">Cesium.WebMapServiceImageryProvider</span>({
    <span class="highlight">url</span>: <span class="string">'https://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi'</span>,
    <span class="highlight">layers</span>: <span class="string">'nexrad-n0r-wmst'</span>,
    <span class="highlight">credit</span>: <span class="keyword">new</span> <span class="method">Cesium.Credit</span>(<span class="string">'Weather data © 2012 IEM Nexrad'</span>),
    <span class="highlight">parameters</span>: {
        <span class="highlight">transparent</span>: <span class="string">'true'</span>,
        <span class="highlight">format</span>: <span class="string">'image/png'</span>
    }
});</code></pre>
                </div>

                <h3>图层管理</h3>
                <div class="code-block">
                    <div class="code-header">图层操作</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 添加图像图层</span>
<span class="keyword">const</span> <span class="highlight">imageryLayer</span> = <span class="highlight">viewer</span>.<span class="highlight">imageryLayers</span>.<span class="method">addImageryProvider</span>(<span class="highlight">osmProvider</span>);

<span class="comment">// 设置图层属性</span>
<span class="highlight">imageryLayer</span>.<span class="highlight">alpha</span> = <span class="number">0.8</span>; <span class="comment">// 透明度</span>
<span class="highlight">imageryLayer</span>.<span class="highlight">brightness</span> = <span class="number">1.0</span>; <span class="comment">// 亮度</span>
<span class="highlight">imageryLayer</span>.<span class="highlight">contrast</span> = <span class="number">1.0</span>; <span class="comment">// 对比度</span>
<span class="highlight">imageryLayer</span>.<span class="highlight">hue</span> = <span class="number">0.0</span>; <span class="comment">// 色调</span>
<span class="highlight">imageryLayer</span>.<span class="highlight">saturation</span> = <span class="number">1.0</span>; <span class="comment">// 饱和度</span>
<span class="highlight">imageryLayer</span>.<span class="highlight">gamma</span> = <span class="number">1.0</span>; <span class="comment">// 伽马值</span>

<span class="comment">// 移除图层</span>
<span class="highlight">viewer</span>.<span class="highlight">imageryLayers</span>.<span class="method">remove</span>(<span class="highlight">imageryLayer</span>);

<span class="comment">// 获取图层数量</span>
<span class="keyword">const</span> <span class="highlight">layerCount</span> = <span class="highlight">viewer</span>.<span class="highlight">imageryLayers</span>.<span class="highlight">length</span>;

<span class="comment">// 调整图层顺序</span>
<span class="highlight">viewer</span>.<span class="highlight">imageryLayers</span>.<span class="method">raiseToTop</span>(<span class="highlight">imageryLayer</span>);
<span class="highlight">viewer</span>.<span class="highlight">imageryLayers</span>.<span class="method">lowerToBottom</span>(<span class="highlight">imageryLayer</span>);</code></pre>
                </div>
            </section>

            <!-- 地形处理 -->
            <section class="section">
                <h2>地形处理</h2>
                <h3>地形提供商</h3>
                <div class="code-block">
                    <div class="code-header">地形数据源</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// Cesium世界地形</span>
<span class="keyword">const</span> <span class="highlight">worldTerrain</span> = <span class="method">Cesium.createWorldTerrain</span>({
    <span class="highlight">requestWaterMask</span>: <span class="keyword">true</span>, <span class="comment">// 水面遮罩</span>
    <span class="highlight">requestVertexNormals</span>: <span class="keyword">true</span> <span class="comment">// 顶点法线</span>
});

<span class="comment">// 椭球地形(平坦)</span>
<span class="keyword">const</span> <span class="highlight">ellipsoidTerrain</span> = <span class="keyword">new</span> <span class="method">Cesium.EllipsoidTerrainProvider</span>();

<span class="comment">// CesiumTerrainProvider</span>
<span class="keyword">const</span> <span class="highlight">cesiumTerrain</span> = <span class="keyword">new</span> <span class="method">Cesium.CesiumTerrainProvider</span>({
    <span class="highlight">url</span>: <span class="string">'https://assets.agi.com/stk-terrain/world'</span>,
    <span class="highlight">requestWaterMask</span>: <span class="keyword">true</span>,
    <span class="highlight">requestVertexNormals</span>: <span class="keyword">true</span>
});

<span class="comment">// VR TheWorld地形</span>
<span class="keyword">const</span> <span class="highlight">vrTerrain</span> = <span class="keyword">new</span> <span class="method">Cesium.VRTheWorldTerrainProvider</span>({
    <span class="highlight">url</span>: <span class="string">'http://www.vr-theworld.com/vr-theworld/tiles1.0.0/73/'</span>
});

<span class="comment">// 设置地形提供商</span>
<span class="highlight">viewer</span>.<span class="highlight">terrainProvider</span> = <span class="highlight">worldTerrain</span>;</code></pre>
                </div>

                <h3>地形属性</h3>
                <div class="code-block">
                    <div class="code-header">地形配置</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 地形相关设置</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">enableLighting</span> = <span class="keyword">true</span>; <span class="comment">// 地形光照</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">depthTestAgainstTerrain</span> = <span class="keyword">true</span>; <span class="comment">// 深度测试</span>

<span class="comment">// 地形夸张系数</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">verticalExaggeration</span> = <span class="number">2.0</span>;

<span class="comment">// 地形细节级别</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">maximumScreenSpaceError</span> = <span class="number">2</span>; <span class="comment">// 默认值为2</span>

<span class="comment">// 地形预加载祖先</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">preloadAncestors</span> = <span class="keyword">false</span>;

<span class="comment">// 地形预加载兄弟节点</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">preloadSiblings</span> = <span class="keyword">false</span>;

<span class="comment">// 动态大气光照</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">dynamicAtmosphereLighting</span> = <span class="keyword">true</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">dynamicAtmosphereLightingFromSun</span> = <span class="keyword">true</span>;</code></pre>
                </div>

                <h3>地形采样</h3>
                <div class="code-block">
                    <div class="code-header">高程查询</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 采样地形高度</span>
<span class="keyword">const</span> <span class="highlight">positions</span> = [
    <span class="method">Cesium.Cartographic.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>),
    <span class="method">Cesium.Cartographic.fromDegrees</span>(<span class="number">117.0</span>, <span class="number">40.0</span>)
];

<span class="keyword">const</span> <span class="highlight">promise</span> = <span class="method">Cesium.sampleTerrainMostDetailed</span>(
    <span class="highlight">viewer</span>.<span class="highlight">terrainProvider</span>,
    <span class="highlight">positions</span>
);

<span class="highlight">promise</span>.<span class="method">then</span>(<span class="keyword">function</span>(<span class="highlight">sampledPositions</span>) {
    <span class="highlight">sampledPositions</span>.<span class="method">forEach</span>(<span class="keyword">function</span>(<span class="highlight">position</span>) {
        <span class="method">console.log</span>(<span class="string">`高程: ${position.height}米`</span>);
    });
});

<span class="comment">// 指定级别采样</span>
<span class="keyword">const</span> <span class="highlight">sampledAtLevel</span> = <span class="method">Cesium.sampleTerrain</span>(
    <span class="highlight">viewer</span>.<span class="highlight">terrainProvider</span>,
    <span class="number">11</span>, <span class="comment">// 地形级别</span>
    <span class="highlight">positions</span>
);</code></pre>
                </div>
            </section>

            <!-- 3D模型 -->
            <section class="section">
                <h2>3D模型</h2>
                <h3>glTF模型</h3>
                <div class="code-block">
                    <div class="code-header">加载3D模型</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 加载glTF模型</span>
<span class="keyword">const</span> <span class="highlight">modelEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">name</span>: <span class="string">'3D模型'</span>,
    <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>, <span class="number">100</span>),
    <span class="highlight">model</span>: {
        <span class="highlight">uri</span>: <span class="string">'models/CesiumMilkTruck.glb'</span>,
        <span class="highlight">minimumPixelSize</span>: <span class="number">128</span>,
        <span class="highlight">maximumScale</span>: <span class="number">20000</span>,
        <span class="highlight">scale</span>: <span class="number">1.0</span>,
        <span class="highlight">allowPicking</span>: <span class="keyword">true</span>,
        <span class="highlight">debugShowBoundingVolume</span>: <span class="keyword">false</span>,
        <span class="highlight">debugWireframe</span>: <span class="keyword">false</span>
    }
});

<span class="comment">// 模型动画</span>
<span class="highlight">modelEntity</span>.<span class="highlight">orientation</span> = <span class="keyword">new</span> <span class="method">Cesium.VelocityOrientationProperty</span>(
    <span class="highlight">modelEntity</span>.<span class="highlight">position</span>
);

<span class="comment">// 飞行到模型</span>
<span class="highlight">viewer</span>.<span class="method">trackedEntity</span> = <span class="highlight">modelEntity</span>;</code></pre>
                </div>

                <h3>3D Tiles</h3>
                <div class="code-block">
                    <div class="code-header">倾斜摄影模型</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 加载3D Tiles</span>
<span class="keyword">const</span> <span class="highlight">tileset</span> = <span class="keyword">new</span> <span class="method">Cesium.Cesium3DTileset</span>({
    <span class="highlight">url</span>: <span class="string">'https://beta.cesium.com/api/assets/1461?access_token=YOUR_TOKEN'</span>,
    <span class="highlight">show</span>: <span class="keyword">true</span>,
    <span class="highlight">debugShowBoundingVolume</span>: <span class="keyword">false</span>,
    <span class="highlight">debugShowContentBoundingVolume</span>: <span class="keyword">false</span>,
    <span class="highlight">debugShowViewerRequestVolume</span>: <span class="keyword">false</span>,
    <span class="highlight">debugShowGeometricError</span>: <span class="keyword">false</span>,
    <span class="highlight">debugShowRenderingStatistics</span>: <span class="keyword">false</span>
});

<span class="comment">// 添加到场景</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">primitives</span>.<span class="method">add</span>(<span class="highlight">tileset</span>);

<span class="comment">// 样式设置</span>
<span class="highlight">tileset</span>.<span class="highlight">style</span> = <span class="keyword">new</span> <span class="method">Cesium.Cesium3DTileStyle</span>({
    <span class="highlight">color</span>: <span class="string">"color('white')"</span>,
    <span class="highlight">show</span>: <span class="string">"true"</span>
});

<span class="comment">// 调整位置</span>
<span class="keyword">const</span> <span class="highlight">surface</span> = <span class="method">Cesium.Cartesian3.fromRadians</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
<span class="keyword">const</span> <span class="highlight">offset</span> = <span class="method">Cesium.Cartesian3.fromRadians</span>(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">5</span>);
<span class="keyword">const</span> <span class="highlight">translation</span> = <span class="method">Cesium.Cartesian3.subtract</span>(<span class="highlight">offset</span>, <span class="highlight">surface</span>, <span class="keyword">new</span> <span class="method">Cesium.Cartesian3</span>());
<span class="highlight">tileset</span>.<span class="highlight">modelMatrix</span> = <span class="method">Cesium.Matrix4.fromTranslation</span>(<span class="highlight">translation</span>);

<span class="comment">// 飞行到Tileset</span>
<span class="highlight">viewer</span>.<span class="method">flyTo</span>(<span class="highlight">tileset</span>);</code></pre>
                </div>

                <h3>点云数据</h3>
                <div class="code-block">
                    <div class="code-header">加载点云</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 加载点云数据</span>
<span class="keyword">const</span> <span class="highlight">pointCloudTileset</span> = <span class="keyword">new</span> <span class="method">Cesium.Cesium3DTileset</span>({
    <span class="highlight">url</span>: <span class="string">'pointcloud/tileset.json'</span>
});

<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">primitives</span>.<span class="method">add</span>(<span class="highlight">pointCloudTileset</span>);

<span class="comment">// 点云样式</span>
<span class="highlight">pointCloudTileset</span>.<span class="highlight">style</span> = <span class="keyword">new</span> <span class="method">Cesium.Cesium3DTileStyle</span>({
    <span class="highlight">color</span>: <span class="string">"color() * ${COLOR}"</span>,
    <span class="highlight">pointSize</span>: <span class="string">'2'</span>
});

<span class="highlight">viewer</span>.<span class="method">flyTo</span>(<span class="highlight">pointCloudTileset</span>);</code></pre>
                </div>
            </section>

            <!-- 粒子系统 -->
            <section class="section">
                <h2>粒子系统</h2>
                <h3>粒子发射器</h3>
                <div class="code-block">
                    <div class="code-header">创建粒子效果</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 创建粒子系统</span>
<span class="keyword">const</span> <span class="highlight">particleSystem</span> = <span class="keyword">new</span> <span class="method">Cesium.ParticleSystem</span>({
    <span class="highlight">image</span>: <span class="string">'particles/smoke.png'</span>,
    <span class="highlight">startColor</span>: <span class="method">Cesium.Color.LIGHTGRAY</span>.<span class="method">withAlpha</span>(<span class="number">0.7</span>),
    <span class="highlight">endColor</span>: <span class="method">Cesium.Color.WHITE</span>.<span class="method">withAlpha</span>(<span class="number">0.0</span>),
    <span class="highlight">startScale</span>: <span class="number">1.0</span>,
    <span class="highlight">endScale</span>: <span class="number">4.0</span>,
    <span class="highlight">particleLife</span>: <span class="number">1.0</span>,
    <span class="highlight">speed</span>: <span class="number">5.0</span>,
    <span class="highlight">imageSize</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian2</span>(<span class="number">20</span>, <span class="number">20</span>),
    <span class="highlight">emissionRate</span>: <span class="number">5.0</span>,
    <span class="highlight">lifetime</span>: <span class="number">16.0</span>,
    <span class="highlight">emitter</span>: <span class="keyword">new</span> <span class="method">Cesium.CircleEmitter</span>(<span class="number">2.0</span>),
    <span class="highlight">modelMatrix</span>: <span class="method">Cesium.Transforms.eastNorthUpToFixedFrame</span>(
        <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>)
    )
});

<span class="comment">// 添加到场景</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">primitives</span>.<span class="method">add</span>(<span class="highlight">particleSystem</span>);</code></pre>
                </div>

                <h3>不同发射器类型</h3>
                <div class="code-block">
                    <div class="code-header">发射器配置</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 圆形发射器</span>
<span class="keyword">const</span> <span class="highlight">circleEmitter</span> = <span class="keyword">new</span> <span class="method">Cesium.CircleEmitter</span>(<span class="number">5.0</span>);

<span class="comment">// 锥形发射器</span>
<span class="keyword">const</span> <span class="highlight">coneEmitter</span> = <span class="keyword">new</span> <span class="method">Cesium.ConeEmitter</span>(<span class="method">Cesium.Math.toRadians</span>(<span class="number">30.0</span>));

<span class="comment">// 盒子发射器</span>
<span class="keyword">const</span> <span class="highlight">boxEmitter</span> = <span class="keyword">new</span> <span class="method">Cesium.BoxEmitter</span>(<span class="keyword">new</span> <span class="method">Cesium.Cartesian3</span>(<span class="number">10.0</span>, <span class="number">10.0</span>, <span class="number">10.0</span>));

<span class="comment">// 球形发射器</span>
<span class="keyword">const</span> <span class="highlight">sphereEmitter</span> = <span class="keyword">new</span> <span class="method">Cesium.SphereEmitter</span>(<span class="number">5.0</span>);</code></pre>
                </div>

                <h3>粒子动画</h3>
                <div class="code-block">
                    <div class="code-header">动态粒子效果</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 时间动态粒子</span>
<span class="keyword">const</span> <span class="highlight">now</span> = <span class="method">Cesium.JulianDate.now</span>();
<span class="keyword">const</span> <span class="highlight">gravityScratch</span> = <span class="keyword">new</span> <span class="method">Cesium.Cartesian3</span>();

<span class="keyword">const</span> <span class="highlight">dynamicParticles</span> = <span class="keyword">new</span> <span class="method">Cesium.ParticleSystem</span>({
    <span class="highlight">image</span>: <span class="string">'particles/fire.png'</span>,
    <span class="highlight">startColor</span>: <span class="method">Cesium.Color.RED</span>,
    <span class="highlight">endColor</span>: <span class="method">Cesium.Color.YELLOW</span>,
    <span class="highlight">startScale</span>: <span class="number">0.1</span>,
    <span class="highlight">endScale</span>: <span class="number">4.0</span>,
    <span class="highlight">particleLife</span>: <span class="number">2.0</span>,
    <span class="highlight">speed</span>: <span class="number">1.0</span>,
    <span class="highlight">imageSize</span>: <span class="keyword">new</span> <span class="method">Cesium.Cartesian2</span>(<span class="number">15</span>, <span class="number">15</span>),
    <span class="highlight">emissionRate</span>: <span class="number">50.0</span>,
    <span class="highlight">lifetime</span>: <span class="number">16.0</span>,
    <span class="highlight">emitter</span>: <span class="keyword">new</span> <span class="method">Cesium.CircleEmitter</span>(<span class="number">1.0</span>),
    <span class="highlight">updateCallback</span>: <span class="keyword">function</span>(<span class="highlight">particle</span>, <span class="highlight">dt</span>) {
        <span class="comment">// 自定义粒子更新逻辑</span>
        <span class="keyword">const</span> <span class="highlight">position</span> = <span class="highlight">particle</span>.<span class="highlight">position</span>;
        <span class="method">Cesium.Cartesian3.normalize</span>(<span class="highlight">position</span>, <span class="highlight">gravityScratch</span>);
        <span class="method">Cesium.Cartesian3.multiplyByScalar</span>(<span class="highlight">gravityScratch</span>, <span class="number">-1050.0</span> * <span class="highlight">dt</span>, <span class="highlight">gravityScratch</span>);
        
        <span class="highlight">particle</span>.<span class="highlight">velocity</span> = <span class="method">Cesium.Cartesian3.add</span>(<span class="highlight">particle</span>.<span class="highlight">velocity</span>, <span class="highlight">gravityScratch</span>, <span class="highlight">particle</span>.<span class="highlight">velocity</span>);
    },
    <span class="highlight">modelMatrix</span>: <span class="method">Cesium.Transforms.eastNorthUpToFixedFrame</span>(
        <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>)
    )
});

<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">primitives</span>.<span class="method">add</span>(<span class="highlight">dynamicParticles</span>);</code></pre>
                </div>
            </section>

            <!-- 事件处理 -->
            <section class="section">
                <h2>事件处理</h2>
                <h3>鼠标事件</h3>
                <div class="code-block">
                    <div class="code-header">鼠标交互</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 左键点击事件</span>
<span class="highlight">viewer</span>.<span class="highlight">cesiumWidget</span>.<span class="highlight">screenSpaceEventHandler</span>.<span class="method">setInputAction</span>(<span class="keyword">function</span>(<span class="highlight">click</span>) {
    <span class="keyword">const</span> <span class="highlight">pickedObject</span> = <span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="method">pick</span>(<span class="highlight">click</span>.<span class="highlight">position</span>);
    <span class="keyword">if</span> (<span class="method">Cesium.defined</span>(<span class="highlight">pickedObject</span>)) {
        <span class="method">console.log</span>(<span class="string">'点击了对象:'</span>, <span class="highlight">pickedObject</span>.<span class="highlight">id</span>);
    }
    
    <span class="comment">// 获取点击位置的地理坐标</span>
    <span class="keyword">const</span> <span class="highlight">cartesian</span> = <span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">pickEllipsoid</span>(<span class="highlight">click</span>.<span class="highlight">position</span>, <span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">ellipsoid</span>);
    <span class="keyword">if</span> (<span class="highlight">cartesian</span>) {
        <span class="keyword">const</span> <span class="highlight">cartographic</span> = <span class="method">Cesium.Cartographic.fromCartesian</span>(<span class="highlight">cartesian</span>);
        <span class="keyword">const</span> <span class="highlight">longitude</span> = <span class="method">Cesium.Math.toDegrees</span>(<span class="highlight">cartographic</span>.<span class="highlight">longitude</span>);
        <span class="keyword">const</span> <span class="highlight">latitude</span> = <span class="method">Cesium.Math.toDegrees</span>(<span class="highlight">cartographic</span>.<span class="highlight">latitude</span>);
        <span class="method">console.log</span>(<span class="string">`点击位置: ${longitude}, ${latitude}`</span>);
    }
}, <span class="method">Cesium.ScreenSpaceEventType.LEFT_CLICK</span>);

<span class="comment">// 右键点击事件</span>
<span class="highlight">viewer</span>.<span class="highlight">cesiumWidget</span>.<span class="highlight">screenSpaceEventHandler</span>.<span class="method">setInputAction</span>(<span class="keyword">function</span>(<span class="highlight">click</span>) {
    <span class="method">console.log</span>(<span class="string">'右键点击'</span>);
}, <span class="method">Cesium.ScreenSpaceEventType.RIGHT_CLICK</span>);

<span class="comment">// 鼠标移动事件</span>
<span class="highlight">viewer</span>.<span class="highlight">cesiumWidget</span>.<span class="highlight">screenSpaceEventHandler</span>.<span class="method">setInputAction</span>(<span class="keyword">function</span>(<span class="highlight">movement</span>) {
    <span class="keyword">const</span> <span class="highlight">pickedObject</span> = <span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="method">pick</span>(<span class="highlight">movement</span>.<span class="highlight">endPosition</span>);
    <span class="keyword">if</span> (<span class="method">Cesium.defined</span>(<span class="highlight">pickedObject</span>)) {
        <span class="highlight">viewer</span>.<span class="highlight">canvas</span>.<span class="highlight">style</span>.<span class="highlight">cursor</span> = <span class="string">'pointer'</span>;
    } <span class="keyword">else</span> {
        <span class="highlight">viewer</span>.<span class="highlight">canvas</span>.<span class="highlight">style</span>.<span class="highlight">cursor</span> = <span class="string">'default'</span>;
    }
}, <span class="method">Cesium.ScreenSpaceEventType.MOUSE_MOVE</span>);</code></pre>
                </div>

                <h3>键盘事件</h3>
                <div class="code-block">
                    <div class="code-header">键盘交互</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 键盘事件处理</span>
<span class="method">document.addEventListener</span>(<span class="string">'keydown'</span>, <span class="keyword">function</span>(<span class="highlight">event</span>) {
    <span class="keyword">switch</span> (<span class="highlight">event</span>.<span class="highlight">keyCode</span>) {
        <span class="keyword">case</span> <span class="number">87</span>: <span class="comment">// W键</span>
            <span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">moveForward</span>(<span class="number">1000</span>);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="number">83</span>: <span class="comment">// S键</span>
            <span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">moveBackward</span>(<span class="number">1000</span>);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="number">65</span>: <span class="comment">// A键</span>
            <span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">moveLeft</span>(<span class="number">1000</span>);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="number">68</span>: <span class="comment">// D键</span>
            <span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">moveRight</span>(<span class="number">1000</span>);
            <span class="keyword">break</span>;
    }
}, <span class="keyword">false</span>);</code></pre>
                </div>

                <h3>时钟事件</h3>
                <div class="code-block">
                    <div class="code-header">时间控制事件</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 时钟tick事件</span>
<span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">onTick</span>.<span class="method">addEventListener</span>(<span class="keyword">function</span>(<span class="highlight">clock</span>) {
    <span class="keyword">const</span> <span class="highlight">currentTime</span> = <span class="highlight">clock</span>.<span class="highlight">currentTime</span>;
    <span class="comment">// 根据时间更新场景</span>
});

<span class="comment">// 时间线改变事件</span>
<span class="highlight">viewer</span>.<span class="highlight">timeline</span>.<span class="method">addEventListener</span>(<span class="string">'settime'</span>, <span class="keyword">function</span>(<span class="highlight">e</span>) {
    <span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">currentTime</span> = <span class="highlight">e</span>.<span class="highlight">timeJulian</span>;
}, <span class="keyword">false</span>);</code></pre>
                </div>
            </section>

            <!-- 性能优化 -->
            <section class="section">
                <h2>性能优化</h2>
                <h3>渲染优化</h3>
                <div class="code-block">
                    <div class="code-header">性能配置</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 启用请求渲染模式</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">requestRenderMode</span> = <span class="keyword">true</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">maximumRenderTimeChange</span> = <span class="number">Infinity</span>;

<span class="comment">// 关闭不必要的效果</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">fog</span>.<span class="highlight">enabled</span> = <span class="keyword">false</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">skyAtmosphere</span>.<span class="highlight">show</span> = <span class="keyword">false</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">sun</span>.<span class="highlight">show</span> = <span class="keyword">false</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">moon</span>.<span class="highlight">show</span> = <span class="keyword">false</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">skyBox</span>.<span class="highlight">show</span> = <span class="keyword">false</span>;

<span class="comment">// 调整地形细节</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">maximumScreenSpaceError</span> = <span class="number">4</span>; <span class="comment">// 增大以降低细节</span>

<span class="comment">// 禁用深度测试</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">depthTestAgainstTerrain</span> = <span class="keyword">false</span>;

<span class="comment">// 使用低精度相机</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">logarithmicDepthBuffer</span> = <span class="keyword">false</span>;</code></pre>
                </div>

                <h3>实体优化</h3>
                <div class="code-block">
                    <div class="code-header">大量实体优化</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 使用实体集合</span>
<span class="keyword">const</span> <span class="highlight">entityCollection</span> = <span class="keyword">new</span> <span class="method">Cesium.EntityCollection</span>();

<span class="comment">// 批量添加实体</span>
<span class="keyword">const</span> <span class="highlight">entities</span> = [];
<span class="keyword">for</span> (<span class="keyword">let</span> <span class="highlight">i</span> = <span class="number">0</span>; <span class="highlight">i</span> &lt; <span class="number">10000</span>; <span class="highlight">i</span>++) {
    <span class="keyword">const</span> <span class="highlight">longitude</span> = <span class="method">Math.random</span>() * <span class="number">360</span> - <span class="number">180</span>;
    <span class="keyword">const</span> <span class="highlight">latitude</span> = <span class="method">Math.random</span>() * <span class="number">180</span> - <span class="number">90</span>;
    
    <span class="highlight">entities</span>.<span class="method">push</span>({
        <span class="highlight">position</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="highlight">longitude</span>, <span class="highlight">latitude</span>),
        <span class="highlight">point</span>: {
            <span class="highlight">pixelSize</span>: <span class="number">5</span>,
            <span class="highlight">color</span>: <span class="method">Cesium.Color.YELLOW</span>,
            <span class="highlight">disableDepthTestDistance</span>: <span class="number">Number.POSITIVE_INFINITY</span>
        }
    });
}

<span class="comment">// 分批添加以避免阻塞</span>
<span class="keyword">function</span> <span class="highlight">addEntitiesBatch</span>(<span class="highlight">startIndex</span>, <span class="highlight">batchSize</span>) {
    <span class="keyword">const</span> <span class="highlight">endIndex</span> = <span class="method">Math.min</span>(<span class="highlight">startIndex</span> + <span class="highlight">batchSize</span>, <span class="highlight">entities</span>.<span class="highlight">length</span>);
    
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="highlight">i</span> = <span class="highlight">startIndex</span>; <span class="highlight">i</span> &lt; <span class="highlight">endIndex</span>; <span class="highlight">i</span>++) {
        <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>(<span class="highlight">entities</span>[<span class="highlight">i</span>]);
    }
    
    <span class="keyword">if</span> (<span class="highlight">endIndex</span> &lt; <span class="highlight">entities</span>.<span class="highlight">length</span>) {
        <span class="method">setTimeout</span>(<span class="keyword">function</span>() {
            <span class="highlight">addEntitiesBatch</span>(<span class="highlight">endIndex</span>, <span class="highlight">batchSize</span>);
        }, <span class="number">1</span>);
    }
}

<span class="highlight">addEntitiesBatch</span>(<span class="number">0</span>, <span class="number">100</span>);</code></pre>
                </div>

                <h3>内存管理</h3>
                <div class="code-block">
                    <div class="code-header">资源清理</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 清理实体</span>
<span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">removeAll</span>();

<span class="comment">// 清理数据源</span>
<span class="highlight">viewer</span>.<span class="highlight">dataSources</span>.<span class="method">removeAll</span>();

<span class="comment">// 清理图像图层</span>
<span class="highlight">viewer</span>.<span class="highlight">imageryLayers</span>.<span class="method">removeAll</span>();

<span class="comment">// 销毁viewer</span>
<span class="highlight">viewer</span>.<span class="method">destroy</span>();

<span class="comment">// 手动垃圾回收提示</span>
<span class="keyword">if</span> (<span class="method">window.gc</span>) {
    <span class="method">window.gc</span>();
}</code></pre>
                </div>

                <div class="tip">
                    <strong>性能提示：</strong><br>
                    • 使用实体集合管理大量对象<br>
                    • 启用请求渲染模式减少CPU使用<br>
                    • 合理设置地形和模型细节级别<br>
                    • 及时清理不再需要的资源
                </div>
            </section>

            <!-- 坐标转换 -->
            <section class="section">
                <h2>坐标转换</h2>
                <h3>坐标系统</h3>
                <div class="code-block">
                    <div class="code-header">坐标转换操作</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 经纬度转世界坐标</span>
<span class="keyword">const</span> <span class="highlight">cartesian3</span> = <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>, <span class="number">100</span>);

<span class="comment">// 世界坐标转经纬度</span>
<span class="keyword">const</span> <span class="highlight">cartographic</span> = <span class="method">Cesium.Cartographic.fromCartesian</span>(<span class="highlight">cartesian3</span>);
<span class="keyword">const</span> <span class="highlight">longitude</span> = <span class="method">Cesium.Math.toDegrees</span>(<span class="highlight">cartographic</span>.<span class="highlight">longitude</span>);
<span class="keyword">const</span> <span class="highlight">latitude</span> = <span class="method">Cesium.Math.toDegrees</span>(<span class="highlight">cartographic</span>.<span class="highlight">latitude</span>);
<span class="keyword">const</span> <span class="highlight">height</span> = <span class="highlight">cartographic</span>.<span class="highlight">height</span>;

<span class="comment">// 屏幕坐标转世界坐标</span>
<span class="keyword">const</span> <span class="highlight">screenPosition</span> = <span class="keyword">new</span> <span class="method">Cesium.Cartesian2</span>(<span class="number">100</span>, <span class="number">100</span>);
<span class="keyword">const</span> <span class="highlight">worldPosition</span> = <span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">pickEllipsoid</span>(<span class="highlight">screenPosition</span>, <span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">ellipsoid</span>);

<span class="comment">// 世界坐标转屏幕坐标</span>
<span class="keyword">const</span> <span class="highlight">screenPos</span> = <span class="method">Cesium.SceneTransforms.wgs84ToWindowCoordinates</span>(<span class="highlight">viewer</span>.<span class="highlight">scene</span>, <span class="highlight">cartesian3</span>);

<span class="comment">// 弧度转角度</span>
<span class="keyword">const</span> <span class="highlight">degrees</span> = <span class="method">Cesium.Math.toDegrees</span>(<span class="highlight">radians</span>);
<span class="keyword">const</span> <span class="highlight">radians</span> = <span class="method">Cesium.Math.toRadians</span>(<span class="highlight">degrees</span>);</code></pre>
                </div>

                <h3>矩阵变换</h3>
                <div class="code-block">
                    <div class="code-header">变换矩阵</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 创建东北上坐标系变换矩阵</span>
<span class="keyword">const</span> <span class="highlight">origin</span> = <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>);
<span class="keyword">const</span> <span class="highlight">matrix</span> = <span class="method">Cesium.Transforms.eastNorthUpToFixedFrame</span>(<span class="highlight">origin</span>);

<span class="comment">// 应用变换矩阵</span>
<span class="keyword">const</span> <span class="highlight">localPosition</span> = <span class="keyword">new</span> <span class="method">Cesium.Cartesian3</span>(<span class="number">100</span>, <span class="number">0</span>, <span class="number">0</span>);
<span class="keyword">const</span> <span class="highlight">worldPosition</span> = <span class="method">Cesium.Matrix4.multiplyByPoint</span>(<span class="highlight">matrix</span>, <span class="highlight">localPosition</span>, <span class="keyword">new</span> <span class="method">Cesium.Cartesian3</span>());

<span class="comment">// 头部-俯仰-翻滚变换</span>
<span class="keyword">const</span> <span class="highlight">hpr</span> = <span class="keyword">new</span> <span class="method">Cesium.HeadingPitchRoll</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
<span class="keyword">const</span> <span class="highlight">orientation</span> = <span class="method">Cesium.Transforms.headingPitchRollQuaternion</span>(<span class="highlight">origin</span>, <span class="highlight">hpr</span>);</code></pre>
                </div>
            </section>

            <!-- 时间和动画 -->
            <section class="section">
                <h2>时间和动画</h2>
                <h3>时间轴控制</h3>
                <div class="code-block">
                    <div class="code-header">时间管理</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 设置时间范围</span>
<span class="keyword">const</span> <span class="highlight">start</span> = <span class="method">Cesium.JulianDate.fromDate</span>(<span class="keyword">new</span> <span class="method">Date</span>(<span class="string">'2023-01-01T00:00:00Z'</span>));
<span class="keyword">const</span> <span class="highlight">stop</span> = <span class="method">Cesium.JulianDate.fromDate</span>(<span class="keyword">new</span> <span class="method">Date</span>(<span class="string">'2023-12-31T23:59:59Z'</span>));

<span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">startTime</span> = <span class="highlight">start</span>;
<span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">stopTime</span> = <span class="highlight">stop</span>;
<span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">currentTime</span> = <span class="highlight">start</span>;

<span class="comment">// 时间轴设置</span>
<span class="highlight">viewer</span>.<span class="highlight">timeline</span>.<span class="method">zoomTo</span>(<span class="highlight">start</span>, <span class="highlight">stop</span>);

<span class="comment">// 时钟速度和方向</span>
<span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">multiplier</span> = <span class="number">3600</span>; <span class="comment">// 1小时/秒</span>
<span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">clockRange</span> = <span class="method">Cesium.ClockRange.LOOP_STOP</span>;
<span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">clockStep</span> = <span class="method">Cesium.ClockStep.SYSTEM_CLOCK_MULTIPLIER</span>;

<span class="comment">// 启动动画</span>
<span class="highlight">viewer</span>.<span class="highlight">clock</span>.<span class="highlight">shouldAnimate</span> = <span class="keyword">true</span>;</code></pre>
                </div>

                <h3>属性插值</h3>
                <div class="code-block">
                    <div class="code-header">动画属性</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 位置插值</span>
<span class="keyword">const</span> <span class="highlight">positionProperty</span> = <span class="keyword">new</span> <span class="method">Cesium.SampledPositionProperty</span>();
<span class="highlight">positionProperty</span>.<span class="method">addSample</span>(<span class="highlight">start</span>, <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">116.4074</span>, <span class="number">39.9042</span>, <span class="number">0</span>));
<span class="highlight">positionProperty</span>.<span class="method">addSample</span>(<span class="highlight">stop</span>, <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">117.0</span>, <span class="number">40.0</span>, <span class="number">1000</span>));

<span class="comment">// 设置插值算法</span>
<span class="highlight">positionProperty</span>.<span class="highlight">setInterpolationOptions</span>({
    <span class="highlight">interpolationDegree</span>: <span class="number">3</span>,
    <span class="highlight">interpolationAlgorithm</span>: <span class="method">Cesium.LagrangePolynomialApproximation</span>
});

<span class="comment">// 方向插值</span>
<span class="keyword">const</span> <span class="highlight">orientationProperty</span> = <span class="keyword">new</span> <span class="method">Cesium.VelocityOrientationProperty</span>(<span class="highlight">positionProperty</span>);

<span class="comment">// 创建移动实体</span>
<span class="keyword">const</span> <span class="highlight">movingEntity</span> = <span class="highlight">viewer</span>.<span class="highlight">entities</span>.<span class="method">add</span>({
    <span class="highlight">position</span>: <span class="highlight">positionProperty</span>,
    <span class="highlight">orientation</span>: <span class="highlight">orientationProperty</span>,
    <span class="highlight">model</span>: {
        <span class="highlight">uri</span>: <span class="string">'models/airplane.glb'</span>,
        <span class="highlight">scale</span>: <span class="number">0.1</span>
    },
    <span class="highlight">path</span>: {
        <span class="highlight">show</span>: <span class="keyword">true</span>,
        <span class="highlight">material</span>: <span class="method">Cesium.Color.YELLOW</span>,
        <span class="highlight">width</span>: <span class="number">5</span>,
        <span class="highlight">leadTime</span>: <span class="number">0</span>,
        <span class="highlight">trailTime</span>: <span class="number">3600</span>
    }
});</code></pre>
                </div>
            </section>

            <!-- 场景后处理 -->
            <section class="section">
                <h2>场景后处理</h2>
                <h3>后处理效果</h3>
                <div class="code-block">
                    <div class="code-header">视觉效果</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 泛光效果</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">postProcessStages</span>.<span class="highlight">bloom</span>.<span class="highlight">enabled</span> = <span class="keyword">true</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">postProcessStages</span>.<span class="highlight">bloom</span>.<span class="highlight">uniforms</span>.<span class="highlight">glowOnly</span> = <span class="keyword">false</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">postProcessStages</span>.<span class="highlight">bloom</span>.<span class="highlight">uniforms</span>.<span class="highlight">contrast</span> = <span class="number">128</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">postProcessStages</span>.<span class="highlight">bloom</span>.<span class="highlight">uniforms</span>.<span class="highlight">brightness</span> = <span class="number">-0.3</span>;

<span class="comment">// 环境光遮蔽</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">postProcessStages</span>.<span class="highlight">ambientOcclusion</span>.<span class="highlight">enabled</span> = <span class="keyword">true</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">postProcessStages</span>.<span class="highlight">ambientOcclusion</span>.<span class="highlight">uniforms</span>.<span class="highlight">intensity</span> = <span class="number">3.0</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">postProcessStages</span>.<span class="highlight">ambientOcclusion</span>.<span class="highlight">uniforms</span>.<span class="highlight">bias</span> = <span class="number">0.1</span>;

<span class="comment">// 抗锯齿</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">postProcessStages</span>.<span class="highlight">fxaa</span>.<span class="highlight">enabled</span> = <span class="keyword">true</span>;

<span class="comment">// 自定义着色器</span>
<span class="keyword">const</span> <span class="highlight">fragmentShader</span> = <span class="string">`
uniform sampler2D colorTexture;
varying vec2 v_textureCoordinates;
void main() {
    vec4 color = texture2D(colorTexture, v_textureCoordinates);
    gl_FragColor = vec4(1.0 - color.rgb, color.a);
}`</span>;

<span class="keyword">const</span> <span class="highlight">postProcessStage</span> = <span class="keyword">new</span> <span class="method">Cesium.PostProcessStage</span>({
    <span class="highlight">fragmentShader</span>: <span class="highlight">fragmentShader</span>
});

<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">postProcessStages</span>.<span class="method">add</span>(<span class="highlight">postProcessStage</span>);</code></pre>
                </div>
            </section>

            <!-- 调试和工具 -->
            <section class="section">
                <h2>调试和工具</h2>
                <h3>调试信息</h3>
                <div class="code-block">
                    <div class="code-header">调试工具</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 显示帧率</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">debugShowFramesPerSecond</span> = <span class="keyword">true</span>;

<span class="comment">// 显示深度信息</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">debugShowDepthFrustum</span> = <span class="number">1</span>;

<span class="comment">// 地形调试</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">showWaterEffect</span> = <span class="keyword">false</span>;
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">globe</span>.<span class="highlight">enableLighting</span> = <span class="keyword">false</span>;

<span class="comment">// 显示图块坐标</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">imageryLayers</span>.<span class="method">get</span>(<span class="number">0</span>).<span class="highlight">show</span> = <span class="keyword">false</span>;

<span class="comment">// 检查WebGL支持</span>
<span class="keyword">if</span> (!<span class="method">Cesium.FeatureDetection.supportsWebGL</span>()) {
    <span class="method">console.error</span>(<span class="string">'WebGL不支持'</span>);
}

<span class="comment">// 性能监控</span>
<span class="keyword">const</span> <span class="highlight">performanceContainer</span> = <span class="method">document.createElement</span>(<span class="string">'div'</span>);
<span class="highlight">performanceContainer</span>.<span class="highlight">className</span> = <span class="string">'cesium-performanceDisplay-defaultContainer'</span>;
<span class="keyword">const</span> <span class="highlight">performanceWidget</span> = <span class="keyword">new</span> <span class="method">Cesium.PerformanceWatchdog</span>({
    <span class="highlight">container</span>: <span class="highlight">performanceContainer</span>,
    <span class="highlight">scene</span>: <span class="highlight">viewer</span>.<span class="highlight">scene</span>
});
<span class="method">document.body.appendChild</span>(<span class="highlight">performanceContainer</span>);</code></pre>
                </div>

                <h3>错误处理</h3>
                <div class="code-block">
                    <div class="code-header">异常处理</div>
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code><span class="comment">// 场景渲染错误处理</span>
<span class="highlight">viewer</span>.<span class="highlight">scene</span>.<span class="highlight">renderError</span>.<span class="method">addEventListener</span>(<span class="keyword">function</span>(<span class="highlight">scene</span>, <span class="highlight">error</span>) {
    <span class="method">console.error</span>(<span class="string">'渲染错误:'</span>, <span class="highlight">error</span>);
});

<span class="comment">// 相机错误处理</span>
<span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="highlight">changed</span>.<span class="method">addEventListener</span>(<span class="keyword">function</span>() {
    <span class="keyword">try</span> {
        <span class="comment">// 相机操作</span>
        <span class="keyword">const</span> <span class="highlight">position</span> = <span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="highlight">position</span>;
        <span class="keyword">if</span> (<span class="method">isNaN</span>(<span class="highlight">position</span>.<span class="highlight">x</span>) || <span class="method">isNaN</span>(<span class="highlight">position</span>.<span class="highlight">y</span>) || <span class="method">isNaN</span>(<span class="highlight">position</span>.<span class="highlight">z</span>)) {
            <span class="method">console.warn</span>(<span class="string">'相机位置异常'</span>);
            <span class="highlight">viewer</span>.<span class="highlight">camera</span>.<span class="method">setView</span>({
                <span class="highlight">destination</span>: <span class="method">Cesium.Cartesian3.fromDegrees</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">10000000</span>)
            });
        }
    } <span class="keyword">catch</span> (<span class="highlight">e</span>) {
        <span class="method">console.error</span>(<span class="string">'相机异常:'</span>, <span class="highlight">e</span>);
    }
});

<span class="comment">// 全局错误处理</span>
<span class="method">window.addEventListener</span>(<span class="string">'error'</span>, <span class="keyword">function</span>(<span class="highlight">event</span>) {
    <span class="keyword">if</span> (<span class="highlight">event</span>.<span class="highlight">message</span>.<span class="method">includes</span>(<span class="string">'Cesium'</span>)) {
        <span class="method">console.error</span>(<span class="string">'Cesium错误:'</span>, <span class="highlight">event</span>.<span class="highlight">message</span>);
    }
});</code></pre>
                </div>

                <div class="warning">
                    <strong>常见问题：</strong><br>
                    • 检查WebGL支持和显卡驱动<br>
                    • 确保网络连接用于地形和影像<br>
                    • 注意内存使用，及时清理资源<br>
                    • 移动端性能限制需要降低渲染质量
                </div>
            </section>

        </div>

        <footer class="footer">
            <p>© 2024 CesiumJS 3D地球速查表 | WebGL虚拟地球开发完整指南</p>
            <p style="margin-top: 10px; font-size: 0.8rem; opacity: 0.8;">
                基于 CesiumJS 1.11+ 官方文档 | 涵盖三维地理信息可视化核心功能
            </p>
        </footer>
    </div>

    <script>
        function copyCode(button) {
            const codeBlock = button.parentElement.querySelector('code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(function() {
                button.textContent = '已复制！';
                button.style.background = '#28a745';
                
                setTimeout(function() {
                    button.textContent = '复制';
                    button.style.background = '#1e3c72';
                }, 2000);
            }).catch(function(err) {
                console.error('复制失败: ', err);
                button.textContent = '复制失败';
                button.style.background = '#dc3545';
            });
        }
    </script>
</body>
</html>
  
  
  
</body>

</html>