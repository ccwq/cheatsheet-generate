<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Vite é…ç½®é€ŸæŸ¥è¡¨</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- å¼•å…¥å…¬å…±CSSæ ·å¼ -->
    <link rel="stylesheet" href="../../assets/variables.css">
    <link rel="stylesheet" href="../../assets/global.css">
  <link rel="stylesheet" href="../../assets/cheatsheet.css">

    <style>
      /* ç‰¹æœ‰çš„æ ·å¼è°ƒæ•´ */
      .cheat-columns {
        /* ä½¿ç”¨column-countå¸ƒå±€ */
        column-count: 4;
      }

      @media (max-width: 1500px) {
        .cheat-columns {
          column-count: 3;
        }
      }

      @media (max-width: 1100px) {
        .cheat-columns {
          column-count: 2;
        }
      }

      @media (max-width: 750px) {
        .cheat-columns {
          column-count: 1;
        }
      }

      .panel label {
        color: #ffe49b; /* ä¿æŒåŸæœ‰çš„labelé¢œè‰² */
      }

      .slider-bar {
        min-width: 120px; /* ä¿æŒåŸæœ‰çš„æ»‘å—å®½åº¦ */
      }

      .slider-val {
        min-width: 28px; /* ä¿æŒåŸæœ‰çš„å€¼æ˜¾ç¤ºå®½åº¦ */
      }
    </style>

    <link rel="icon" type="image/png" href="../../assets/brand/cheatsheet.png" />
    <link rel="apple-touch-icon" href="../../assets/brand/cheatsheet.png" />
  </head>
<body>
    <div class="container">
        <div class="panel">
            <span style="color:#7bfbb7;font-size:16px;margin-right:auto;">Vite é…ç½®é€ŸæŸ¥è¡¨</span>
<!-- META_INFO_START -->
<div class="meta-info">
  <span class="meta-item"><span class="meta-label">ç‰ˆæœ¬</span><span class="meta-value">unknown</span></span>
  <span class="meta-item"><span class="meta-label">æ›´æ–°æ—¥å¿—</span><span class="meta-value">2025-11-20</span></span>
  <span class="meta-item"><span class="meta-label">GitHub</span><span class="meta-value"><a class="meta-link" href="https://github.com/vitejs/vite" target="_blank" rel="noopener">vitejs/vite</a></span></span>
</div>
<!-- META_INFO_END -->

            <label for="columnWidth">ğŸ”§ è°ƒæ•´æ¯åˆ—å®½åº¦ï¼š</label>
            <input id="columnWidth" class="slider-bar" type="range" min="300" max="660" value="340">
            <span id="widthVal" class="slider-val">340px</span>
        </div>
        <div class="cheat-columns" id="columns">
            <!-- é…ç½®æ–‡ä»¶åŸºç¡€ -->
            <div class="card">
                <h2>ğŸ“‹ é…ç½®æ–‡ä»¶åŸºç¡€ <a href="https://vite.dev/config/" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ“ é…ç½®æ–‡ä»¶å‘½å</h3>
                <pre><span class="comment">// vite.config.js (åŸºç¡€)</span>
vite.config.ts
vite.config.mjs
vite.config.cjs</pre>

                <h3>âš™ï¸ æŒ‡å®šé…ç½®æ–‡ä»¶</h3>
                <pre><span class="comment"># æŒ‡å®šé…ç½®æ–‡ä»¶</span>
vite <span class="operator">--</span>config my<span class="operator">-</span>config.js</pre>

                <h3>ğŸ—ï¸ åŸºç¡€é…ç½®ç»“æ„</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> {
  <span class="comment">// é…ç½®é€‰é¡¹</span>
}</pre>

                <div class="tip">
                    ğŸ’¡ Vite æ”¯æŒå¤šç§é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œæ¨èä½¿ç”¨ TypeScript é…ç½®æ–‡ä»¶è·å¾—ç±»å‹æç¤º
                </div>
            </div>

            <!-- é…ç½®æ™ºèƒ½æç¤º -->
            <div class="card">
                <h2>ğŸ§  é…ç½®æ™ºèƒ½æç¤º <a href="https://vite.dev/guide/troubleshooting.html#intellisense" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ“– JSDoc ç±»å‹æç¤º</h3>
                <pre><span class="comment">/** @type {import('vite').UserConfig} */</span>
<span class="keyword">export</span> <span class="keyword">default</span> {
  <span class="comment">// é…ç½®å†…å®¹</span>
}</pre>

                <h3>ğŸ”§ defineConfig åŠ©æ‰‹å‡½æ•°</h3>
                <pre><span class="keyword">import</span> { defineConfig } <span class="keyword">from</span> <span class="string">'vite'</span>
<span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="comment">// é…ç½®å†…å®¹</span>
})</pre>

                <h3>ğŸ“˜ TypeScript é…ç½®æ–‡ä»¶</h3>
                <pre><span class="keyword">import</span> <span class="keyword">type</span> { UserConfig } <span class="keyword">from</span> <span class="string">'vite'</span>
<span class="keyword">export</span> <span class="keyword">default</span> {
  <span class="comment">// é…ç½®å†…å®¹</span>
} <span class="keyword">satisfies</span> UserConfig</pre>

                <div class="tip">
                    ğŸ’¡ ä½¿ç”¨ defineConfig å¯ä»¥è·å¾—å®Œæ•´çš„ç±»å‹æç¤ºå’ŒéªŒè¯
                </div>
            </div>

            <!-- æ¡ä»¶é…ç½® -->
            <div class="card">
                <h2>ğŸ”„ æ¡ä»¶é…ç½® <a href="https://vite.dev/config/#conditional-config" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ¯ åŸºäºå‘½ä»¤çš„æ¡ä»¶é…ç½®</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>(({ <span class="variable">command</span>, <span class="variable">mode</span>, <span class="variable">isSsrBuild</span>, <span class="variable">isPreview</span> }) => {
  <span class="keyword">if</span> (<span class="variable">command</span> === <span class="string">'serve'</span>) {
    <span class="keyword">return</span> {
      <span class="comment">// å¼€å‘ç¯å¢ƒç‰¹å®šé…ç½®</span>
      <span class="variable">server</span>: {
        <span class="variable">port</span>: <span class="number">3000</span>
      }
    }
  } <span class="keyword">else</span> {
    <span class="keyword">return</span> {
      <span class="comment">// æ„å»ºç¯å¢ƒç‰¹å®šé…ç½®</span>
      <span class="variable">build</span>: {
        <span class="variable">minify</span>: <span class="string">'terser'</span>
      }
    }
  }
})</pre>

                <h3>ğŸ­ å¸¸ç”¨æ¡ä»¶åˆ¤æ–­</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>(({ <span class="variable">command</span>, <span class="variable">mode</span>, <span class="variable">isSsrBuild</span>, <span class="variable">isPreview</span> }) => {
  <span class="keyword">return</span> {
    <span class="comment">// å¼€å‘ç¯å¢ƒ</span>
    <span class="variable">devOnly</span>: <span class="variable">command</span> === <span class="string">'serve'</span>,
    <span class="comment">// ç”Ÿäº§ç¯å¢ƒæ„å»º</span>
    <span class="variable">prodBuild</span>: <span class="variable">command</span> === <span class="string">'build'</span> <span class="operator">&amp;&amp;</span> <span class="variable">mode</span> === <span class="string">'production'</span>,
    <span class="comment">// SSR æ„å»º</span>
    <span class="variable">ssr</span>: <span class="variable">isSsrBuild</span>,
    <span class="comment">// é¢„è§ˆæ¨¡å¼</span>
    <span class="variable">preview</span>: <span class="variable">isPreview</span>
  }
})</pre>

                <div class="tip">
                    ğŸ’¡ æ¡ä»¶é…ç½®å…è®¸æ ¹æ®ä¸åŒçš„æ„å»ºç¯å¢ƒåŠ¨æ€è°ƒæ•´é…ç½®
                </div>
            </div>

            <!-- å¼‚æ­¥é…ç½® -->
            <div class="card">
                <h2>âš¡ å¼‚æ­¥é…ç½® <a href="https://vite.dev/config/#async-config" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸš€ å¼‚æ­¥å‡½æ•°é…ç½®</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>(<span class="keyword">async</span> ({ <span class="variable">command</span>, <span class="variable">mode</span> }) => {
  <span class="keyword">const</span> <span class="variable">data</span> = <span class="keyword">await</span> <span class="function">asyncFunction</span>()
  <span class="keyword">return</span> {
    <span class="comment">// ä½¿ç”¨å¼‚æ­¥æ•°æ®</span>
    <span class="variable">define</span>: {
      <span class="variable">__ASYNC_DATA__</span>: <span class="function">JSON</span>.<span class="function">stringify</span>(<span class="variable">data</span>)
    }
  }
})</pre>

                <div class="tip">
                    ğŸ’¡ å¼‚æ­¥é…ç½®é€‚ç”¨äºéœ€è¦ä»å¤–éƒ¨æ•°æ®æºåŠ è½½é…ç½®çš„åœºæ™¯
                </div>
            </div>

            <!-- ç¯å¢ƒå˜é‡ä½¿ç”¨ -->
            <div class="card">
                <h2>ğŸŒ ç¯å¢ƒå˜é‡ä½¿ç”¨ <a href="https://vite.dev/guide/env-and-mode" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ“‚ åŠ è½½ç¯å¢ƒå˜é‡</h3>
                <pre><span class="keyword">import</span> { defineConfig, <span class="function">loadEnv</span> } <span class="keyword">from</span> <span class="string">'vite'</span>

<span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>(({ <span class="variable">mode</span> }) => {
  <span class="comment">// åŸºäºæ¨¡å¼åŠ è½½ç¯å¢ƒå˜é‡</span>
  <span class="keyword">const</span> <span class="variable">env</span> = <span class="function">loadEnv</span>(<span class="variable">mode</span>, <span class="variable">process</span>.<span class="function">cwd</span>(), <span class="string">''</span>)

  <span class="keyword">return</span> {
    <span class="variable">define</span>: {
      <span class="variable">__APP_ENV__</span>: <span class="function">JSON</span>.<span class="function">stringify</span>(<span class="variable">env</span>.<span class="variable">APP_ENV</span>),
    },
    <span class="variable">server</span>: {
      <span class="variable">port</span>: <span class="variable">env</span>.<span class="variable">APP_PORT</span> ? <span class="function">Number</span>(<span class="variable">env</span>.<span class="variable">APP_PORT</span>) : <span class="number">5173</span>,
    },
  }
})</pre>

                <h3>ğŸ¯ ç¯å¢ƒå˜é‡ä½œç”¨åŸŸ</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>(({ <span class="variable">mode</span> }) => {
  <span class="comment">// åŠ è½½æ‰€æœ‰ç¯å¢ƒå˜é‡ï¼ˆä¸é™åˆ¶ VITE_ å‰ç¼€ï¼‰</span>
  <span class="keyword">const</span> <span class="variable">env</span> = <span class="function">loadEnv</span>(<span class="variable">mode</span>, <span class="variable">process</span>.<span class="function">cwd</span>(), <span class="string">''</span>)

  <span class="comment">// ä»…åŠ è½½ VITE_ å‰ç¼€çš„ç¯å¢ƒå˜é‡</span>
  <span class="keyword">const</span> <span class="variable">viteEnv</span> = <span class="function">loadEnv</span>(<span class="variable">mode</span>, <span class="variable">process</span>.<span class="function">cwd</span>())

  <span class="keyword">return</span> {
    <span class="comment">// é…ç½®å†…å®¹</span>
  }
})</pre>

                <h3>ğŸ“‹ ç¯å¢ƒå˜é‡æ–‡ä»¶ä¼˜å…ˆçº§</h3>
                <pre>.env                <span class="comment"># æ‰€æœ‰ç¯å¢ƒ</span>
.env.local          <span class="comment"># æ‰€æœ‰ç¯å¢ƒï¼Œæœ¬åœ°ä¼˜å…ˆ</span>
.env.[mode]         <span class="comment"># ç‰¹å®šæ¨¡å¼</span>
.env.[mode].local   <span class="comment"># ç‰¹å®šæ¨¡å¼ï¼Œæœ¬åœ°ä¼˜å…ˆ</span></pre>

                <div class="tip">
                    ğŸ’¡ å®¢æˆ·ç«¯åªèƒ½è®¿é—®ä»¥ VITE_ å¼€å¤´çš„ç¯å¢ƒå˜é‡
                </div>
            </div>

            <!-- æ ¸å¿ƒé…ç½®é€‰é¡¹ -->
            <div class="card">
                <h2>âš™ï¸ æ ¸å¿ƒé…ç½®é€‰é¡¹ <a href="https://vite.dev/config/shared-options" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ“ é¡¹ç›®é…ç½®</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="comment">// é¡¹ç›®æ ¹ç›®å½•</span>
  <span class="variable">root</span>: <span class="string">'./src'</span>,
  <span class="comment">// ç¯å¢ƒå˜é‡ç›®å½•</span>
  <span class="variable">envDir</span>: <span class="string">'./env'</span>,
  <span class="comment">// åŸºç¡€å…¬å…±è·¯å¾„</span>
  <span class="variable">base</span>: <span class="string">'/my-app/'</span>,
  <span class="comment">// æ¨¡å¼</span>
  <span class="variable">mode</span>: <span class="string">'development'</span>,
  <span class="comment">// é…ç½®æ–‡ä»¶ç›®å½•</span>
  <span class="variable">configFile</span>: <span class="string">'my-vite.config.js'</span>,
})</pre>

                <h3>ğŸŒ æœåŠ¡å™¨é…ç½®</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">server</span>: {
    <span class="comment">// å¼€å‘æœåŠ¡å™¨ç«¯å£</span>
    <span class="variable">port</span>: <span class="number">5173</span>,
    <span class="comment">// è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    <span class="variable">open</span>: <span class="keyword">true</span>,
    <span class="comment">// CORS é…ç½®</span>
    <span class="variable">cors</span>: <span class="keyword">true</span>,
    <span class="comment">// ä»£ç†é…ç½®</span>
    <span class="variable">proxy</span>: {
      <span class="string">'/api'</span>: {
        <span class="variable">target</span>: <span class="string">'http://localhost:3000'</span>,
        <span class="variable">changeOrigin</span>: <span class="keyword">true</span>,
        <span class="variable">rewrite</span>: (<span class="variable">path</span>) => <span class="variable">path</span>.<span class="function">replace</span>(<span class="operator">/^</span><span class="operator">/</span><span class="operator">/</span><span class="operator">/</span><span class="operator">/</span><span class="operator">/</span><span class="operator">/</span><span class="operator">/</span><span class="operator">/</span><span class="operator">/</span><span class="string">api</span>, <span class="string">''</span>)
      }
    }
  }
})</pre>

                <div class="tip">
                    ğŸ’¡ ä»£ç†é…ç½®ç‰¹åˆ«é€‚åˆè§£å†³å¼€å‘ç¯å¢ƒè·¨åŸŸé—®é¢˜
                </div>
            </div>

            <!-- æ„å»ºé…ç½® -->
            <div class="card">
                <h2>ğŸ”¨ æ„å»ºé…ç½® <a href="https://vite.dev/config/build-options" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ“¦ æ„å»ºé€‰é¡¹</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">build</span>: {
    <span class="comment">// è¾“å‡ºç›®å½•</span>
    <span class="variable">outDir</span>: <span class="string">'dist'</span>,
    <span class="comment">// é™æ€èµ„æºç›®å½•</span>
    <span class="variable">assetsDir</span>: <span class="string">'assets'</span>,
    <span class="comment">// å‹ç¼©æ–¹å¼</span>
    <span class="variable">minify</span>: <span class="string">'terser'</span>,
    <span class="comment">// ç”Ÿæˆ source map</span>
    <span class="variable">sourcemap</span>: <span class="keyword">true</span>,
    <span class="comment">// æ„å»ºç›®æ ‡</span>
    <span class="variable">target</span>: <span class="string">'es2015'</span>,
    <span class="comment">// ä»£ç åˆ†å‰²</span>
    <span class="variable">rollupOptions</span>: {
      <span class="variable">output</span>: {
        <span class="variable">manualChunks</span>: {
          <span class="variable">vendor</span>: [<span class="string">'vue'</span>, <span class="string">'vue-router'</span>]
        }
      }
    }
  }
})</pre>

                <h3>ğŸ¯ æ„å»ºä¼˜åŒ–</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">build</span>: {
    <span class="comment">// å‡å°‘å†…å­˜ä½¿ç”¨</span>
    <span class="variable">chunkSizeWarningLimit</span>: <span class="number">1000</span>,
    <span class="variable">rollupOptions</span>: {
      <span class="variable">output</span>: {
        <span class="comment">// æ‰‹åŠ¨ä»£ç åˆ†å‰²</span>
        <span class="function">manualChunks</span>(<span class="variable">id</span>) {
          <span class="keyword">if</span> (<span class="variable">id</span>.<span class="function">includes</span>(<span class="string">'node_modules'</span>)) {
            <span class="keyword">return</span> <span class="string">'vendor'</span>
          }
        }
      }
    },
    <span class="comment">// å¹¶è¡Œå¤„ç†</span>
    <span class="variable">terserOptions</span>: {
      <span class="variable">compress</span>: {
        <span class="variable">drop_console</span>: <span class="keyword">true</span>,
        <span class="variable">drop_debugger</span>: <span class="keyword">true</span>
      }
    }
  }
})</pre>

                <div class="tip">
                    ğŸ’¡ åˆç†çš„ä»£ç åˆ†å‰²å¯ä»¥æ˜¾è‘—æå‡åº”ç”¨åŠ è½½æ€§èƒ½
                </div>
            </div>

            <!-- æ’ä»¶é…ç½® -->
            <div class="card">
                <h2>ğŸ”Œ æ’ä»¶é…ç½® <a href="https://vite.dev/config/plugins-options" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ§© åŸºç¡€æ’ä»¶ä½¿ç”¨</h3>
                <pre><span class="keyword">import</span> <span class="variable">vue</span> <span class="keyword">from</span> <span class="string">'@vitejs/plugin-vue'</span>
<span class="keyword">import</span> <span class="variable">react</span> <span class="keyword">from</span> <span class="string">'@vitejs/plugin-react'</span>
<span class="keyword">import</span> { <span class="function">resolve</span> } <span class="keyword">from</span> <span class="string">'path'</span>

<span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">plugins</span>: [
    <span class="function">vue</span>(),
    <span class="function">react</span>()
  ]
})</pre>

                <h3>ğŸ› ï¸ è‡ªå®šä¹‰æ’ä»¶</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">plugins</span>: [
    <span class="function">vue</span>(),
    <span class="comment">// è‡ªå®šä¹‰æ’ä»¶</span>
    {
      <span class="variable">name</span>: <span class="string">'my-plugin'</span>,
      <span class="function">configureServer</span>(<span class="variable">server</span>) {
        <span class="variable">server</span>.<span class="variable">middlewares</span>.<span class="function">use</span>((<span class="variable">req</span>, <span class="variable">res</span>, <span class="variable">next</span>) => {
          <span class="comment">// è‡ªå®šä¹‰ä¸­é—´ä»¶</span>
          <span class="function">next</span>()
        })
      }
    }
  ]
})</pre>

                <div class="tip">
                    ğŸ’¡ Vite æ’ä»¶ç³»ç»ŸåŸºäº Rollupï¼Œæ‰©å±•æ€§å¼º
                </div>
            </div>

            <!-- è·¯å¾„åˆ«å -->
            <div class="card">
                <h2>ğŸ”— è·¯å¾„åˆ«å <a href="https://vite.dev/config/shared-options#resolve-alias" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ“ åŸºç¡€åˆ«åé…ç½®</h3>
                <pre><span class="keyword">import</span> { <span class="function">resolve</span> } <span class="keyword">from</span> <span class="string">'path'</span>

<span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">resolve</span>: {
    <span class="variable">alias</span>: {
      <span class="string">'@'</span>: <span class="function">resolve</span>(<span class="variable">__dirname</span>, <span class="string">'src'</span>),
      <span class="string">'@components'</span>: <span class="function">resolve</span>(<span class="variable">__dirname</span>, <span class="string">'src/components'</span>),
      <span class="string">'@utils'</span>: <span class="function">resolve</span>(<span class="variable">__dirname</span>, <span class="string">'src/utils'</span>)
    }
  }
})</pre>

                <h3>ğŸ¯ æ­£åˆ™è¡¨è¾¾å¼åˆ«å</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">resolve</span>: {
    <span class="variable">alias</span>: [
      {
        <span class="variable">find</span>: <span class="operator">/^</span>@components<span class="operator">/</span>,
        <span class="variable">replacement</span>: <span class="function">resolve</span>(<span class="variable">__dirname</span>, <span class="string">'src/components'</span>)
      }
    ]
  }
})</pre>

                <div class="tip">
                    ğŸ’¡ è·¯å¾„åˆ«åå¯ä»¥ç®€åŒ–å¯¼å…¥è·¯å¾„ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§
                </div>
            </div>

            <!-- CSS é…ç½® -->
            <div class="card">
                <h2>ğŸ¨ CSS é…ç½® <a href="https://vite.dev/config/shared-options#css-preprocessoroptions" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ–Œï¸ é¢„å¤„ç†å™¨é…ç½®</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">css</span>: {
    <span class="comment">// CSS é¢„å¤„ç†å™¨é…ç½®</span>
    <span class="variable">preprocessorOptions</span>: {
      <span class="variable">scss</span>: {
        <span class="variable">additionalData</span>: <span class="string">'@import "@/styles/variables.scss";'</span>
      },
      <span class="variable">sass</span>: {
        <span class="variable">additionalData</span>: <span class="string">'@use "@/styles/variables" as *;'</span>
      },
      <span class="variable">less</span>: {
        <span class="variable">javascriptEnabled</span>: <span class="keyword">true</span>
      }
    }
  }
})</pre>

                <h3>ğŸ”§ PostCSS é…ç½®</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">css</span>: {
    <span class="comment">// PostCSS é…ç½®</span>
    <span class="variable">postcss</span>: {
      <span class="variable">plugins</span>: [
        <span class="function">require</span>(<span class="string">'autoprefixer'</span>),
        <span class="function">require</span>(<span class="string">'tailwindcss'</span>),
        <span class="function">require</span>(<span class="string">'postcss-nested'</span>)
      ]
    }
  }
})</pre>

                <h3>ğŸ¯ CSS æ¨¡å—åŒ–</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">css</span>: {
    <span class="variable">modules</span>: {
      <span class="variable">localsConvention</span>: <span class="string">'camelCaseOnly'</span>
    }
  }
})</pre>

                <div class="tip">
                    ğŸ’¡ CSS æ¨¡å—åŒ–å¯ä»¥å¸®åŠ©é¿å…æ ·å¼å‘½åå†²çª
                </div>
            </div>

            <!-- ä¾èµ–ä¼˜åŒ– -->
            <div class="card">
                <h2>âš¡ ä¾èµ–ä¼˜åŒ– <a href="https://vite.dev/config/dep-optimization-options" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ“¦ é¢„æ„å»ºé…ç½®</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">optimizeDeps</span>: {
    <span class="comment">// å¼ºåˆ¶é¢„æ„å»ºä¾èµ–</span>
    <span class="variable">include</span>: [<span class="string">'vue'</span>, <span class="string">'vue-router'</span>, <span class="string">'axios'</span>],
    <span class="comment">// æ’é™¤é¢„æ„å»º</span>
    <span class="variable">exclude</span>: [<span class="string">'@tensorflow/tfjs'</span>],
    <span class="comment">// æ·»åŠ éœ€è¦è½¬æ¢çš„ä¾èµ–</span>
    <span class="variable">force</span>: <span class="keyword">true</span>,
    <span class="comment">// è‡ªå®šä¹‰ ES æ„å»ºé€‰é¡¹</span>
    <span class="variable">esbuildOptions</span>: {
      <span class="variable">target</span>: <span class="string">'es2020'</span>
    }
  }
})</pre>

                <h3>ğŸš€ å¼€å‘æ€§èƒ½ä¼˜åŒ–</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">server</span>: {
    <span class="variable">fs</span>: {
      <span class="comment">// é™åˆ¶æ–‡ä»¶ç³»ç»Ÿè®¿é—®èŒƒå›´</span>
      <span class="variable">strict</span>: <span class="keyword">false</span>
    },
    <span class="variable">hmr</span>: {
      <span class="comment">// çƒ­æ›´æ–°é…ç½®</span>
      <span class="variable">overlay</span>: <span class="keyword">true</span>
    }
  },
  <span class="variable">optimizeDeps</span>: {
    <span class="comment">// é¢„æ„å»ºä¼˜åŒ–</span>
    <span class="variable">force</span>: <span class="keyword">true</span>,
    <span class="variable">include</span>: [<span class="string">'vue'</span>, <span class="string">'vue-router'</span>]
  }
})</pre>

                <div class="tip">
                    ğŸ’¡ åˆç†çš„ä¾èµ–ä¼˜åŒ–å¯ä»¥æ˜¾è‘—æå‡å¼€å‘æœåŠ¡å™¨å¯åŠ¨é€Ÿåº¦
                </div>
            </div>

            <!-- å¸¸ç”¨é…ç½®æ¨¡æ¿ -->
            <div class="card">
                <h2>ğŸ“‹ å¸¸ç”¨é…ç½®æ¨¡æ¿ <a href="https://vite.dev/guide/" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>âš›ï¸ Vue 3 é¡¹ç›®</h3>
                <pre><span class="keyword">import</span> { defineConfig } <span class="keyword">from</span> <span class="string">'vite'</span>
<span class="keyword">import</span> <span class="variable">vue</span> <span class="keyword">from</span> <span class="string">'@vitejs/plugin-vue'</span>
<span class="keyword">import</span> { <span class="function">resolve</span> } <span class="keyword">from</span> <span class="string">'path'</span>

<span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">plugins</span>: [<span class="function">vue</span>()],
  <span class="variable">resolve</span>: {
    <span class="variable">alias</span>: {
      <span class="string">'@'</span>: <span class="function">resolve</span>(<span class="variable">__dirname</span>, <span class="string">'src'</span>)
    }
  },
  <span class="variable">server</span>: {
    <span class="variable">port</span>: <span class="number">3000</span>,
    <span class="variable">open</span>: <span class="keyword">true</span>
  },
  <span class="variable">build</span>: {
    <span class="variable">outDir</span>: <span class="string">'dist'</span>,
    <span class="variable">assetsDir</span>: <span class="string">'assets'</span>,
    <span class="variable">sourcemap</span>: <span class="keyword">false</span>
  }
})</pre>

                <h3>âš›ï¸ React é¡¹ç›®</h3>
                <pre><span class="keyword">import</span> { defineConfig } <span class="keyword">from</span> <span class="string">'vite'</span>
<span class="keyword">import</span> <span class="variable">react</span> <span class="keyword">from</span> <span class="string">'@vitejs/plugin-react'</span>

<span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">plugins</span>: [<span class="function">react</span>()],
  <span class="variable">server</span>: {
    <span class="variable">port</span>: <span class="number">3000</span>,
    <span class="variable">open</span>: <span class="keyword">true</span>
  },
  <span class="variable">build</span>: {
    <span class="variable">outDir</span>: <span class="string">'build'</span>,
    <span class="variable">sourcemap</span>: <span class="keyword">true</span>
  },
  <span class="variable">optimizeDeps</span>: {
    <span class="variable">include</span>: [<span class="string">'react'</span>, <span class="string">'react-dom'</span>]
  }
})</pre>

                <h3>ğŸ“˜ TypeScript é¡¹ç›®</h3>
                <pre><span class="keyword">import</span> { defineConfig } <span class="keyword">from</span> <span class="string">'vite'</span>
<span class="keyword">import</span> { <span class="function">resolve</span> } <span class="keyword">from</span> <span class="string">'path'</span>

<span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">resolve</span>: {
    <span class="variable">alias</span>: {
      <span class="string">'@'</span>: <span class="function">resolve</span>(<span class="variable">__dirname</span>, <span class="string">'src'</span>),
      <span class="string">'@types'</span>: <span class="function">resolve</span>(<span class="variable">__dirname</span>, <span class="string">'src/types'</span>)
    }
  },
  <span class="variable">server</span>: {
    <span class="variable">port</span>: <span class="number">5173</span>
  },
  <span class="variable">build</span>: {
    <span class="variable">target</span>: <span class="string">'esnext'</span>,
    <span class="variable">outDir</span>: <span class="string">'dist'</span>
  }
})</pre>

                <div class="tip">
                    ğŸ’¡ æ ¹æ®é¡¹ç›®ç±»å‹é€‰æ‹©åˆé€‚çš„é…ç½®æ¨¡æ¿å¯ä»¥å¿«é€Ÿå¼€å§‹å¼€å‘
                </div>
            </div>

            <!-- æ’ä»¶å¼€å‘ -->
            <div class="card">
                <h2>ğŸ”§ æ’ä»¶å¼€å‘ <a href="https://vite.dev/guide/api-plugin" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ› ï¸ ç®€å•æ’ä»¶ç¤ºä¾‹</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="function">myPlugin</span>() {
  <span class="keyword">return</span> {
    <span class="variable">name</span>: <span class="string">'my-plugin'</span>,
    <span class="comment">// é’©å­å‡½æ•°</span>
    <span class="function">config</span>(<span class="variable">config</span>, { <span class="variable">command</span> }) {
      <span class="comment">// é…ç½®é’©å­</span>
      <span class="keyword">return</span> {
        <span class="comment">// è¿”å›é…ç½®åˆå¹¶</span>
      }
    },
    <span class="function">configResolved</span>(<span class="variable">resolvedConfig</span>) {
      <span class="comment">// é…ç½®è§£æå®Œæˆé’©å­</span>
    },
    <span class="function">configureServer</span>(<span class="variable">server</span>) {
      <span class="comment">// æœåŠ¡å™¨é…ç½®é’©å­</span>
      <span class="variable">server</span>.<span class="variable">middlewares</span>.<span class="function">use</span>((<span class="variable">req</span>, <span class="variable">res</span>, <span class="variable">next</span>) => {
        <span class="function">next</span>()
      })
    },
    <span class="function">transform</span>(<span class="variable">code</span>, <span class="variable">id</span>) {
      <span class="comment">// ä»£ç è½¬æ¢é’©å­</span>
      <span class="keyword">if</span> (<span class="variable">id</span>.<span class="function">endsWith</span>(<span class="string">'.vue'</span>)) {
        <span class="comment">// è½¬æ¢ Vue æ–‡ä»¶</span>
        <span class="keyword">return</span> <span class="variable">code</span>.<span class="function">replace</span>(<span class="operator">/</span>foo<span class="operator">/</span>g, <span class="string">'bar'</span>)
      }
    }
  }
}</pre>

                <h3>ğŸ¯ æ’ä»¶é’©å­è¯´æ˜</h3>
                <pre><span class="comment">// ä¸»è¦æ’ä»¶é’©å­</span>
{
  <span class="variable">name</span>: <span class="string">'plugin-name'</span>,          <span class="comment">// æ’ä»¶åç§°</span>
  <span class="function">config</span>,                        <span class="comment">// é…ç½®è§£æå‰</span>
  <span class="function">configResolved</span>,              <span class="comment">// é…ç½®è§£æå</span>
  <span class="function">configureServer</span>,              <span class="comment">// å¼€å‘æœåŠ¡å™¨é…ç½®</span>
  <span class="function">configurePreviewServer</span>,        <span class="comment">// é¢„è§ˆæœåŠ¡å™¨é…ç½®</span>
  <span class="function">transformIndexHtml</span>,            <span class="comment">// HTML è½¬æ¢</span>
  <span class="function">transform</span>,                    <span class="comment">// ä»£ç è½¬æ¢</span>
  <span class="function">buildStart</span>,                  <span class="comment">// æ„å»ºå¼€å§‹</span>
  <span class="function">buildEnd</span>,                    <span class="comment">// æ„å»ºç»“æŸ</span>
  <span class="function">closeBundle</span>                   <span class="comment">// å…³é—­æ„å»º</span>
}</pre>

                <div class="tip">
                    ğŸ’¡ Vite æ’ä»¶åŸºäº Rollup æ’ä»¶æ¥å£ï¼Œæ‰©å±•äº†ç‰¹å®šçš„å¼€å‘æœåŠ¡å™¨é’©å­
                </div>
            </div>

            <!-- é«˜çº§é…ç½® -->
            <div class="card">
                <h2>ğŸš€ é«˜çº§é…ç½® <a href="https://vite.dev/config/" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <h3>ğŸ¯ é¢„è§ˆé…ç½®</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">preview</span>: {
    <span class="comment">// é¢„è§ˆæœåŠ¡å™¨ç«¯å£</span>
    <span class="variable">port</span>: <span class="number">4173</span>,
    <span class="comment">// è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    <span class="variable">open</span>: <span class="keyword">true</span>,
    <span class="comment">// ä¸»æœºå</span>
    <span class="variable">host</span>: <span class="keyword">true</span>
  }
})</pre>

                <h3>ğŸ”§ å®éªŒæ€§åŠŸèƒ½</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="comment">// å®éªŒæ€§åŠŸèƒ½</span>
  <span class="variable">experimental</span>: {
    <span class="comment">// å¯ç”¨æ„å»ºä¼˜åŒ–</span>
    <span class="variable">buildTarget</span>: <span class="string">'esnext'</span>,
    <span class="comment">// å¯ç”¨ hmrPartialAccept</span>
    <span class="variable">hmrPartialAccept</span>: <span class="keyword">true</span>
  }
})</pre>

                <h3>ğŸ“Š Worker é…ç½®</h3>
                <pre><span class="keyword">export</span> <span class="keyword">default</span> <span class="function">defineConfig</span>({
  <span class="variable">worker</span>: {
    <span class="comment">// Worker è¾“å‡ºæ ¼å¼</span>
    <span class="variable">format</span>: <span class="string">'es'</span>,
    <span class="comment">// Worker æ’ä»¶</span>
    <span class="variable">plugins</span>: [],
    <span class="comment">// Worker æ‰“åŒ…é…ç½®</span>
    <span class="variable">rollupOptions</span>: {}
  }
})</pre>

                <div class="tip">
                    ğŸ’¡ é«˜çº§é…ç½®é€‚ç”¨äºç‰¹å®šéœ€æ±‚å’Œæ€§èƒ½ä¼˜åŒ–åœºæ™¯
                </div>
            </div>

        </div>
    </div>

    <script>
        // åˆ—å®½è°ƒèŠ‚åŠŸèƒ½
        const columnWidth = document.getElementById('columnWidth');
        const widthVal = document.getElementById('widthVal');
        const columns = document.getElementById('columns');

        function updateColumnWidth() {
            const width = columnWidth.value + 'px';
            widthVal.textContent = width;
            columns.style.columnWidth = width;
        }

        columnWidth.addEventListener('input', updateColumnWidth);
        updateColumnWidth();
    </script>
</body>
</html>