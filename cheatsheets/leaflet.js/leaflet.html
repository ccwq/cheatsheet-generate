<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Leaflet.jsäº¤äº’å¼åœ°å›¾å¼€å‘é€ŸæŸ¥è¡¨</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- å¼•å…¥å…¬å…±CSSæ ·å¼ -->
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/common.css">

    <style>
      /* ç‰¹æœ‰çš„æ ·å¼è°ƒæ•´ */
      .cheat-columns {
        /* ä½¿ç”¨column-countå¸ƒå±€ */
        column-count: 4;
      }

      @media (max-width: 1500px) {
        .cheat-columns {
          column-count: 3;
        }
      }

      @media (max-width: 1100px) {
        .cheat-columns {
          column-count: 2;
        }
      }

      @media (max-width: 750px) {
        .cheat-columns {
          column-count: 1;
        }
      }

      .panel label {
        color: #ffe49b; /* ä¿æŒåŸæœ‰çš„labelé¢œè‰² */
      }

      .slider-bar {
        min-width: 120px; /* ä¿æŒåŸæœ‰çš„æ»‘å—å®½åº¦ */
      }

      .slider-val {
        min-width: 28px; /* ä¿æŒåŸæœ‰çš„å€¼æ˜¾ç¤ºå®½åº¦ */
      }
    </style>

    <link rel="icon" type="image/png" href="../../assets/brand/cheatsheet.png" />
    <link rel="apple-touch-icon" href="../../assets/brand/cheatsheet.png" />
  </head>
<body>
    <div class="container">
        <div class="panel">
            <span style="color:#7bfbb7;font-size:16px;margin-right:auto;">Leaflet.jsäº¤äº’å¼åœ°å›¾å¼€å‘é€ŸæŸ¥è¡¨</span>
            <label for="columnWidth">ğŸ”§ è°ƒæ•´æ¯åˆ—å®½åº¦ï¼š</label>
            <input id="columnWidth" class="slider-bar" type="range" min="300" max="660" value="340">
            <span id="widthVal" class="slider-val">340px</span>
        </div>
        <div class="cheat-columns" id="columns">
            <!-- åœ°å›¾åˆå§‹åŒ–ä¸é…ç½® -->
            <div class="card">
                <h2>ğŸ—ºï¸ åœ°å›¾åˆå§‹åŒ–ä¸é…ç½® <a href="https://leafletjs.com/reference.html#map-usage" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>L.map('mapId', options)</code> ï¼šåˆ›å»ºåœ°å›¾å®ä¾‹</li>
                    <li><code>center: [lat, lng]</code> ï¼šè®¾ç½®åœ°å›¾ä¸­å¿ƒç‚¹</li>
                    <li><code>zoom: 10</code> ï¼šè®¾ç½®åˆå§‹ç¼©æ”¾çº§åˆ«</li>
                    <li><code>minZoom: 1, maxZoom: 18</code> ï¼šç¼©æ”¾èŒƒå›´é™åˆ¶</li>
                    <li><code>maxBounds: bounds</code> ï¼šåœ°å›¾è¾¹ç•Œé™åˆ¶</li>
                    <li><code>zoomControl: true</code> ï¼šæ˜¾ç¤ºç¼©æ”¾æ§ä»¶</li>
                    <li><code>attributionControl: true</code> ï¼šæ˜¾ç¤ºç‰ˆæƒæ§ä»¶</li>
                </ul>
                <h3>äº¤äº’æ§åˆ¶</h3>
                <ul>
                    <li><code>dragging: true</code> ï¼šå¯ç”¨æ‹–æ‹½</li>
                    <li><code>touchZoom: true</code> ï¼šè§¦æ‘¸ç¼©æ”¾</li>
                    <li><code>scrollWheelZoom: true</code> ï¼šæ»šè½®ç¼©æ”¾</li>
                    <li><code>doubleClickZoom: true</code> ï¼šåŒå‡»ç¼©æ”¾</li>
                    <li><code>keyboard: true</code> ï¼šé”®ç›˜æ§åˆ¶</li>
                </ul>
                <h3>åœ°å›¾åˆå§‹åŒ–ç¤ºä¾‹</h3>
                <pre>let map = L.map('map', {
    center: [39.9042, 116.4074],
    zoom: 12,
    zoomControl: true,
    scrollWheelZoom: true
});</pre>
                <div class="desc">åŸºç¡€åœ°å›¾é…ç½®ï¼Œæ”¯æŒå¤šç§äº¤äº’é€‰é¡¹</div>
            </div>

            <!-- è§†å›¾æ§åˆ¶ -->
            <div class="card">
                <h2>ğŸ¯ è§†å›¾æ§åˆ¶ <a href="https://leafletjs.com/reference.html#map-methods-for-modifying-map-state" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>map.setView([lat, lng], zoom)</code> ï¼šè®¾ç½®è§†å›¾</li>
                    <li><code>map.setZoom(zoom)</code> ï¼šè®¾ç½®ç¼©æ”¾çº§åˆ«</li>
                    <li><code>map.zoomIn(delta)</code> ï¼šæ”¾å¤§</li>
                    <li><code>map.zoomOut(delta)</code> ï¼šç¼©å°</li>
                    <li><code>map.panTo([lat, lng])</code> ï¼šå¹³ç§»åˆ°æŒ‡å®šç‚¹</li>
                    <li><code>map.flyTo([lat, lng], zoom)</code> ï¼šé£è¡ŒåŠ¨ç”»åˆ°æŒ‡å®šç‚¹</li>
                    <li><code>map.fitBounds(bounds)</code> ï¼šé€‚åº”è¾¹ç•Œ</li>
                    <li><code>map.setMaxBounds(bounds)</code> ï¼šè®¾ç½®æœ€å¤§è¾¹ç•Œ</li>
                </ul>
                <h3>åŠ¨ç”»é€‰é¡¹</h3>
                <pre>map.flyTo([39.9042, 116.4074], 15, {
    duration: 2,
    easeLinearity: 0.5
});</pre>
                <h3>è¾¹ç•Œæ“ä½œ</h3>
                <pre>let bounds = L.latLngBounds(
    [[39.8, 116.3], [40.0, 116.5]]
);
map.fitBounds(bounds, {padding: [20, 20]});</pre>
                <div class="desc">æ”¯æŒå¹³æ»‘åŠ¨ç”»å’Œè¾¹ç•Œè‡ªé€‚åº”</div>
            </div>

            <!-- ç“¦ç‰‡å›¾å±‚ç³»ç»Ÿ -->
            <div class="card">
                <h2>ğŸ—‚ï¸ ç“¦ç‰‡å›¾å±‚ç³»ç»Ÿ <a href="https://leafletjs.com/reference.html#tilelayer" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>L.tileLayer(url, options)</code> ï¼šåˆ›å»ºç“¦ç‰‡å›¾å±‚</li>
                    <li><code>url: 'https://{s}.domain.com/{z}/{x}/{y}.png'</code> ï¼šç“¦ç‰‡URLæ¨¡æ¿</li>
                    <li><code>attribution: 'Â© attribution'</code> ï¼šç‰ˆæƒä¿¡æ¯</li>
                    <li><code>maxZoom: 19</code> ï¼šæœ€å¤§ç¼©æ”¾çº§åˆ«</li>
                    <li><code>subdomains: ['a','b','c']</code> ï¼šå­åŸŸå</li>
                    <li><code>opacity: 1.0</code> ï¼šå›¾å±‚é€æ˜åº¦</li>
                    <li><code>zIndex: 1</code> ï¼šå›¾å±‚å †å é¡ºåº</li>
                </ul>
                <h3>å¸¸ç”¨ç“¦ç‰‡æº</h3>
                <pre>// OpenStreetMap
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png')

// é«˜å¾·åœ°å›¾
L.tileLayer('https://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}')

// è…¾è®¯åœ°å›¾
L.tileLayer('https://rt{s}.map.gtimg.com/realtimerender?z={z}&x={x}&y={y}&type=vector&style=0')</pre>
                <h3>WMSå›¾å±‚</h3>
                <pre>L.tileLayer.wms('http://wms-server/wms', {
    layers: 'layer_name',
    format: 'image/png',
    transparent: true,
    version: '1.1.1'
});</pre>
                <div class="desc">æ”¯æŒå¤šç§åœ°å›¾æœåŠ¡å’Œè‡ªå®šä¹‰ç“¦ç‰‡æº</div>
            </div>

            <!-- æ ‡è®°ç³»ç»Ÿ -->
            <div class="card">
                <h2>ğŸ“ æ ‡è®°ç³»ç»Ÿ <a href="https://leafletjs.com/reference.html#marker" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>L.marker([lat, lng], options)</code> ï¼šåˆ›å»ºæ ‡è®°</li>
                    <li><code>icon: L.icon(options)</code> ï¼šè‡ªå®šä¹‰å›¾æ ‡</li>
                    <li><code>draggable: true</code> ï¼šå¯æ‹–æ‹½</li>
                    <li><code>title: 'æ ‡é¢˜'</code> ï¼šæ‚¬åœæç¤º</li>
                    <li><code>alt: 'æ›¿ä»£æ–‡æœ¬'</code> ï¼šæ›¿ä»£æ–‡æœ¬</li>
                    <li><code>zIndexOffset: 0</code> ï¼šZè½´åç§»</li>
                    <li><code>opacity: 1.0</code> ï¼šé€æ˜åº¦</li>
                    <li><code>marker.addTo(map)</code> ï¼šæ·»åŠ åˆ°åœ°å›¾</li>
                </ul>
                <h3>è‡ªå®šä¹‰å›¾æ ‡</h3>
                <pre>let customIcon = L.icon({
    iconUrl: 'marker-icon.png',
    shadowUrl: 'marker-shadow.png',
    iconSize: [25, 41],
    iconAnchor: [12, 41],
    popupAnchor: [1, -34],
    shadowSize: [41, 41]
});</pre>
                <h3>DivIconæ ‡è®°</h3>
                <pre>let divIcon = L.divIcon({
    html: '&lt;div class="custom-marker"&gt;è‡ªå®šä¹‰&lt;/div&gt;',
    className: 'my-div-icon',
    iconSize: [30, 42]
});</pre>
                <div class="desc">æ”¯æŒå›¾åƒæ ‡è®°å’ŒHTMLè‡ªå®šä¹‰æ ‡è®°</div>
            </div>

            <!-- å¼¹çª—ä¸æç¤ºæ¡† -->
            <div class="card">
                <h2>ğŸ’¬ å¼¹çª—ä¸æç¤ºæ¡† <a href="https://leafletjs.com/reference.html#popup" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>L.popup(options)</code> ï¼šåˆ›å»ºå¼¹çª—</li>
                    <li><code>maxWidth: 300</code> ï¼šæœ€å¤§å®½åº¦</li>
                    <li><code>minWidth: 50</code> ï¼šæœ€å°å®½åº¦</li>
                    <li><code>maxHeight: null</code> ï¼šæœ€å¤§é«˜åº¦</li>
                    <li><code>autoPan: true</code> ï¼šè‡ªåŠ¨å¹³ç§»</li>
                    <li><code>closeButton: true</code> ï¼šæ˜¾ç¤ºå…³é—­æŒ‰é’®</li>
                    <li><code>autoClose: true</code> ï¼šè‡ªåŠ¨å…³é—­</li>
                    <li><code>className: 'custom-popup'</code> ï¼šè‡ªå®šä¹‰æ ·å¼ç±»</li>
                </ul>
                <h3>å¼¹çª—æ“ä½œ</h3>
                <pre>marker.bindPopup('å¼¹çª—å†…å®¹').openPopup();
marker.setPopupContent('æ–°å†…å®¹');
marker.unbindPopup();</pre>
                <h3>Tooltipæç¤ºæ¡†</h3>
                <pre>marker.bindTooltip('æç¤ºæ–‡æœ¬', {
    permanent: false,
    direction: 'auto',
    sticky: false,
    opacity: 0.9,
    offset: [0, 0]
});</pre>
                <h3>äº‹ä»¶ç»‘å®š</h3>
                <pre>marker.on('click', function(e) {
    e.target.openPopup();
});</pre>
                <div class="desc">æä¾›ä¸°å¯Œçš„ä¿¡æ¯å±•ç¤ºå’Œäº¤äº’æ–¹å¼</div>
            </div>

            <!-- å‡ ä½•å›¾å½¢ -->
            <div class="card">
                <h2>ğŸ“ å‡ ä½•å›¾å½¢ <a href="https://leafletjs.com/reference.html#path" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>L.polyline(latlngs, options)</code> ï¼šæŠ˜çº¿</li>
                    <li><code>L.polygon(latlngs, options)</code> ï¼šå¤šè¾¹å½¢</li>
                    <li><code>L.circle([lat, lng], options)</code> ï¼šåœ†å½¢</li>
                    <li><code>L.circleMarker([lat, lng], options)</code> ï¼šåœ†å½¢æ ‡è®°</li>
                    <li><code>L.rectangle(bounds, options)</code> ï¼šçŸ©å½¢</li>
                </ul>
                <h3>æ ·å¼é€‰é¡¹</h3>
                <ul>
                    <li><code>color: '#ff7800'</code> ï¼šçº¿æ¡é¢œè‰²</li>
                    <li><code>weight: 3</code> ï¼šçº¿æ¡å®½åº¦</li>
                    <li><code>opacity: 1.0</code> ï¼šçº¿æ¡é€æ˜åº¦</li>
                    <li><code>fillColor: '#ff7800'</code> ï¼šå¡«å……é¢œè‰²</li>
                    <li><code>fillOpacity: 0.5</code> ï¼šå¡«å……é€æ˜åº¦</li>
                    <li><code>dashArray: '5, 10'</code> ï¼šè™šçº¿æ ·å¼</li>
                </ul>
                <h3>å¤šè¾¹å½¢ç¤ºä¾‹</h3>
                <pre>let polygon = L.polygon([
    [[51.509, -0.08],
    [51.503, -0.06],
    [51.51, -0.047]]
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);</pre>
                <h3>åœ†å½¢ç¤ºä¾‹</h3>
                <pre>let circle = L.circle([lat, lng], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5,
    radius: 500
}).addTo(map);</pre>
                <div class="desc">æ”¯æŒå¤šç§çŸ¢é‡å›¾å½¢ç»˜åˆ¶å’Œæ ·å¼å®šåˆ¶</div>
            </div>

            <!-- äº‹ä»¶å¤„ç†ç³»ç»Ÿ -->
            <div class="card">
                <h2>âš¡ äº‹ä»¶å¤„ç†ç³»ç»Ÿ <a href="https://leafletjs.com/reference.html#events" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>map.on('event', handler)</code> ï¼šç»‘å®šäº‹ä»¶</li>
                    <li><code>map.off('event', handler)</code> ï¼šè§£ç»‘äº‹ä»¶</li>
                    <li><code>map.fire('event', data)</code> ï¼šè§¦å‘äº‹ä»¶</li>
                </ul>
                <h3>åœ°å›¾äº‹ä»¶</h3>
                <ul>
                    <li><code>click</code> ï¼šç‚¹å‡»åœ°å›¾</li>
                    <li><code>dblclick</code> ï¼šåŒå‡»åœ°å›¾</li>
                    <li><code>mousedown/mouseup</code> ï¼šé¼ æ ‡æŒ‰ä¸‹/é‡Šæ”¾</li>
                    <li><code>mouseover/mouseout</code> ï¼šé¼ æ ‡è¿›å…¥/ç¦»å¼€</li>
                    <li><code>movestart/move/moveend</code> ï¼šç§»åŠ¨å¼€å§‹/ä¸­/ç»“æŸ</li>
                    <li><code>zoomstart/zoom/zoomend</code> ï¼šç¼©æ”¾å¼€å§‹/ä¸­/ç»“æŸ</li>
                    <li><code>layeradd/layerremove</code> ï¼šå›¾å±‚æ·»åŠ /ç§»é™¤</li>
                </ul>
                <h3>æ ‡è®°äº‹ä»¶</h3>
                <ul>
                    <li><code>click/dblclick</code> ï¼šå•å‡»/åŒå‡»</li>
                    <li><code>dragstart/drag/dragend</code> ï¼šæ‹–æ‹½å¼€å§‹/ä¸­/ç»“æŸ</li>
                    <li><code>mouseover/mouseout</code> ï¼šé¼ æ ‡è¿›å…¥/ç¦»å¼€</li>
                </ul>
                <h3>äº‹ä»¶å¤„ç†ç¤ºä¾‹</h3>
                <pre>map.on('click', function(e) {
    console.log('ç‚¹å‡»ä½ç½®: ' + e.latlng);
    L.marker(e.latlng).addTo(map)
        .bindPopup('æ–°æ ‡è®°')
        .openPopup();
});</pre>
                <div class="desc">å®Œæ•´çš„äº‹ä»¶ç³»ç»Ÿæ”¯æŒä¸°å¯Œçš„äº¤äº’åŠŸèƒ½</div>
            </div>

            <!-- æ§ä»¶ç³»ç»Ÿ -->
            <div class="card">
                <h2>ğŸ›ï¸ æ§ä»¶ç³»ç»Ÿ <a href="https://leafletjs.com/reference.html#control" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>L.control.zoom(options)</code> ï¼šç¼©æ”¾æ§ä»¶</li>
                    <li><code>L.control.scale(options)</code> ï¼šæ¯”ä¾‹å°ºæ§ä»¶</li>
                    <li><code>L.control.attribution(options)</code> ï¼šç‰ˆæƒæ§ä»¶</li>
                    <li><code>L.control.layers(baseLayers, overlays)</code> ï¼šå›¾å±‚æ§åˆ¶å™¨</li>
                </ul>
                <h3>ç¼©æ”¾æ§ä»¶</h3>
                <pre>L.control.zoom({
    position: 'topleft',
    zoomInText: '+',
    zoomOutText: '-',
    zoomInTitle: 'æ”¾å¤§',
    zoomOutTitle: 'ç¼©å°'
}).addTo(map);</pre>
                <h3>æ¯”ä¾‹å°ºæ§ä»¶</h3>
                <pre>L.control.scale({
    position: 'bottomleft',
    maxWidth: 100,
    metric: true,
    imperial: true
}).addTo(map);</pre>
                <h3>å›¾å±‚æ§åˆ¶å™¨</h3>
                <pre>let baseLayers = {
    "è¡—é“åœ°å›¾": osmLayer,
    "å«æ˜Ÿåœ°å›¾": satelliteLayer
};

let overlays = {
    "æ ‡è®°": markerGroup,
    "è·¯å¾„": pathGroup
};

L.control.layers(baseLayers, overlays).addTo(map);</pre>
                <div class="desc">æä¾›å®Œæ•´çš„åœ°å›¾æ§åˆ¶ç•Œé¢</div>
            </div>

            <!-- GeoJSONæ•°æ®å¤„ç† -->
            <div class="card">
                <h2>ğŸ—ƒï¸ GeoJSONæ•°æ®å¤„ç† <a href="https://leafletjs.com/reference.html#geojson" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>L.geoJSON(geojsonData, options)</code> ï¼šåˆ›å»ºGeoJSONå›¾å±‚</li>
                    <li><code>style: function</code> ï¼šæ ·å¼å‡½æ•°</li>
                    <li><code>pointToLayer: function</code> ï¼šç‚¹è½¬æ¢å‡½æ•°</li>
                    <li><code>onEachFeature: function</code> ï¼šè¦ç´ å¤„ç†å‡½æ•°</li>
                    <li><code>filter: function</code> ï¼šè¿‡æ»¤å‡½æ•°</li>
                </ul>
                <h3>æ ·å¼è®¾ç½®</h3>
                <pre>L.geoJSON(data, {
    style: function(feature) {
        return {
            color: feature.properties.color || '#3388ff',
            weight: 2,
            fillOpacity: 0.6
        };
    }
}).addTo(map);</pre>
                <h3>ç‚¹æ ‡è®°è½¬æ¢</h3>
                <pre>L.geoJSON(data, {
    pointToLayer: function(feature, latlng) {
        return L.circleMarker(latlng, {
            radius: 8,
            fillColor: "#ff7800",
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
        });
    }
}).addTo(map);</pre>
                <h3>è¦ç´ å¤„ç†</h3>
                <pre>L.geoJSON(data, {
    onEachFeature: function(feature, layer) {
        if (feature.properties && feature.properties.name) {
            layer.bindPopup(feature.properties.name);
        }
    }
}).addTo(map);</pre>
                <div class="desc">å®Œæ•´çš„GeoJSONæ•°æ®æ”¯æŒï¼Œæ”¯æŒæ ·å¼å’Œäº¤äº’å®šåˆ¶</div>
            </div>

            <!-- å›¾å±‚ç»„ç®¡ç† -->
            <div class="card">
                <h2>ğŸ“š å›¾å±‚ç»„ç®¡ç† <a href="https://leafletjs.com/reference.html#layergroup" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>L.layerGroup(layers)</code> ï¼šåˆ›å»ºå›¾å±‚ç»„</li>
                    <li><code>L.featureGroup(layers)</code> ï¼šåˆ›å»ºè¦ç´ ç»„</li>
                    <li><code>layerGroup.addLayer(layer)</code> ï¼šæ·»åŠ å›¾å±‚</li>
                    <li><code>layerGroup.removeLayer(layer)</code> ï¼šç§»é™¤å›¾å±‚</li>
                    <li><code>layerGroup.clearLayers()</code> ï¼šæ¸…ç©ºå›¾å±‚</li>
                    <li><code>layerGroup.eachLayer(callback)</code> ï¼šéå†å›¾å±‚</li>
                </ul>
                <h3>å›¾å±‚ç»„æ“ä½œ</h3>
                <pre>let markerGroup = L.layerGroup([
    marker1, marker2, marker3
]).addTo(map);

// åŠ¨æ€æ·»åŠ 
markerGroup.addLayer(newMarker);

// æ‰¹é‡æ“ä½œ
markerGroup.eachLayer(function(layer) {
    layer.bindPopup('ç»„å†…æ ‡è®°');
});</pre>
                <h3>FeatureGroupäº‹ä»¶</h3>
                <pre>let featureGroup = L.featureGroup([
    polygon, circle, polyline
]).on('click', function(e) {
    console.log('ç‚¹å‡»äº†è¦ç´ :', e.layer);
}).addTo(map);</pre>
                <h3>æ‰¹é‡ç®¡ç†</h3>
                <pre>// æ˜¾ç¤º/éšè—ç»„
map.addLayer(layerGroup);
map.removeLayer(layerGroup);

// æ¸…ç©ºæ‰€æœ‰å›¾å±‚
layerGroup.clearLayers();</pre>
                <div class="desc">ä¾¿äºæ‰¹é‡ç®¡ç†å’Œæ“ä½œå¤šä¸ªå›¾å±‚</div>
            </div>

            <!-- åæ ‡ç³»ç»Ÿä¸æŠ•å½± -->
            <div class="card">
                <h2>ğŸŒ åæ ‡ç³»ç»Ÿä¸æŠ•å½± <a href="https://leafletjs.com/reference.html#map-latlng-bounds" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>L.latLng(lat, lng)</code> ï¼šåˆ›å»ºåæ ‡ç‚¹</li>
                    <li><code>L.latLngBounds(corner1, corner2)</code> ï¼šåˆ›å»ºè¾¹ç•Œ</li>
                    <li><code>L.CRS.EPSG3857</code> ï¼šWebå¢¨å¡æ‰˜æŠ•å½±</li>
                    <li><code>L.CRS.EPSG4326</code> ï¼šWGS84åœ°ç†åæ ‡</li>
                    <li><code>L.CRS.Simple</code> ï¼šç®€å•å¹³é¢åæ ‡</li>
                </ul>
                <h3>åæ ‡è½¬æ¢</h3>
                <pre>let latlng = L.latLng(50.5, 30.5);
let point = map.latLngToLayerPoint(latlng);
let containerPoint = map.latLngToContainerPoint(latlng);</pre>
                <h3>è·ç¦»è®¡ç®—</h3>
                <pre>let distance = latlng1.distanceTo(latlng2); // ç±³
let bounds = map.getBounds();
let center = bounds.getCenter();</pre>
                <h3>è‡ªå®šä¹‰CRS</h3>
                <pre>let map = L.map('map', {
    crs: L.CRS.EPSG3857  // Webå¢¨å¡æ‰˜
    // crs: L.CRS.EPSG4326  // WGS84
    // crs: L.CRS.Simple     // ç®€å•åæ ‡
});</pre>
                <h3>è¾¹ç•Œæ“ä½œ</h3>
                <pre>let bounds = L.latLngBounds([
    [40.712, -74.227],
    [40.774, -74.125]
]);

bounds.extend([40.8, -74.0]);
let center = bounds.getCenter();
let contains = bounds.contains([40.75, -74.15]);</pre>
                <div class="desc">æ”¯æŒå¤šç§åæ ‡ç³»ç»Ÿå’ŒæŠ•å½±è½¬æ¢</div>
            </div>

            <!-- æ’ä»¶æ‰©å±• -->
            <div class="card">
                <h2>ğŸ”Œ æ’ä»¶æ‰©å±•ç³»ç»Ÿ <a href="https://leafletjs.com/plugins.html" title="å®˜æ–¹æ’ä»¶åˆ—è¡¨" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>Leaflet.markercluster</code> ï¼šæ ‡è®°èšåˆ</li>
                    <li><code>Leaflet.heat</code> ï¼šçƒ­åŠ›å›¾</li>
                    <li><code>Leaflet.draw</code> ï¼šç»˜å›¾å·¥å…·</li>
                    <li><code>Leaflet.fullscreen</code> ï¼šå…¨å±æ§ä»¶</li>
                    <li><code>Leaflet.locate</code> ï¼šå®šä½æ§ä»¶</li>
                    <li><code>Leaflet.minimap</code> ï¼šå°åœ°å›¾</li>
                </ul>
                <h3>æ ‡è®°èšåˆæ’ä»¶</h3>
                <pre>let markers = L.markerClusterGroup({
    chunkedLoading: true,
    maxClusterRadius: 80,
    spiderfyOnMaxZoom: true
});

for (let i = 0; i < 1000; i++) {
    let marker = L.marker([randomLat(), randomLng()]);
    markers.addLayer(marker);
}

map.addLayer(markers);</pre>
                <h3>ç»˜å›¾æ’ä»¶</h3>
                <pre>let drawnItems = new L.FeatureGroup();
map.addLayer(drawnItems);

let drawControl = new L.Control.Draw({
    edit: {
        featureGroup: drawnItems
    },
    draw: {
        polygon: true,
        polyline: true,
        rectangle: true,
        circle: true
    }
});
map.addControl(drawControl);</pre>
                <h3>çƒ­åŠ›å›¾æ’ä»¶</h3>
                <pre>let heatData = [
    [lat, lng, intensity],
    [lat, lng, intensity]
];

L.heatLayer(heatData, {
    radius: 25,
    blur: 15,
    maxZoom: 17
}).addTo(map);</pre>
                <div class="desc">ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿï¼Œæ”¯æŒå„ç§åŠŸèƒ½æ‰©å±•</div>
            </div>

            <!-- æ€§èƒ½ä¼˜åŒ– -->
            <div class="card">
                <h2>âš¡ æ€§èƒ½ä¼˜åŒ–æŠ€å·§ <a href="https://leafletjs.com/examples/optimization/" title="æ€§èƒ½ä¼˜åŒ–ç¤ºä¾‹" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>preferCanvas: true</code> ï¼šä¼˜å…ˆCanvasæ¸²æŸ“</li>
                    <li><code>renderer: L.canvas()</code> ï¼šCanvasæ¸²æŸ“å™¨</li>
                    <li><code>updateWhenIdle: false</code> ï¼šå®æ—¶æ›´æ–°</li>
                    <li><code>chunkProgress: 50</code> ï¼šåˆ†å—åŠ è½½</li>
                </ul>
                <h3>Canvasæ¸²æŸ“ä¼˜åŒ–</h3>
                <pre>let map = L.map('map', {
    preferCanvas: true,
    renderer: L.canvas()
});

// å¤§é‡ç‚¹æ•°æ®ä½¿ç”¨Canvas
let canvasRenderer = L.canvas();
let points = L.circleMarker([lat, lng], {
    renderer: canvasRenderer,
    radius: 5
}).addTo(map);</pre>
                <h3>åˆ†æ‰¹åŠ è½½</h3>
                <pre>function addMarkersInBatches(markers, batchSize = 100) {
    let index = 0;

    function addBatch() {
        for (let i = 0; i < batchSize && index < markers.length; i++, index++) {
            markers[index].addTo(map);
        }

        if (index < markers.length) {
            setTimeout(addBatch, 10);
        }
    }

    addBatch();
}</pre>
                <h3>è§†å›¾èŒƒå›´ç®¡ç†</h3>
                <pre>map.on('moveend', function() {
    let bounds = map.getBounds();

    allMarkers.forEach(marker => {
        if (bounds.contains(marker.getLatLng())) {
            if (!map.hasLayer(marker)) {
                marker.addTo(map);
            }
        } else {
            if (map.hasLayer(marker)) {
                map.removeLayer(marker);
            }
        }
    });
});</pre>
                <div class="desc">é’ˆå¯¹å¤§æ•°æ®é‡çš„ä¼˜åŒ–ç­–ç•¥</div>
            </div>

            <!-- ç§»åŠ¨ç«¯é€‚é… -->
            <div class="card">
                <h2>ğŸ“± ç§»åŠ¨ç«¯é€‚é… <a href="https://leafletjs.com/examples/mobile/" title="ç§»åŠ¨ç«¯ç¤ºä¾‹" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>tap: true</code> ï¼šè§¦æ‘¸æ”¯æŒ</li>
                    <li><code>tapTolerance: 15</code> ï¼šè§¦æ‘¸å®¹å·®</li>
                    <li><code>touchZoom: true</code> ï¼šè§¦æ‘¸ç¼©æ”¾</li>
                    <li><code>bounceAtZoomLimits: false</code> ï¼šè¾¹ç•Œå›å¼¹</li>
                    <li><code>zoomSnap: 1</code> ï¼šç¼©æ”¾æ­¥é•¿</li>
                    <li><code>wheelDebounceTime: 40</code> ï¼šæ»šè½®é˜²æŠ–</li>
                </ul>
                <h3>ç§»åŠ¨ç«¯é…ç½®</h3>
                <pre>let map = L.map('map', {
    tap: true,
    tapTolerance: 15,
    touchZoom: true,
    bounceAtZoomLimits: false,
    zoomSnap: 1,
    zoomDelta: 1,
    wheelDebounceTime: 40,
    wheelPxPerZoomLevel: 60
});</pre>
                <h3>è®¾å¤‡æ£€æµ‹</h3>
                <pre>if (L.Browser.mobile) {
    // ç§»åŠ¨ç«¯ç‰¹å®šè®¾ç½®
    map.scrollWheelZoom.disable();

    // æ·»åŠ è§¦æ‘¸æ§ä»¶
    L.control.zoom({
        position: 'bottomright'
    }).addTo(map);
}</pre>
                <h3>å“åº”å¼å¤„ç†</h3>
                <pre>function handleResize() {
    map.invalidateSize();
}

window.addEventListener('resize', handleResize);

window.addEventListener('orientationchange', function() {
    setTimeout(function() {
        map.invalidateSize();
    }, 100);
});</pre>
                <div class="desc">å®Œæ•´çš„ç§»åŠ¨ç«¯æ”¯æŒå’Œè§¦æ‘¸äº¤äº’ä¼˜åŒ–</div>
            </div>

            <!-- å®ç”¨å·¥å…·æ–¹æ³• -->
            <div class="card">
                <h2>ğŸ› ï¸ å®ç”¨å·¥å…·æ–¹æ³• <a href="https://leafletjs.com/reference.html#utility" title="å·¥å…·ç±»æ–‡æ¡£" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>map.getCenter()</code> ï¼šè·å–ä¸­å¿ƒç‚¹</li>
                    <li><code>map.getZoom()</code> ï¼šè·å–ç¼©æ”¾çº§åˆ«</li>
                    <li><code>map.getBounds()</code> ï¼šè·å–è¾¹ç•Œ</li>
                    <li><code>map.getSize()</code> ï¼šè·å–å°ºå¯¸</li>
                    <li><code>map.getPixelBounds()</code> ï¼šè·å–åƒç´ è¾¹ç•Œ</li>
                    <li><code>map.hasLayer(layer)</code> ï¼šæ£€æŸ¥å›¾å±‚</li>
                    <li><code>map.eachLayer(callback)</code> ï¼šéå†å›¾å±‚</li>
                </ul>
                <h3>DOMå·¥å…·</h3>
                <pre>L.DomUtil.create('div', 'my-class', parentElement);
L.DomUtil.addClass(element, 'new-class');
L.DomUtil.removeClass(element, 'old-class');
L.DomUtil.hasClass(element, 'check-class');</pre>
                <h3>äº‹ä»¶å·¥å…·</h3>
                <pre>L.DomEvent.on(element, 'click', handler);
L.DomEvent.off(element, 'click', handler);
L.DomEvent.stopPropagation(event);
L.DomEvent.preventDefault(event);</pre>
                <h3>å®ç”¨å·¥å…·</h3>
                <pre>let id = L.Util.stamp(obj);           // å”¯ä¸€ID
let extended = L.Util.extend(dest, src);  // å¯¹è±¡æ‰©å±•
let bound = L.Util.bind(fn, obj);        // ç»‘å®šthis
let template = L.Util.template('Hello {name}!', {
    name: 'World'
});</pre>
                <h3>åœ°å›¾ä¿¡æ¯è·å–</h3>
                <pre>let center = map.getCenter();
let zoom = map.getZoom();
let bounds = map.getBounds();
let size = map.getSize();
let container = map.getContainer();</pre>
                <div class="desc">æä¾›ä¸°å¯Œçš„å·¥å…·æ–¹æ³•å’Œè¾…åŠ©å‡½æ•°</div>
            </div>

            <!-- è°ƒè¯•ä¸æµ‹è¯• -->
            <div class="card">
                <h2>ğŸ› è°ƒè¯•ä¸æµ‹è¯• <a href="https://leafletjs.com/reference.html#debug" title="è°ƒè¯•æŒ‡å—" target="_blank" style="color:#93cdfc;">>>></a></h2>
                <ul>
                    <li><code>map.on('event', console.log)</code> ï¼šäº‹ä»¶ç›‘å¬è°ƒè¯•</li>
                    <li><code>console.log(map.getCenter())</code> ï¼šæŸ¥çœ‹åœ°å›¾ä¸­å¿ƒ</li>
                    <li><code>console.log(map.getZoom())</code> ï¼šæŸ¥çœ‹ç¼©æ”¾çº§åˆ«</li>
                    <li><code>performance.now()</code> ï¼šæ€§èƒ½è®¡æ—¶</li>
                </ul>
                <h3>äº‹ä»¶è°ƒè¯•</h3>
                <pre>map.on('click dblclick mousedown mouseup mouseover mouseout ' +
    'zoomstart zoomend movestart moveend ' +
    'layeradd layerremove', function(e) {
    console.log(e.type, e);
});</pre>
                <h3>æ€§èƒ½ç›‘æ§</h3>
                <pre>let startTime = performance.now();
// æ‰§è¡Œåœ°å›¾æ“ä½œ
let endTime = performance.now();
console.log('æ“ä½œè€—æ—¶:', endTime - startTime, 'æ¯«ç§’');</pre>
                <h3>å†…å­˜ç›‘æ§</h3>
                <pre>if (performance.memory) {
    console.log('JSå †å¤§å°:',
        performance.memory.usedJSHeapSize / 1024 / 1024, 'MB');
}</pre>
                <h3>å›¾å±‚çŠ¶æ€æ£€æŸ¥</h3>
                <pre>map.eachLayer(function(layer) {
    console.log('å›¾å±‚ç±»å‹:', layer.constructor.name);
    console.log('æ˜¯å¦åœ¨åœ°å›¾:', map.hasLayer(layer));
    console.log('åæ ‡:', layer.getLatLng ?
        layer.getLatLng() : 'N/A');
});</pre>
                <div class="desc">å®Œæ•´çš„è°ƒè¯•å’Œæµ‹è¯•å·¥å…·æ”¯æŒ</div>
            </div>

        </div>
    </div>
    <script>
      document.getElementById('columnWidth').addEventListener('input', function(e) {
        const width = e.target.value;
        document.getElementById('widthVal').textContent = width + 'px';
        const columns = document.getElementById('columns');
        columns.style.columnWidth = width + 'px';
      });
    </script>
</body>
</html>