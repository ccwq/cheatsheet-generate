<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bash-vs-fish</title>
  <!-- å¼•å…¥å…¬å…±CSSæ ·å¼ -->
  <link rel="stylesheet" href="../../assets/variables.css">
  <link rel="stylesheet" href="../../assets/global.css">
  <link rel="stylesheet" href="../../assets/cheatsheet.css">

  <style>
    /* ä¿ç•™bashé€ŸæŸ¥ç‰¹æœ‰çš„æ ·å¼è°ƒæ•´ */
    :root {
      --colWidth: 340px;
      --gap: 16px;
    }

    .panel label {
      color: var(--panel-accent); /* è¦†ç›–é»˜è®¤çš„panel-texté¢œè‰² */
    }

    .panel .title {
      color: var(--panel-accent);
    }
  </style>

    <link rel="icon" type="image/png" href="../../assets/brand/cheatsheet.png" />
    <link rel="apple-touch-icon" href="../../assets/brand/cheatsheet.png" />
  </head>
<body>
  <div class="container">
    <div class="panel">
      <span class="title">bash-vs-fish é€ŸæŸ¥</span>
      <label for="columnWidth">ğŸ”§ è°ƒæ•´æ¯åˆ—å®½åº¦ï¼š</label>
      <input id="columnWidth" class="slider-bar" type="range" min="300" max="660" value="340">
      <span id="widthVal" class="slider-val">340px</span>
    </div>

    <div class="cheat-columns" id="columns">

      <!-- åŸºæœ¬ä¸æ¨¡å¼ -->
      <div class="card">
        <h2>åŸºæœ¬ä¸æ¨¡å¼</h2>
        <ul>
          <li><code>bash --version</code> / <code>echo $BASH_VERSION</code> æŸ¥çœ‹ç‰ˆæœ¬</li>
          <li><code>help</code> / <code>help cd</code> æŸ¥çœ‹å†…å»ºå¸®åŠ©ï¼›<code>man bash</code> æ‰‹å†Œ</li>
          <li><code>set -o emacs</code> æˆ– <code>set -o vi</code> åˆ‡æ¢è¡Œç¼–è¾‘æ¨¡å¼ï¼ˆReadlineï¼‰</li>
          <li><code>shopt -s extglob</code> å¯ç”¨æ‰©å±•é€šé…ï¼›<code>shopt -s globstar</code> å¯ç”¨ <code>**</code></li>
          <li><code>set -euo pipefail</code> æ›´å¥å£®è„šæœ¬ï¼šé‡é”™é€€å‡º/æœªå®šä¹‰å˜é‡æŠ¥é”™/ç®¡é“ä¼ é€’å¤±è´¥</li>
          <li class="desc">å‚è€ƒï¼šGNU Bash Reference Manual 5.3ï¼ˆCommand Line Editing / Shell Expansions / The Set Builtin / Shell Builtin Commandsï¼‰ã€‚</li>
        </ul>
      </div>

      <!-- Readline å¸¸ç”¨å¿«æ·é”®ï¼ˆå‘½ä»¤è¡Œç¼–è¾‘ï¼‰ -->
      <div class="card">
        <h2>å‘½ä»¤è¡Œç¼–è¾‘ï¼ˆReadlineï¼‰</h2>
        <ul>
          <li>ç§»åŠ¨ï¼š<code>Ctrl+A</code> è¡Œé¦–ï¼›<code>Ctrl+E</code> è¡Œå°¾ï¼›<code>Alt+F/B</code> è¯å‰è¿›/åé€€ï¼›<code>Ctrl+F/B</code> å­—ç¬¦</li>
          <li>åˆ é™¤ï¼š<code>Ctrl+U</code> åˆ è‡³è¡Œé¦–ï¼›<code>Ctrl+K</code> åˆ è‡³è¡Œå°¾ï¼›<code>Alt+D</code> åˆ åˆ°è¯å°¾ï¼›<code>Ctrl+W</code> åˆ åˆ°è¯é¦–</li>
          <li>æ’¤å›/ç²˜è´´ï¼š<code>Ctrl+Y</code> ç²˜è´´ï¼ˆyankï¼‰ï¼›<code>Alt+Y</code> è½®æ¢ kill-ringï¼›<code>Ctrl+_</code> æ’¤é”€</li>
          <li>å†å²ï¼š<code>Ctrl+R</code> åå‘æœç´¢ï¼›<code>â†‘/â†“</code> ä¸Š/ä¸‹ä¸€æ¡ï¼›<code>Alt+.</code> ä¸Šæ¡å‘½ä»¤æœ€åä¸€ä¸ªå‚æ•°</li>
          <li>å…¶ä»–ï¼š<code>Ctrl+L</code> æ¸…å±ï¼›<code>Ctrl+C</code> ä¸­æ–­ï¼›<code>Ctrl+D</code> EOFï¼ˆç©ºè¡Œæ—¶é€€å‡ºï¼‰</li>
          <li class="desc">ä»¥ä¸Šä¸º Emacs æ¨¡å¼å¸¸ç”¨ï¼›<code>set -o vi</code> åæä¾› vi é£æ ¼æŒ‰é”®ã€‚</li>
        </ul>
      </div>

      <!-- å˜é‡ä¸å£°æ˜ -->
      <div class="card">
        <h2>å˜é‡ä¸å£°æ˜</h2>
        <ul>
          <li><code>name=value</code> èµ‹å€¼ï¼ˆç­‰å·å·¦å³æ— ç©ºæ ¼ï¼‰ï¼›<code>readonly name</code> åªè¯»</li>
          <li><code>declare -i n=0</code> æ•´å‹ï¼›<code>declare -a arr</code> ç´¢å¼•æ•°ç»„ï¼›<code>declare -A map</code> å…³è”æ•°ç»„</li>
          <li><code>local x</code> å‡½æ•°å†…å±€éƒ¨å˜é‡ï¼›<code>export x</code> ä¼ é€’åˆ°å­è¿›ç¨‹ç¯å¢ƒ</li>
          <li>ç‰¹æ®Šå‚æ•°ï¼š<code>$0 $1..$9 ${10}</code> ä½ç½®å‚ï¼›<code>$#</code> ä¸ªæ•°ï¼›<code>$@</code>/<code>$*</code> å…¨éƒ¨ï¼›<code>$$</code> PIDï¼›<code>$!</code> åå° PIDï¼›<code>$?</code> ä¸Šä¸€é€€å‡ºç ï¼›<code>$-</code> é€‰é¡¹</li>
          <li class="desc"><code>"$@"</code> é€å‚ä¿ç•™åˆ†éš”ï¼›<code>"$*"</code> åˆå¹¶ä¸ºå•å­—ç¬¦ä¸²ï¼ˆç”± <code>IFS</code> è¿æ¥ï¼‰ã€‚</li>
        </ul>
      </div>

      <!-- å‚æ•°å±•å¼€ï¼ˆShell Parameter Expansionï¼‰ -->
      <div class="card">
        <h2>å‚æ•°å±•å¼€</h2>
        <ul>
          <li>é»˜è®¤/èµ‹å€¼/æŠ¥é”™/æ›¿ä»£ï¼š<code>${v:-word}</code> é»˜è®¤ï¼›<code>${v:=word}</code> ç½®é»˜è®¤ï¼›<code>${v:?msg}</code> æœªè®¾æŠ¥é”™ï¼›<code>${v:+alt}</code> å·²è®¾ç”¨ <code>alt</code></li>
          <li>é•¿åº¦/å­ä¸²ï¼š<code>${#v}</code> é•¿åº¦ï¼›<code>${v:offset[:len]}</code> å­ä¸²ï¼›æ•°ç»„ï¼š<code>${arr[@]:o:l}</code> åˆ‡ç‰‡</li>
          <li>æ¨¡å¼åˆ é™¤ï¼š<code>${v#pat}</code>/<code>${v##pat}</code> å»å‰ç¼€ï¼ˆæœ€çŸ­/æœ€é•¿ï¼‰ï¼›<code>${v%pat}</code>/<code>${v%%pat}</code> å»åç¼€</li>
          <li>æ›¿æ¢ï¼š<code>${v/pat/repl}</code> é¦–æ¬¡ï¼›<code>${v//pat/repl}</code> å…¨éƒ¨ï¼›<code>${v/#pat/repl}</code> é¦–éƒ¨ï¼›<code>${v/%pat/repl}</code> å°¾éƒ¨</li>
          <li>å¤§å°å†™ï¼š<code>${v^}</code>/<code>${v^^}</code> é¦–å­—æ¯/å…¨éƒ¨å¤§å†™ï¼›<code>${v,}</code>/<code>${v,,}</code> å°å†™</li>
          <li>é—´æ¥å±•å¼€ï¼š<code>${!name}</code> ä»¥å˜é‡å€¼ä½œä¸ºå˜é‡åå†å–å€¼ï¼›å…³è”æ•°ç»„é”®ï¼š<code>${!map[@]}</code></li>
          <li>èŠ±æ‹¬å·å±•å¼€ï¼ˆéå‚æ•°ï¼‰ï¼š<code>{1..5}</code>ã€<code>{a..e}</code>ã€<code>{x,y,z}</code>ï¼ˆåœ¨å¼•å·å¤–ç”Ÿæ•ˆï¼Œå‘ç”Ÿäºè·¯å¾„åå±•å¼€ä¹‹å‰ï¼‰</li>
        </ul>
      </div>

      <!-- å­—ç¬¦ä¸²ä¸ç®—æœ¯ -->
      <div class="card">
        <h2>å­—ç¬¦ä¸²ä¸ç®—æœ¯</h2>
        <ul>
          <li>ç®—æœ¯ï¼š<code>$(( expr ))</code>ï¼›è‡ªå¢ï¼š<code>((i++))</code>ï¼›æ¯”è¾ƒï¼š<code>((a &lt; b))</code> è¿”å›çŠ¶æ€</li>
          <li>å‘½ä»¤æ›¿æ¢ï¼š<code>$(cmd)</code>ï¼ˆæ¨èï¼‰/ <code>`cmd`</code>ï¼ˆæ—§ï¼‰ï¼›è¿›ç¨‹æ›¿æ¢ï¼š<code>&lt;(cmd)</code> / <code>&gt;(cmd)</code></li>
          <li>è½¬ä¹‰å­—ç¬¦ä¸²ï¼š<code>$'\n'</code> C é£æ ¼è½¬ä¹‰ï¼›ANSI-C å¼•ç”¨</li>
          <li>å‰ªè£ç©ºç™½ï¼š<code>x=${x##*( )}</code> å»å‰ç©ºæ ¼ï¼›<code>x=${x%%*( )}</code> å»åç©ºæ ¼ï¼ˆéœ€ <code>shopt -s extglob</code>ï¼‰</li>
          <li>å¼•ç”¨è§„åˆ™ï¼šå•å¼•å·å®Œå…¨å­—é¢é‡ï¼›åŒå¼•å·ä¿ç•™ç©ºæ ¼å¹¶å…è®¸ <code>$</code>/<code>$( )</code> å±•å¼€ï¼›<code>$'..'</code> å…è®¸è½¬ä¹‰</li>
        </ul>
      </div>

      <!-- æ¡ä»¶ä¸æµ‹è¯• -->
      <div class="card">
        <h2>æ¡ä»¶ä¸æµ‹è¯•</h2>
        <ul>
          <li>ä¼ ç»Ÿ <code>[ ]</code>ï¼šå­—ç¬¦ä¸²ï¼š<code>=</code>/<code>!=</code>ï¼›æ•´æ•°ï¼š<code>-eq -ne -lt -le -gt -ge</code>ï¼›æ–‡ä»¶ï¼š<code>-f -d -e -s -r -w -x</code></li>
          <li>å¢å¼º <code>[[ ]]</code>ï¼šæ”¯æŒæ¨¡å¼åŒ¹é… <code>== pat</code>ï¼›æ­£åˆ™ <code>=~</code>ï¼›çŸ­è·¯ä¸ <code>&amp;&amp;</code>/<code>||</code></li>
          <li class="desc"><code>[[ ]]</code> å†…ä¸è¿›è¡Œè·¯å¾„åæ‰©å±•ä¸å•è¯åˆ†å‰²ï¼Œæ¨èåœ¨ Bash ä½¿ç”¨ã€‚</li>
        </ul>
      </div>

      <!-- æ­£åˆ™åŒ¹é…ï¼ˆ[[ =~ ]]ï¼‰ -->
      <div class="card">
        <h2>æ­£åˆ™åŒ¹é…ï¼ˆ[[ =~ ]]ï¼‰</h2>
        <ul>
          <li><code>if [[ $s =~ ^([0-9]+)-([a-z]+)$ ]]; then echo ${BASH_REMATCH[1]} ${BASH_REMATCH[2]}; fi</code></li>
          <li>æ³¨æ„ï¼šå³ä¾§æ­£åˆ™ä¸åŠ å¼•å·ï¼›ä½¿ç”¨å°æ‹¬å·æ•è·ï¼›åŒ¹é…å¤±è´¥è¿”å›é 0</li>
        </ul>
      </div>

      <!-- å¾ªç¯ä¸åˆ†æ”¯ -->
      <div class="card">
        <h2>å¾ªç¯ä¸åˆ†æ”¯</h2>
        <ul>
          <li><code>for x in a b; do ...; done</code>ï¼›C é£æ ¼ï¼š<code>for((i=0;i&lt;n;i++)); do ...; done</code></li>
          <li><code>while read -r line; do ...; done &lt; file</code> å®‰å…¨è¯»å–è¡Œ</li>
          <li><code>case $x in pat) ...;; *) ...;; esac</code> æ¨¡å¼åˆ†æ”¯ï¼›å¯é… <code>shopt -s nocasematch</code> å¿½ç•¥å¤§å°å†™</li>
          <li><code>break</code>/<code>continue</code>ï¼›å¸¦å±‚çº§ï¼š<code>break 2</code></li>
        </ul>
      </div>

      <!-- è¯»å†™ä¸æ ¼å¼åŒ–ï¼ˆread/printf/mapfileï¼‰ -->
      <div class="card">
        <h2>è¯»å†™ä¸æ ¼å¼åŒ–</h2>
        <ul>
          <li><code>read -r line</code> ç¦æ­¢åæ–œæ è½¬ä¹‰ï¼›<code>read -a arr</code> è¯»å…¥æ•°ç»„</li>
          <li><code>read -n 1 -s key</code> æ— å›æ˜¾è¯»å– 1 å­—ç¬¦ï¼›<code>read -t 5 var</code> è¶…æ—¶</li>
          <li><code>mapfile -t arr &lt; file</code> æŒ‰è¡Œè¯»å…¥æ•°ç»„ï¼›<code>mapfile -t -n 10 arr &lt; file</code> åªè¯» 10 è¡Œ</li>
          <li><code>printf 'x=%q\n' "$x"</code> å®‰å…¨è½¬ä¹‰è¾“å‡ºï¼›<code>printf -v out '%04d' 7</code> ç›´æ¥èµ‹å€¼å˜é‡</li>
          <li>å¸¸ç”¨æ ¼å¼ï¼š<code>%s</code> å­—ç¬¦ä¸²ï¼›<code>%q</code> å¯é‡ç”¨è½¬ä¹‰ï¼›<code>%d</code> æ•´æ•°ï¼›<code>%f</code> æµ®ç‚¹ï¼›<code>\n</code> æ¢è¡Œ</li>
        </ul>
      </div>

      <!-- è§£æå‚æ•°ï¼ˆgetoptsï¼‰ -->
      <div class="card">
        <h2>è§£æå‚æ•°ï¼ˆgetoptsï¼‰</h2>
        <ul>
          <li>
            <pre>while getopts ":ab:c" opt; do
  case $opt in
    a) flag_a=1 ;;
    b) arg_b=$OPTARG ;;
    c) flag_c=1 ;;
    :) echo "ç¼ºå°‘å‚æ•°: -$OPTARG"; exit 2 ;;
    \?) echo "æœªçŸ¥é€‰é¡¹: -$OPTARG"; exit 2 ;;
  esac
done
shift $((OPTIND-1))</pre>
          </li>
          <li><code>:</code> å‰ç¼€å¼€å¯â€œç¼ºå‚â€é”™è¯¯å¤„ç†ï¼›å¸¦å†’å·çš„é€‰é¡¹å£°æ˜ä¸ºâ€œéœ€è¦å‚æ•°â€</li>
        </ul>
      </div>

      <!-- å‡½æ•° -->
      <div class="card">
        <h2>å‡½æ•°</h2>
        <ul>
          <li>å®šä¹‰ï¼š<code>name() { local x; ...; }</code> æˆ– <code>function name { ...; }</code></li>
          <li>è¿”å›ï¼š<code>return N</code>ï¼ˆ0 æˆåŠŸï¼‰ï¼›è¾“å‡ºç”¨ <code>echo</code>/<code>printf</code> ä¼ é€’</li>
          <li>å‚æ•°ï¼š<code>$1</code>â€¦ï¼›å…¨éƒ¨ï¼š<code>"$@"</code>ï¼›ä¸ªæ•°ï¼š<code>$#</code></li>
        </ul>
      </div>

      <!-- æ•°ç»„ï¼ˆç´¢å¼•/å…³è”ï¼‰ -->
      <div class="card">
        <h2>æ•°ç»„</h2>
        <ul>
          <li>ç´¢å¼•ï¼š<code>arr=(a b c)</code>ï¼›<code>arr[2]=X</code>ï¼›å–å€¼ï¼š<code>${arr[0]}</code>/<code>${arr[@]}</code></li>
          <li>é•¿åº¦ï¼š<code>${#arr[@]}</code>ï¼›ä¸‹æ ‡ï¼š<code>${!arr[@]}</code>ï¼›åˆ‡ç‰‡ï¼š<code>${arr[@]:1:2}</code></li>
          <li>å…³è”ï¼š<code>declare -A map; map[foo]=bar</code>ï¼›é”®ï¼š<code>${!map[@]}</code>ï¼›å€¼ï¼š<code>${map[@]}</code></li>
        </ul>
      </div>

      <!-- é‡å®šå‘ä¸ç®¡é“ -->
      <div class="card">
        <h2>é‡å®šå‘ä¸ç®¡é“</h2>
        <ul>
          <li>æ ‡å‡†å½¢å¼ï¼š<code>&gt;</code>/<code>&gt;&gt;</code> è¾“å‡ºï¼›<code>&lt;</code> è¾“å…¥ï¼›<code>n&gt;file</code> æŒ‡å®š fd</li>
          <li>Here æ–‡æ¡£ï¼š<code>cat &lt;&lt;EOF ... EOF</code>ï¼ˆå¼•ç”¨å®šç•Œç¬¦å¯å…³é—­å±•å¼€ï¼‰ï¼›Here å­—ç¬¦ä¸²ï¼š<code>cmd &lt;&lt;&lt; "$str"</code></li>
          <li>åˆå¹¶è¾“å‡ºï¼š<code>2&gt;&amp;1</code>ï¼›Bash ä¸“æœ‰ï¼š<code>&amp;&gt;file</code>ï¼ˆstdout+stderr åˆ°æ–‡ä»¶ï¼‰</li>
          <li>è¿›ç¨‹æ›¿æ¢ï¼š<code>diff &lt;(cmd1) &lt;(cmd2)</code>ï¼›éœ€è¦ <code>bash</code> æˆ–å…¼å®¹å®ç°</li>
          <li>ç®¡é“å¤±è´¥ä¼ æ’­ï¼š<code>set -o pipefail</code></li>
        </ul>
      </div>

      <!-- æ–‡ä»¶æè¿°ç¬¦é«˜çº§ç”¨æ³• -->
      <div class="card">
        <h2>æ–‡ä»¶æè¿°ç¬¦é«˜çº§</h2>
        <ul>
          <li><code>exec 3&lt;&gt; file</code> æ‰“å¼€ fd3 è¯»å†™ï¼›<code>echo hi &gt;&amp;3</code> å†™å…¥ï¼›<code>read -u 3 x</code> ä» fd3 è¯»å–</li>
          <li><code>exec 3&gt;&amp;-</code> å…³é—­ fd3ï¼›<code>cmd &gt;&amp;-</code> å…³é—­ stdoutï¼›<code>cmd 2&gt;&amp;-</code> å…³é—­ stderr</li>
        </ul>
      </div>

      <!-- ä½œä¸šæ§åˆ¶ä¸åå° -->
      <div class="card">
        <h2>ä½œä¸šæ§åˆ¶</h2>
        <ul>
          <li><code>cmd &amp;</code> åå°ï¼›<code>jobs</code> æŸ¥çœ‹ï¼›<code>fg %1</code>/<code>bg %1</code> å‰/åå°ï¼›<code>disown %1</code> è„±ç¦»</li>
          <li><code>Ctrl+Z</code> æŒ‚èµ·ï¼›<code>kill -SIGCONT %1</code> ç»§ç»­</li>
          <li><code>coproc name { ...; }</code> åç¨‹è¿›ç¨‹ï¼ˆåˆ›å»ºç®¡é“ FDï¼‰</li>
          <li class="desc">éäº¤äº’æ¨¡å¼éœ€ <code>set -m</code> å¼€å¯ä½œä¸šæ§åˆ¶ã€‚</li>
        </ul>
      </div>

      <!-- å†å²ä¸åˆ«å -->
      <div class="card">
        <h2>å†å²ä¸åˆ«å</h2>
        <ul>
          <li><code>history</code> / <code>history -c</code> æ¸…ç©ºï¼›<code>!n</code> ç¬¬ n æ¡ï¼›<code>!!</code> ä¸Šä¸€æ¡ï¼›<code>!$</code> ä¸Šæ¡æœ€åå‚æ•°</li>
          <li><code>alias ll='ls -alh'</code> å®šä¹‰ï¼›<code>unalias ll</code> å–æ¶ˆï¼›<code>type -a cmd</code> æŸ¥çœ‹è§£æé¡ºåº</li>
          <li><code>HISTCONTROL=ignoredups:erasedups</code>ï¼›<code>HISTSIZE</code>/<code>HISTFILESIZE</code> æ§åˆ¶å†å²å¤§å°</li>
          <li><code>shopt -s histverify</code> æ‰§è¡Œå‰å¯ç¼–è¾‘ <code>!...</code> å±•å¼€ç»“æœï¼›<code>fc -e -</code> æ‰“å¼€ç¼–è¾‘å†å²</li>
        </ul>
      </div>

      <!-- è°ƒè¯•ä¸é™·é˜± -->
      <div class="card">
        <h2>è°ƒè¯•ä¸é™·é˜±</h2>
        <ul>
          <li><code>bash -n script.sh</code> è¯­æ³•æ£€æŸ¥ï¼›<code>bash -x script.sh</code> è·Ÿè¸ªæ‰§è¡Œ</li>
          <li><code>set -x</code>/<code>set +x</code> è¿è¡Œæ—¶å¼€å¯/å…³é—­è·Ÿè¸ªï¼›<code>PS4='+$LINENO: '</code> è¡Œå·æç¤º</li>
          <li><code>trap 'cleanup' EXIT</code> é€€å‡ºæ¸…ç†ï¼›<code>trap 'handler' ERR</code> é”™è¯¯é™·é˜±</li>
          <li><code>trap 'echo SIGINT' INT</code>ï¼›<code>trap -p</code> æŸ¥çœ‹ï¼›<code>trap - INT TERM</code> æ¸…é™¤</li>
          <li class="desc"><code>set -e</code> é‡é”™å³é€€ï¼šè°¨é˜²ä¸æ¡ä»¶åˆ¤æ–­/ç®¡é“ç»„åˆå¼•å‘çš„è¯¯é€€ï¼Œå¯é…åˆ <code>|| true</code> ç­‰æ¨¡å¼</li>
        </ul>
      </div>

      <!-- æ‰©å±•é€šé…ï¼ˆextglobï¼‰ä¸é€’å½’ï¼ˆglobstarï¼‰ -->
      <div class="card">
        <h2>æ‰©å±•é€šé…ä¸é€’å½’åŒ¹é…</h2>
        <ul>
          <li><code>shopt -s extglob</code>ï¼š<code>@(p1|p2)</code> å…¶ä¸€ï¼›<code>?(p)</code> 0/1 æ¬¡ï¼›<code>*(p)</code> ä»»æ„æ¬¡ï¼›<code>+(p)</code> â‰¥1 æ¬¡ï¼›<code>!(p)</code> é</li>
          <li><code>shopt -s globstar</code>ï¼š<code>**</code> é€’å½’åŒ¹é…ç›®å½•ï¼ˆå¦‚ <code>**/*.sh</code>ï¼‰</li>
        </ul>
      </div>

      <!-- å¯ç¼–ç¨‹è¡¥å…¨ï¼ˆcomplete/compgenï¼‰ -->
      <div class="card">
        <h2>å¯ç¼–ç¨‹è¡¥å…¨</h2>
        <ul>
          <li><code>_foo() { COMPREPLY=( $(compgen -W "start stop restart" -- "${COMP_WORDS[COMP_CWORD]}") ); }</code></li>
          <li><code>complete -F _foo foo</code> ä¸ºå‘½ä»¤ <code>foo</code> å®‰è£…è¡¥å…¨ï¼›<code>complete -r foo</code> ç§»é™¤</li>
          <li class="desc">è¯¦è§æ‰‹å†Œ Programmable Completion / Builtins</li>
        </ul>
      </div>

      <!-- è§£æé¡ºåºä¸ä¼˜å…ˆçº§ -->
      <div class="card">
        <h2>å‘½ä»¤è§£æé¡ºåº</h2>
        <ul>
          <li>ä¼˜å…ˆçº§ï¼šå…³é”®å­—ï¼ˆä¿ç•™å­—ï¼‰â†’ åˆ«å â†’ å‡½æ•° â†’ å†…å»º â†’ å¯æ‰§è¡Œæ–‡ä»¶</li>
          <li><code>command ls</code> è·³è¿‡åˆ«å/å‡½æ•°è°ƒç”¨å¤–éƒ¨ï¼›<code>builtin echo</code> å¼ºåˆ¶å†…å»ºï¼›<code>enable -n echo</code> ç¦ç”¨å†…å»º</li>
          <li><code>hash -r</code> æ¸…ç©ºå‘½ä¸­ç¼“å­˜ï¼›<code>type -a</code> æ˜¾ç¤ºè§£æè·¯å¾„</li>
        </ul>
      </div>

      <!-- ä½œç”¨åŸŸä¸å­ shell -->
      <div class="card">
        <h2>ä½œç”¨åŸŸä¸å­ shell</h2>
        <ul>
          <li><code>( list )</code> åœ¨å­ shell æ‰§è¡Œï¼ˆå˜é‡ä¿®æ”¹ä¸å›ä¼ ï¼‰ï¼›<code>{ list; }</code> åœ¨å½“å‰ shellï¼ˆæœ«å°¾å¿…é¡»åˆ†å·æˆ–æ¢è¡Œï¼‰</li>
          <li><code>source file</code>/<code>. file</code> åœ¨å½“å‰ shell è¯»å–æ‰§è¡Œï¼ˆå…±äº«ä½œç”¨åŸŸï¼‰</li>
        </ul>
      </div>

      <!-- å¸¸ç”¨ shopt é€‰é¡¹ -->
      <div class="card">
        <h2>å¸¸ç”¨ shopt é€‰é¡¹</h2>
        <ul>
          <li><code>nullglob</code> ç©ºæ¨¡å¼å±•å¼€ä¸ºé›¶å‚æ•°ï¼›<code>dotglob</code> åŒ¹é…ç‚¹æ–‡ä»¶ï¼›<code>nocaseglob</code> å¿½ç•¥å¤§å°å†™</li>
          <li><code>failglob</code> æ— åŒ¹é…æ—¶æŠ¥é”™ï¼›<code>lastpipe</code> ç®¡é“æœ€åä¸€ä¸ªåœ¨å½“å‰ shell è¿è¡Œï¼ˆéäº¤äº’ï¼‰</li>
          <li><code>checkwinsize</code> å‘½ä»¤åè‡ªåŠ¨æ›´æ–° <code>LINES/COLUMNS</code>ï¼›<code>cdspell</code>/<code>dirspell</code> è½»å¾®æ‹¼å†™ä¿®å¤</li>
          <li><code>cmdhist</code>/<code>lithist</code> åˆå¹¶å¤šè¡Œå‘½ä»¤åˆ°å†å²ã€ä¿ç•™æ¢è¡Œï¼›<code>expand_aliases</code> åœ¨éäº¤äº’ä¸­å¯ç”¨åˆ«å</li>
        </ul>
      </div>

      <!-- Fish é€ŸæŸ¥ Â· åŸºæœ¬ä¸æ¨¡å¼ -->
      <div class="card">
        <h2>Fish åŸºæœ¬ä¸æ¨¡å¼</h2>
        <ul>
          <li><code>fish --version</code>ï¼›<code>help</code> æ‰“å¼€æ–‡æ¡£ï¼›<code>man fish</code>ï¼›<code>fish_config</code> Web é…ç½®</li>
          <li>äº¤äº’ç‰¹æ€§ï¼šè¯­æ³•é«˜äº®ã€è‡ªåŠ¨å»ºè®®ã€å†å²æç¤º</li>
          <li>é€»è¾‘ï¼š<code>and</code>/<code>or</code>/<code>not</code>ï¼ˆæ—  <code>&amp;&amp;</code>/<code>||</code>/<code>!</code>ï¼‰</li>
        </ul>
      </div>

      <!-- Fish é€ŸæŸ¥ Â· å˜é‡ä¸ä½œç”¨åŸŸ -->
      <div class="card">
        <h2>Fish å˜é‡ä¸ä½œç”¨åŸŸ</h2>
        <ul>
          <li><code>set name value</code>ï¼›ä½œç”¨åŸŸï¼š<code>set -l</code> å±€éƒ¨ã€<code>-g</code> å…¨å±€ã€<code>-U</code> é€šç”¨ã€<code>-x</code> å¯¼å‡º</li>
            <li>åˆ—è¡¨å˜é‡ï¼›ç´¢å¼•ä» <code>1</code> å¼€å§‹ï¼š<code>$var[1]</code>ï¼›é•¿åº¦ï¼š<code>count $var</code></li>
          <li>å‚æ•°ï¼š<code>$argv</code>ï¼›è¿½åŠ ï¼š<code>set var $var new</code>ï¼›åˆ é™¤ï¼š<code>set -e var</code></li>
        </ul>
      </div>

      <!-- Fish é€ŸæŸ¥ Â· å‘½ä»¤æ›¿æ¢ä¸å­—ç¬¦ä¸² -->
      <div class="card">
        <h2>Fish å‘½ä»¤æ›¿æ¢ä¸å­—ç¬¦ä¸²</h2>
        <ul>
          <li>å‘½ä»¤æ›¿æ¢ï¼š<code>set files (ls *.md)</code>ï¼ˆåœ†æ‹¬å·ï¼‰ï¼›å­ä¸²ï¼š<code>string sub -s 2 -l 3 $s</code></li>
          <li>åˆ†å‰²/åˆå¹¶ï¼š<code>string split , $s</code>ï¼›<code>string join , $list</code>ï¼›ä¿®å‰ªï¼š<code>string trim</code></li>
          <li>åŒ¹é…/æ›¿æ¢ï¼š<code>string match -r '^[0-9]+'</code>ï¼›<code>string replace -r '(foo)' 'bar'</code></li>
          <li>ç®—æœ¯ï¼š<code>math '1+2*3'</code>ï¼ˆæ—  <code>$(( ))</code>ï¼‰</li>
        </ul>
      </div>

      <!-- Fish é€ŸæŸ¥ Â· æ¡ä»¶ä¸å¾ªç¯/åˆ†æ”¯ -->
      <div class="card">
        <h2>Fish æ¡ä»¶ä¸å¾ªç¯/åˆ†æ”¯</h2>
        <ul>
          <li>æ¡ä»¶ï¼š<code>if test -f file; ...; else if test -d dir; ...; else; ...; end</code></li>
          <li>å¾ªç¯ï¼š<code>for x in $list; ...; end</code>ï¼›<code>while CONDITION; ...; end</code></li>
          <li>åˆ†æ”¯ï¼š<code>switch $x; case pat; ...; case '*'; ...; end</code></li>
        </ul>
      </div>

      <!-- Fish é€ŸæŸ¥ Â· å‡½æ•°/è¡¥å…¨/ç¼©å†™ -->
      <div class="card">
        <h2>Fish å‡½æ•°/è¡¥å…¨/ç¼©å†™</h2>
        <ul>
          <li>å‡½æ•°ï¼š<code>function hello; echo hi $argv; end</code>ï¼›åˆ—å‡ºï¼š<code>functions</code></li>
          <li>è¡¥å…¨ï¼š<code>complete -c foo -a "(seq 1 5)" -d 'numbers'</code>ï¼›æŸ¥çœ‹ï¼š<code>complete -C foo</code></li>
          <li>ç¼©å†™ï¼š<code>abbr -a gs 'git status'</code>ï¼›åˆ—å‡ºï¼š<code>abbr -s</code></li>
        </ul>
      </div>

      <!-- Fish é€ŸæŸ¥ Â· é‡å®šå‘ä¸ç®¡é“ -->
      <div class="card">
        <h2>Fish é‡å®šå‘ä¸ç®¡é“</h2>
        <ul>
          <li><code>cmd &gt; out</code>ï¼›<code>cmd &gt;&gt; out</code>ï¼›<code>cmd 2&gt; err</code>ï¼›ï¼ˆéƒ¨åˆ†ç‰ˆæœ¬æ”¯æŒ <code>^</code> è¡¨ç¤º stderrï¼‰</li>
          <li><code>cmd | other</code>ï¼›<code>cmd |&amp; other</code>ï¼ˆåˆå¹¶è¾“å‡ºï¼‰</li>
          <li>ç®¡é“çŠ¶æ€ï¼š<code>echo $pipestatus</code>ï¼ˆåˆ—è¡¨ï¼Œå­˜æ”¾å„æ®µé€€å‡ºç ï¼‰</li>
        </ul>
      </div>

      <!-- Fish é€ŸæŸ¥ Â· PATH ä¸ç¯å¢ƒ -->
      <div class="card">
        <h2>Fish PATH ä¸ç¯å¢ƒ</h2>
        <ul>
          <li>PATH æ˜¯åˆ—è¡¨ï¼š<code>set -x PATH /opt/bin $PATH</code>ï¼ˆæ— éœ€å†’å·æ‹¼æ¥ï¼‰</li>
          <li>é…ç½®ï¼š<code>~/.config/fish/config.fish</code>ï¼›é€šç”¨å˜é‡ï¼š<code>set -U var val</code></li>
        </ul>
      </div>

      <!-- Fish é€ŸæŸ¥ Â· å¸¸ç”¨å†…å»º -->
      <div class="card">
        <h2>Fish å¸¸ç”¨å†…å»º</h2>
        <ul>
          <li><code>status</code>ã€<code>type</code>ã€<code>contains</code>ã€<code>path</code>ã€<code>count</code>ã€<code>time</code>ã€<code>read</code>ã€<code>argparse</code></li>
        </ul>
      </div>

      <!-- Bash vs Fish Â· å…³é”®å·®å¼‚ -->
      <div class="card">
        <h2>Bash vs Fish å…³é”®å·®å¼‚</h2>
        <ul>
          <li>å‘½ä»¤æ›¿æ¢ï¼šBash <code>$(cmd)</code>ï¼›Fish <code>(cmd)</code></li>
          <li>é€»è¾‘è¿ç®—ï¼šBash <code>&amp;&amp;/||/!</code>ï¼›Fish <code>and/or/not</code></li>
          <li>æ¡ä»¶è¯­æ³•ï¼šBash <code>[[ ]]</code>/<code>[ ]</code>ï¼›Fish ä½¿ç”¨ <code>if/test</code>ï¼ˆæ—  <code>[[ ]]</code>ï¼‰</li>
          <li>ç®—æœ¯ï¼šBash <code>$(( ))</code>ï¼›Fish <code>math</code></li>
          <li>å˜é‡æ¨¡å‹ï¼šBash æ ‡é‡+æ•°ç»„ï¼›Fish åˆ—è¡¨ï¼ˆç´¢å¼•ä» 1ï¼‰ï¼Œ<code>$argv</code> ä¸ºå…¨éƒ¨å‚æ•°</li>
          <li>ä½œç”¨åŸŸä¸å¯¼å‡ºï¼šBash <code>local/export</code>ï¼›Fish <code>set -l/-g/-U/-x</code></li>
          <li>å‡½æ•°ä¸åˆ«åï¼šBash <code>alias</code>ï¼›Fish æ¨è <code>abbr</code> ä¸å‡½æ•°</li>
          <li>PATHï¼šBash ç”¨å†’å·æ‹¼æ¥ï¼›Fish ç”¨åˆ—è¡¨ <code>set -x PATH /path $PATH</code></li>
          <li>å†å²ï¼šBash <code>!!</code>/<code>!$</code> å†å²å±•å¼€ï¼›Fish ç”¨è‡ªåŠ¨å»ºè®®ä¸ <code>history</code></li>
          <li>è¡¥å…¨ï¼šBash <code>complete/compgen</code>ï¼›Fish <code>complete</code>ï¼ˆè¯­æ³•ä¸åŒï¼‰</li>
          <li>ç®¡é“çŠ¶æ€ï¼šBash éœ€ <code>set -o pipefail</code>ï¼›Fish <code>$pipestatus</code></li>
          <li>é‡å®šå‘ï¼šBash <code>2&gt;</code>/<code>&amp;&gt;</code>ï¼›Fish å¸¸ç”¨ <code>2&gt;</code>ï¼ˆéƒ¨åˆ†ç‰ˆæœ¬æ”¯æŒ <code>^</code>ï¼‰</li>
          <li>å—ä¸ç»“æŸï¼šBash <code>do ... done</code>ï¼›Fish <code>end</code></li>
          <li>æ­£åˆ™ä¸å­—ç¬¦ä¸²ï¼šBash <code>[[ =~ ]]</code>ï¼›Fish <code>string match/replace -r</code></li>
          <li>ç´¢å¼•ï¼šBash ä» 0ï¼ˆæ•°ç»„ï¼‰/1ï¼ˆä½ç½®å‚ï¼‰ï¼›Fish ç»Ÿä¸€ä» 1</li>
          <li>é…ç½®ï¼šBash <code>~/.bashrc</code>ï¼›Fish <code>~/.config/fish/config.fish</code></li>
        </ul>
      </div>

      <!-- å‚è€ƒæ¥æº -->
      <div class="card">
        <h2>å‚è€ƒä¸æ¥æº</h2>
        <ul>
          <li>GNU Bash Reference Manual 5.3ï¼ˆå‚æ•°å±•å¼€ã€é‡å®šå‘ã€å¯ç¼–ç¨‹è¡¥å…¨ã€ä½œä¸šæ§åˆ¶ç­‰ç« èŠ‚ï¼‰</li>
          <li>Fish Shell Documentationï¼ˆcurrentï¼‰ï¼šTutorial / Commands / Language / Variables / Functions / Completion / Abbreviations</li>
          <li>æœ¬ç›®å½• <code>source.html</code> ä¸ºåŸå§‹ç´ æï¼ˆå·²æ®æ­¤è¿ç§»ä¸å®¡æ ¡ï¼‰</li>
          <li>æœ¬ç›®å½• <code>refmap.md</code> åˆ—å‡ºç« èŠ‚æ˜ å°„ä¸ä¿®æ”¹è¯´æ˜</li>
        </ul>
      </div>

    </div>
  </div>

  <script src="../../assets/common.js"></script>
</body>
</html>
