<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Sourcegraph Code Search æŸ¥è¯¢é€ŸæŸ¥è¡¨</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../assets/variables.css">
    <link rel="stylesheet" href="../../assets/global.css">
  <link rel="stylesheet" href="../../assets/cheatsheet.css">
    <style>
        :root {
            --col-width: 500px;
            --gap: 16px;
        }
        .card h2 a {
            font-size: 0.8em;
            margin-left: 8px;
            color: #87d7ff;
        }
        .hero-note {
            font-size: 0.9em;
            color: #9bd4ff;
            margin-top: 0.35rem;
        }
        .desc {
            margin-top: 10px;
            color: #b7c3e2;
            font-size: 0.9em;
            line-height: 1.4;
        }
    </style>

    <link rel="icon" type="image/png" href="../../assets/brand/cheatsheet.png" />
    <link rel="apple-touch-icon" href="../../assets/brand/cheatsheet.png" />
  </head>
<body>
    <div class="container">
        <div class="panel">
            <span style="color:#7bfbb7;font-size:16px;margin-right:auto;">Sourcegraph Code Search æŸ¥è¯¢é€ŸæŸ¥è¡¨</span>
<!-- META_INFO_START -->
<div class="meta-info">
  <span class="meta-item"><span class="meta-label">ç‰ˆæœ¬</span><span class="meta-value">unknown</span></span>
  <span class="meta-item"><span class="meta-label">æ›´æ–°æ—¥å¿—</span><span class="meta-value">2025-11-27</span></span>
  <span class="meta-item"><span class="meta-label">GitHub</span><span class="meta-value"><a class="meta-link" href="https://github.com/sourcegraph/src-cli" target="_blank" rel="noopener">sourcegraph/src-cli</a></span></span>
</div>
<!-- META_INFO_END -->

            <label for="columnWidth">ğŸ”§ è°ƒæ•´æ¯åˆ—å®½åº¦ï¼š</label>
            <input id="columnWidth" class="slider-bar" type="range" min="300" max="660" value="360">
            <span id="widthVal" class="slider-val">360px</span>
        </div>
        <div class="cheat-columns" id="columns">
            <div class="card">
                <h2>ğŸ” æœç´¢æ¨¡å¼ <a href="https://sourcegraph.com/docs/code-search/queries#search-patterns" target="_blank">æ–‡æ¡£</a></h2>
                <ul>
                    <li>é»˜è®¤ `patternType:keyword`ï¼Œç©ºæ ¼æ‹†è¯å¯ä»»æ„é¡ºåºåŒ¹é…ï¼›`Aa` æ§ä»¶åˆ‡æ¢å¤§å°å†™æ•æ„Ÿï¼ˆ`case:yes`ï¼‰ã€‚</li>
                    <li>`"foo bar"` ç²¾ç¡®çŸ­è¯­ï¼›`/.../` è§¦å‘ RE2 æ­£åˆ™ï¼›`(.*)` æ§ä»¶æˆ– `patternType:regexp` ä¹Ÿèƒ½æŒ‡å®šæ­£åˆ™ã€‚</li>
                    <li>`patternType:structural` å…è®¸ç»“æ„åŒ–åŒ¹é…ï¼Œéœ€ä¼  `structural:{pattern}` è¯­æ³•ï¼Œé€‚é… AST çº§åˆ«æœç´¢ã€‚</li>
                    <li>åº”å¯¹ä¿ç•™è¯ï¼Œå¯ç”¨ `content:"repo:sourcegraph"` è®©æ–‡æœ¬æŒ‰å­—é¢åŒ¹é…ï¼Œå†å åŠ è¿‡æ»¤å™¨å‡å°‘å†²çªã€‚</li>
                </ul>
                <pre><code class="language-bash"># åŒ…å« foo ä¸ bar
foo bar

# ç²¾ç¡®çŸ­è¯­ä¸è½¬ä¹‰
"foo \"bar\""

# æ­£åˆ™ç¤ºä¾‹
/foo\s+bar/i

# æœç´¢ literal åŒ…å« repo:sourcegraph
repo:sourcegraph content:"repo:sourcegraph"

# æŒ‡å®šæ¨¡å¼ç±»å‹ï¼ˆå¯åŠ  contextï¼‰
context:global fmt.Errorf patternType:regexp
context:@me panic patternType:structural</code></pre>
                <div class="desc">å…³é”®è¯ã€æ­£åˆ™ä¸ç»“æ„åŒ–ä¸‰è§’é…åˆï¼Œå¯æŒ‰éœ€åœ¨ cheatsheet é‡Œé€‰ç”¨æœ€åˆé€‚çš„æ¨¡å¼ã€‚</div>
            </div>

            <div class="card">
                <h2>ğŸŒ Search Context <a href="https://sourcegraph.com/docs/code-search/queries#search-context" target="_blank">æ–‡æ¡£</a></h2>
                <ul>
                    <li>`context:global` è¦†ç›–å…¨å±€ä»“åº“ï¼Œ`context:@<user>`/`context:@<team>` ç”¨äºç§æœ‰æˆ–å›¢é˜Ÿä¸Šä¸‹æ–‡ã€‚</li>
                    <li>Context å†³å®šå¯è§ä»“åº“é›†ï¼Œå¯ä¸ `repo:`/`file:` ç»„åˆï¼Œä¸å¡«å†™æ—¶é»˜è®¤å½“å‰é€‰ä¸­çš„ contextã€‚</li>
                    <li>ç•Œé¢å³ä¸Šè§’ `Contexts` ä¸‹æ‹‰å¯åˆ‡æ¢ï¼›URL ç¤ºä¾‹ï¼š<code>https://sourcegraph.com/search?q=context:global+repo:sourcegraph/sourcegraph</code></li>
                </ul>
                <div class="desc">æ˜ç¡® Context åï¼Œæ‰èƒ½åœ¨å¤šå›¢é˜Ÿæˆ–å¤šæƒé™ç¯å¢ƒä¸­æŒ‘å¯¹æ•°æ®æºã€‚</div>
            </div>

            <div class="card">
                <h2>ğŸ—‚ é€šç”¨è¿‡æ»¤å™¨ <a href="https://sourcegraph.com/docs/code-search/queries#filters-all-searches" target="_blank">æ–‡æ¡£</a></h2>
                <ul>
                    <li><strong>repo:/-repo:</strong> è·¯å¾„æ­£åˆ™ï¼Œ`rev:`/`context:` é™å®šä¿®è®¢ä¸ä¸Šä¸‹æ–‡ï¼›`repo:foo|bar` è¡¨ç¤ºæˆ–ï¼Œå¤šä¸ª repo ç­‰ä»·äº¤é›†ã€‚</li>
                    <li><strong>file:/-file:</strong> æ§åˆ¶è·¯å¾„ï¼Œé»˜è®¤éé”šå®šï¼Œå…¨åŒ¹é…ç”¨ `^README.md$`ï¼Œä¹Ÿå¯ç”¨ `file:has.filename` ç­‰è°“è¯ã€‚</li>
                    <li><strong>language:/-language:</strong> æŒ‡å®šè¯­è¨€ï¼›<strong>select:</strong> æ§åˆ¶å“åº”ç±»å‹ï¼ˆ`select:repo`ã€`select:file`ã€`select:commit.diff.added`ï¼‰ï¼›<strong>type:</strong> æŒ‡å‘ `file`/`path`/`repo`/`symbol.kind`/`commit`/`diff` ç­‰ã€‚</li>
                    <li><strong>patternType:</strong> æ˜¾å¼ `keyword`/`regexp`/`structural`ï¼›<strong>case:yes</strong> å¼ºåˆ¶å¤§å°å†™æ•æ„Ÿï¼›`count:`/`timeout:` æ§åˆ¶è§„æ¨¡ï¼›`fork:`/`archived:`/`visibility:` è¿‡æ»¤çŠ¶æ€ã€‚</li>
                    <li><strong>repo:has.*</strong> ä¸ <strong>file:has.*</strong>ï¼š
                        <ul>
                            <li>`repo:has.meta(key:value)`/`repo:has.meta(key)`/`repo:has.meta(key:)`ï¼Œå¦‚ `repo:has.meta(owning-team:security)`ã€‚</li>
                            <li>`repo:has.path(regexp)`/`repohasfile`ï¼šåªåœ¨å«åŒ¹é…è·¯å¾„çš„ä»“åº“æœã€‚</li>
                            <li>`repo:has.topic(topic)`ã€`repo:has.commit.after(duration)` æŒ‡å®š topic ä¸æ´»è·ƒåº¦ã€‚</li>
                        </ul>
                    </li>
                    <li>`repo:` å¯æ¥ globï¼ˆ`@*refs/heads/*`ï¼‰ä¸æ’é™¤ï¼ˆ`@*refs/heads/*:*!refs/heads/release*`ï¼‰è¯­æ³•ã€‚</li>
                </ul>
                <pre><code class="language-bash">repo:gorilla/mux testroute
file:\.js$ httptest
language:typescript encoding
select:repo fmt.Errorf
repo:sourcegraph rev:v3.14.0 mux
repo:sourcegraph count:1000 timeout:15s func</code></pre>
                <div class="desc">å…ˆç”¨è¿‡æ»¤å™¨ç¼©å°èŒƒå›´ï¼Œå†ç”¨æœç´¢æ¨¡å¼åŒ¹é…å†…å®¹ï¼Œé¿å…æ— æ•ˆç»“æœæµªè´¹é…é¢ã€‚</div>
            </div>

            <div class="card">
                <h2>âš– å¸ƒå°”ä¸åˆ†ç»„ <a href="https://sourcegraph.com/docs/code-search/queries#boolean-operators" target="_blank">æ–‡æ¡£</a></h2>
                <ul>
                    <li>`AND`/`OR`/`NOT` å¯å¤§å†™æˆ–å°å†™ï¼ŒAND ç»‘å®šæ›´ç´§ï¼Œä¼˜å…ˆçº§é«˜äº ORã€‚</li>
                    <li>`NOT` å¯å†™æˆ `-`ï¼Œå¦‚ `-file:test`ï¼›è‹¥é€»è¾‘å¤æ‚ï¼Œç”¨æ‹¬å·å¼ºåˆ¶ä½œç”¨èŒƒå›´ã€‚</li>
                </ul>
                <pre><code class="language-bash">foo AND bar OR baz             # ç­‰ä»· (foo AND bar) OR baz
panic NOT ever                 # ç­‰ä»· panic AND NOT ever
file:main.c (char c or (int i and int j))</code></pre>
                <div class="desc">å¸ƒå°”ä¸æ‹¬å·ç»“åˆï¼Œç”¨æ¥ç²¾ç¡®æ§åˆ¶å¤šä¸ªè¿‡æ»¤å™¨æˆ–å…³é”®è¯çš„åŒ¹é…èŒƒå›´ã€‚</div>
            </div>

            <div class="card">
                <h2>ğŸ· ä»“åº“ä¸ä¿®è®¢ <a href="https://sourcegraph.com/docs/code-search/queries#repository-search" target="_blank">æ–‡æ¡£</a></h2>
                <ul>
                    <li>`repo:` å•ç”¨ä¼šåˆ—å‡ºè·¯å¾„ï¼Œ`|` è¡¨ç¤ºå¹¶é›†ï¼Œ`-repo:` æ’é™¤ä¸æƒ³è¦çš„ä»“åº“ã€‚</li>
                    <li>`repo:<path>@<revision>` å¯æŒ‡å®šåˆ†æ”¯/tag/commitï¼›`rev:` åªèƒ½ä¸ `repo:` è”ç”¨ä¸”ä¸å¯é‡å¤ï¼Œ`@*refs/heads/*`/`@*refs/tags/*` å¯æ›¿ä»£å¤šä¸ª revisionï¼ŒSourcegraph ä¼šè‡ªåŠ¨è¡¥å…¨ `/*`ã€‚</li>
                    <li>`@*refs/heads/*:*!refs/heads/release*` ç­‰ `@...:*!...` è¯­æ³•å¯æ’é™¤ refsï¼Œ`^` è¡¨ç¤ºé›†åˆå·®ï¼Œä¾‹å¦‚ `repo:foo@main:^3.15`ã€‚</li>
                    <li>`rev:at.time("3 days ago")` ç­‰æ—¶é—´é™å®šå¼éœ€ Sourcegraph 5.4+ï¼›ç»“åˆ `type:commit`/`type:diff` æŸ¥çœ‹å†å²ã€‚</li>
                </ul>
                <pre><code class="language-bash">repo:foo repo:bar
repo:foo|bar
repo:myteam/abc@main:^fixme type:commit
repo:docker@*refs/tags/*</code></pre>
                <div class="desc">ä¼˜å…ˆç”¨ `repo:`+`rev:` å®šä½ä»£ç åº“ä¸ä¿®è®¢ï¼Œå†å åŠ å…¶å®ƒè¿‡æ»¤å™¨å‡å°‘å™ªå£°ã€‚</div>
            </div>

            <div class="card">
                <h2>ğŸ§¾ æäº¤ä¸å·®å¼‚ <a href="https://sourcegraph.com/docs/code-search/queries#filters-diff-and-commit-searches-only" target="_blank">æ–‡æ¡£</a></h2>
                <ul>
                    <li>`type:diff`/`type:commit` åˆ‡æ¢å˜æ›´è§†å›¾ï¼Œè‡ªå¸¦ `repo:+` ç»„åˆå¯æŸ¥çœ‹åˆ†æ”¯æˆ– tag é‡Œçš„å·®å¼‚/æäº¤ã€‚</li>
                    <li>`author:`/`-author:`ã€`committer:` åŒ¹é…æäº¤è€…ï¼Œæ”¯æŒæ­£åˆ™ï¼›`before:`/`after:` æ§åˆ¶æäº¤æ—¶é—´ã€‚</li>
                    <li>`message:`/`-message:` ç”¨äºåŒ¹é…æäº¤ä¿¡æ¯ï¼Œå’Œ `type:diff` é…åˆå¯å¿«é€Ÿå®šä½æŸæ®µæ”¹åŠ¨ã€‚</li>
                </ul>
                <pre><code class="language-bash">type:diff func author:nick
type:commit test message:"refactor"
before:"last thursday" after:"6 weeks ago"</code></pre>
                <div class="desc">å·®å¼‚/æäº¤è¿‡æ»¤é€‚åˆä»£ç å®¡æŸ¥ä¸å›æº¯ï¼Œé…åˆ `repo:` å’Œ `author:` æ‰èƒ½è¿…é€Ÿå®šä½è´£ä»»äººã€‚</div>
            </div>

            <div class="card">
                <h2>ğŸ’¡ ä½¿ç”¨å»ºè®® <a href="https://sourcegraph.com/docs/code-search/queries" target="_blank">æ–‡æ¡£</a></h2>
                <ul>
                    <li>å…ˆç¼©å° `repo`ã€`file`ã€`language`ï¼Œå†å±‚å  `content`ã€`patternType` ä¸ `select` ç­›é€‰æœ€ç›¸å…³ç»“æœã€‚</li>
                    <li>æƒ³çœ‹å®Œæ•´ç»“æœç”¨ `count:all` + `timeout:`ï¼Œæƒ³çœ‹ä»“åº“åˆ—è¡¨ç”¨ `select:repo`ï¼Œæƒ³çœ‹æ–°å¢/åˆ é™¤ä»£ç ç”¨ `select:commit.diff.added`ã€‚</li>
                    <li>è‹¥è¦æ’é™¤æ—§æäº¤é›†æ­é… `^`ï¼Œè¦æ’é™¤ release/tag/branch ä¹Ÿå¯å€ŸåŠ© `*@* :*!refs/...`ã€‚</li>
                </ul>
                <div class="desc">éµå¾ª â€œå…ˆå®šä½å†è¿‡æ»¤â€ çš„æŸ¥æ‰¾é¡ºåºï¼Œèƒ½è®© Sourcegraph æŸ¥è¯¢æ—¢å¿«åˆç²¾ç¡®ã€‚</div>
            </div>
        </div>
    </div>
    <script src="../../assets/common.js"></script>
</body>
</html>
