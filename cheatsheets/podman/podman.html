<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>podman</title>
  <link rel="stylesheet" href="../../css/variables.css">
  <link rel="stylesheet" href="../../css/common.css">
  <style>:root{--colWidth:340px;--gap:16px}
    .hlink{color:#93cdfc;text-decoration:none;margin-left:6px}
    .hlink:hover{text-decoration:underline}
  </style>
  <link rel="icon" type="image/png" href="../../assets/brand/cheatsheet.png" />
  <link rel="apple-touch-icon" href="../../assets/brand/cheatsheet.png" />
</head>
<body>
  <div class="container">
    <div class="panel">
      <span class="title">Podman å®¹å™¨ç®¡ç†</span>
      <label for="columnWidth">ğŸ”§ è°ƒæ•´æ¯åˆ—å®½åº¦ï¼š</label>
      <input id="columnWidth" class="slider-bar" type="range" min="300" max="660" value="340">
      <span id="widthVal" class="slider-val">340px</span>
    </div>

    <div class="cheat-columns" id="columns">

      <div class="card">
        <h2>è¿è¡Œä¸ç®¡ç† <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-run.1.html" target="_blank">run</a> <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-exec.1.html" target="_blank">exec</a></h2>
        <ul>
          <li>äº¤äº’è¿è¡Œï¼š<pre class="code">podman run -it --name app alpine:latest sh</pre></li>
          <li>åå°è¿è¡Œï¼š<pre class="code">podman run -d --name web --restart=always -p 80:80 nginx:alpine</pre></li>
          <li>æŸ¥çœ‹å®¹å™¨ï¼š<code>podman ps</code> / <code>podman ps -a</code></li>
          <li>è¿›å…¥/æ‰§è¡Œï¼š<code>podman exec -it web sh -c "nginx -t"</code></li>
        </ul>
      </div>

      <div class="card">
        <h2>æ—¥å¿—ä¸æ£€æŸ¥ <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-logs.1.html" target="_blank">logs</a> <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-inspect.1.html" target="_blank">inspect</a></h2>
        <ul>
          <li>æ—¥å¿—ï¼š<code>podman logs -f web</code>ï¼›ç›‘æ§ï¼š<code>podman stats web</code></li>
          <li>æ£€æŸ¥ï¼š<code>podman inspect web</code>ï¼ˆJSONï¼‰ï¼›é…åˆ <code>jq</code> æå–å­—æ®µ</li>
          <li>åœæ­¢/åˆ é™¤ï¼š<code>podman stop -t 30 web</code>ã€<code>podman rm -v web</code></li>
          <li>æ¸…ç†ï¼š<code>podman container prune -f</code>ã€é•œåƒæ¸…ç†ï¼š<code>podman image prune</code></li>
        </ul>
      </div>

      <div class="card">
        <h2>é•œåƒä¸æ„å»º <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-build.1.html" target="_blank">build</a> <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-manifest.1.html" target="_blank">manifest</a></h2>
        <ul>
          <li>æ‹‰å–/åˆ—å‡º/åˆ é™¤ï¼š<code>podman pull|images|rmi</code></li>
          <li>æ„å»ºé•œåƒï¼š<code>podman build -t myimg:dev -f Containerfile .</code></li>
          <li>å¤šæ¶æ„ï¼š<code>podman manifest</code> åˆ›å»º/æ¨é€å¤šæ¶æ„æ¸…å•</li>
          <li>å¯¼å…¥å¯¼å‡ºï¼š<code>podman save</code> / <code>podman load</code> é•œåƒè¿ç§»</li>
        </ul>
      </div>

      <div class="card">
        <h2>Pod/ç½‘ç»œ/å· <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-pod.1.html" target="_blank">pod</a> <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-network.1.html" target="_blank">network</a> <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-volume.1.html" target="_blank">volume</a></h2>
        <ul>
          <li>Podï¼š<code>podman pod create --name app</code>ï¼›<code>podman run --pod app</code></li>
          <li>ç½‘ç»œï¼š<code>podman network create net1</code>ï¼›<code>--network net1</code></li>
          <li>å·ï¼š<code>podman volume create data</code>ï¼›<code>-v data:/data:Z</code>ï¼ˆSELinuxï¼‰</li>
          <li>ç«¯å£ï¼š<code>-p 8080:80</code>ï¼›æŒ‡å®šåè®®/èŒƒå›´ä¸ hostIP</li>
        </ul>
      </div>

      <div class="card">
        <h2>é€€å‡ºç çº¦å®š <a class="hlink" href="https://github.com/containers/podman/blob/main/docs/source/markdown/podman.1.md" target="_blank">man</a></h2>
        <ul>
          <li>125ï¼šPodman æœ¬èº«å‡ºé”™ï¼ˆå‚æ•°é”™è¯¯ç­‰ï¼‰</li>
          <li>126ï¼šå®¹å™¨å¯æ‰§è¡Œæƒé™é—®é¢˜</li>
          <li>127ï¼šå®¹å™¨å†…å‘½ä»¤æœªæ‰¾åˆ°</li>
          <li>å…¶ä»–ï¼šè¿”å›å®¹å™¨å†…å‘½ä»¤çš„é€€å‡ºç </li>
        </ul>
      </div>

      <div class="card">
        <h2>ç”Ÿæˆä¸ç¼–æ’ <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-generate-systemd.1.html" target="_blank">systemd</a> <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-generate-kube.1.html" target="_blank">kube</a> <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-play-kube.1.html" target="_blank">play kube</a></h2>
        <ul>
          <li>systemdï¼š<code>podman generate systemd --new --files web</code></li>
          <li>Kubeï¼š<code>podman generate kube web &gt; web.yaml</code>ï¼›<code>podman play kube web.yaml</code></li>
          <li>Composeï¼šå¯ä½¿ç”¨ç¤¾åŒº <code>podman-compose</code>ï¼ˆCompose è§„èŒƒå®ç°ï¼‰</li>
        </ul>
      </div>

      <div class="card">
        <h2>Rootless ä¸å¹³å° <a class="hlink" href="https://github.com/containers/podman/blob/main/rootless.md" target="_blank">rootless</a> <a class="hlink" href="https://docs.podman.io/en/latest/markdown/podman-machine.1.html" target="_blank">machine</a></h2>
        <ul>
          <li>Rootlessï¼šéœ€é…ç½® <code>/etc/subuid</code>/<code>/etc/subgid</code>ï¼›ç«¯å£ <code>&gt;1024</code></li>
          <li>macOS/Windowsï¼š<code>podman machine</code> ç®¡ç†è™šæ‹Ÿæœºç¯å¢ƒ</li>
          <li>å®‰å…¨ï¼šSELinux æ ‡ç­¾ <code>:z/:Z</code>ï¼›ç”¨æˆ·å‘½åç©ºé—´éš”ç¦»</li>
        </ul>
      </div>

    </div>
  </div>
  <script src="../../assets/common.js"></script>
</body>
</html>
