<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8">
    <title>OpenAI Codex CLI å¼€å‘å‘½ä»¤é€ŸæŸ¥è¡¨</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- å¼•å…¥å…¬å…±CSSæ ·å¼ -->
    <link rel="stylesheet" href="../../assets/variables.css">
    <link rel="stylesheet" href="../../assets/global.css">
  <link rel="stylesheet" href="../../assets/cheatsheet.css">

    <style>
      /* Codex CLIç‰¹æœ‰çš„æ ·å¼è°ƒæ•´ */
      .cheat-columns {
        /* ä½¿ç”¨column-countå¸ƒå±€ */
        column-count: 4;
      }

      @media (max-width: 1500px) {
        .cheat-columns {
          column-count: 3;
        }
      }

      @media (max-width: 1100px) {
        .cheat-columns {
          column-count: 2;
        }
      }

      @media (max-width: 750px) {
        .cheat-columns {
          column-count: 1;
        }
      }

      .panel label {
        color: #ffe49b; /* ä¿æŒåŸæœ‰çš„labelé¢œè‰² */
      }

      .slider-bar {
        min-width: 120px; /* ä¿æŒåŸæœ‰çš„æ»‘å—å®½åº¦ */
      }

      .slider-val {
        min-width: 28px; /* ä¿æŒåŸæœ‰çš„å€¼æ˜¾ç¤ºå®½åº¦ */
      }
    </style>
  
    <link rel="icon" type="image/png" href="../../assets/brand/cheatsheet.png" />
    <link rel="apple-touch-icon" href="../../assets/brand/cheatsheet.png" />
  </head>
  <body>
    <div class="container">
      <div class="panel">
        <span style="color:#7bfbb7;font-size:16px;margin-right:auto;">Codex CLI é€ŸæŸ¥è¡¨</span>
        <label for="columnWidth">ğŸ”§ è°ƒæ•´æ¯åˆ—å®½åº¦ï¼š</label>
        <input id="columnWidth" class="slider-bar" type="range" min="300" max="660" value="340">
        <span id="widthVal" class="slider-val">340px</span>
      </div>
      <div class="cheat-columns" id="columns">

        <!-- åŸºæœ¬å®‰è£… -->
        <div class="card">
          <h2>ğŸš€ å®‰è£…å’Œè®¾ç½® <a href="https://developers.openai.com/codex/cli" title="å®˜æ–¹æ–‡æ¡£" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>npm i -g @openai/codex</code> : å…¨å±€å®‰è£… Codex CLI</li>
            <li><code>npm i -g @openai/codex@latest</code> : æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</li>
            <li><code>codex login</code> : èº«ä»½éªŒè¯ (ChatGPT æˆ– API Key)</li>
            <li><code>codex login --with-api-key</code> : ä½¿ç”¨ API Key ç™»å½•</li>
            <li><code>codex login status</code> : æ£€æŸ¥ç™»å½•çŠ¶æ€</li>
            <li><code>codex logout</code> : é€€å‡ºç™»å½•</li>
          </ul>
          <h3>å¹³å°æ”¯æŒ</h3>
          <pre>macOS/Linux: å®Œå…¨æ”¯æŒ (é»˜è®¤ gpt-5-codex)
Windows: å®éªŒæ€§æ”¯æŒ (æ¨è WSLï¼Œé»˜è®¤ gpt-5)</pre>
          <div class="desc">é¦–æ¬¡è¿è¡Œä¼šæç¤ºè®¤è¯ï¼Œéœ€è¦ ChatGPT Plus/Pro/Enterprise è´¦æˆ·</div>
        </div>

        <!-- åŸºæœ¬å‘½ä»¤ -->
        <div class="card">
          <h2>âš¡ åŸºæœ¬å‘½ä»¤ <a href="https://developers.openai.com/codex/cli/reference" title="å‘½ä»¤å‚è€ƒ" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>codex</code> : å¯åŠ¨äº¤äº’å¼ç»ˆç«¯ UI (TUI)</li>
            <li><code>codex "ä»»åŠ¡æè¿°"</code> : å•è½®å¯¹è¯æ‰§è¡Œ</li>
            <li><code>codex exec "ä»»åŠ¡"</code> : éäº¤äº’å¼æ‰§è¡Œ (è„šæœ¬)</li>
            <li><code>codex --model gpt-5-codex</code> : æŒ‡å®šæ¨¡å‹</li>
            <li><code>codex -i screenshot.png "è¯´æ˜"</code> : é™„åŠ å›¾ç‰‡</li>
            <li><code>codex --cd /path/to/project</code> : è®¾ç½®å·¥ä½œç›®å½•</li>
          </ul>
          <h3>ä¼šè¯ç®¡ç†</h3>
          <pre>codex resume                 # æ¢å¤æœ€è¿‘çš„ä¼šè¯
codex resume --last          # è·³è¿‡é€‰æ‹©å™¨ç›´æ¥æ¢å¤
codex resume SESSION_ID      # æ¢å¤æŒ‡å®šä¼šè¯
codex exec resume --last "æ–°æŒ‡ä»¤"  # æ¢å¤å¹¶æ‰§è¡Œæ–°æŒ‡ä»¤</pre>
          <div class="desc">ä½¿ç”¨ Ctrl+C æˆ– /exit é€€å‡ºäº¤äº’å¼ä¼šè¯</div>
        </div>

        <!-- æ¨¡å‹é…ç½® -->
        <div class="card">
          <h2>ğŸ§  æ¨¡å‹æ§åˆ¶ <a href="https://developers.openai.com/codex/cli/features" title="åŠŸèƒ½ç‰¹æ€§" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>gpt-5-codex</code> : ç¼–ç¨‹ä¼˜åŒ–æ¨¡å‹ (Linux/macOS é»˜è®¤)</li>
            <li><code>gpt-5-codex-mini</code> : æˆæœ¬ä¼˜åŒ–ç‰ˆæœ¬ (çº¦ 4x ä½¿ç”¨é‡)</li>
            <li><code>gpt-5</code> : é€šç”¨æ¨¡å‹ (Windows é»˜è®¤)</li>
            <li><code>/model gpt-5-codex</code> : ä¼šè¯ä¸­åˆ‡æ¢æ¨¡å‹</li>
            <li><code>codex --oss</code> : ä½¿ç”¨æœ¬åœ°å¼€æºæ¨¡å‹ (Ollama)</li>
          </ul>
          <h3>æ¨ç†çº§åˆ«</h3>
          <pre># é…ç½®æ–‡ä»¶è®¾ç½®
model = "gpt-5-codex"
model_reasoning_effort = "high"  # low | medium | high

# CLI å‚æ•°
codex --config model_reasoning_effort="high"
codex --model gpt-5-codex</pre>
          <div class="desc">gpt-5-codex-midi ä»…æ”¯æŒ ChatGPT è´¦æˆ·ç™»å½•</div>
        </div>

        <!-- å®‰å…¨å’Œå®¡æ‰¹ -->
        <div class="card">
          <h2>ğŸ”’ å®¡æ‰¹æ¨¡å¼ <a href="https://developers.openai.com/codex/local-config#cli" title="é…ç½®æŒ‡å—" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>untrusted</code> : å¯¹æ‰€æœ‰æ“ä½œè¦æ±‚å®¡æ‰¹</li>
            <li><code>on-failure</code> : ä»…å¤±è´¥æ—¶è¦æ±‚å®¡æ‰¹</li>
            <li><code>on-request</code> : æŒ‰éœ€å®¡æ‰¹è¡Œä¸º</li>
            <li><code>never</code> : ä¸éœ€è¦å®¡æ‰¹ (è°¨æ…ä½¿ç”¨)</li>
          </ul>
          <h3>æ²™ç›’æ¨¡å¼</h3>
          <pre>codex --sandbox read-only           # åªè¯»æ¨¡å¼
codex --sandbox workspace-write      # å·¥ä½œç›®å½•å¯å†™
codex --sandbox danger-full-access   # å®Œå…¨è®¿é—®æƒé™

# å¿«é€Ÿè‡ªåŠ¨åŒ– (ç­‰æ•ˆè®¾ç½®)
codex --full-auto                    # è‡ªåŠ¨åŒ–é¢„è®¾</pre>
          <div class="desc">ä½¿ç”¨ /approvals åœ¨ä¼šè¯ä¸­åŠ¨æ€åˆ‡æ¢å®¡æ‰¹æ¨¡å¼</div>
        </div>

        <!-- é…ç½®æ–‡ä»¶ -->
        <div class="card">
          <h2>âš™ï¸ é…ç½®ç®¡ç† <a href="https://developers.openai.com/codex/local-config" title="é…ç½®è¯¦æƒ…" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>~/.codex/config.toml</code> : é…ç½®æ–‡ä»¶ä½ç½®</li>
            <li><code>codex --profile deep-review</code> : ä½¿ç”¨é…ç½®ç»„</li>
            <li><code>codex --config key=value</code> : ä¸´æ—¶è¦†ç›–é…ç½®</li>
          </ul>
          <h3>é…ç½®ç¤ºä¾‹</h3>
          <pre># åŸºæœ¬é…ç½®
model = "gpt-5-codex"
approval_policy = "on-request"
sandbox_mode = "workspace-write"

# åŠŸèƒ½ç‰¹æ€§
[features]
web_search_request = true
streamable_shell = true

# ç¯å¢ƒå˜é‡æ§åˆ¶
[shell_environment_policy]
include_only = ["PATH", "HOME"]</pre>
          <div class="desc">é…ç½®æ–‡ä»¶ CLI å’Œ IDE æ‰©å±•å…±äº«</div>
        </div>

        <!-- ä»£ç å®¡æŸ¥ -->
        <div class="card">
          <h2>ğŸ” ä»£ç å®¡æŸ¥ <a href="https://developers.openai.com/codex/cli/features" title="å®¡æŸ¥åŠŸèƒ½" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>/review</code> : æ‰“å¼€å®¡æŸ¥é€‰æ‹©å™¨</li>
            <li><code>åŸºåˆ†æ”¯å¯¹æ¯”</code> : å¯¹æ¯”ä¸Šæ¸¸åˆ†æ”¯</li>
            <li><code>æœªæäº¤å˜æ›´</code> : æ£€æŸ¥æš‚å­˜/æœªæš‚å­˜</li>
            <li><code>ç‰¹å®šæäº¤</code> : æ£€æŸ¥é€‰å®š SHA</li>
          </ul>
          <h3>å®¡æŸ¥ç±»å‹</h3>
          <pre># äº¤äº’å¼é€‰æ‹©å®¡æŸ¥èŒƒå›´
/review

# è‡ªå®šä¹‰å®¡æŸ¥æŒ‡ä»¤
/review "ä¸“æ³¨å®‰å…¨æ¼æ´"

# å®¡æŸ¥ç»“æœä¼šæ˜¾ç¤ºåœ¨å¯¹è¯è®°å½•ä¸­
å¯å¤šæ¬¡è¿è¡Œå¯¹æ¯”åé¦ˆ</pre>
          <div class="desc">å®¡æŸ¥ä¸ä¼šä¿®æ”¹å·¥ä½œæ ‘ï¼Œä»…æä¾›åé¦ˆ</div>
        </div>

        <!-- è‡ªåŠ¨åŒ– -->
        <div class="card">
          <h2>ğŸ¤– è‡ªåŠ¨åŒ–æ‰§è¡Œ <a href="https://developers.openai.com/codex/cli/reference#codex-exec" title="exec æŒ‡å—" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>codex exec "ä»»åŠ¡"</code> : éäº¤äº’æ‰§è¡Œ</li>
            <li><code>codex exec --json</code> : JSON è¾“å‡ºæ ¼å¼</li>
            <li><code>codex exec resume SESSION</code> : æ¢å¤ä¼šè¯æ‰§è¡Œ</li>
            <li><code>codex exec -</code> : ä»æ ‡å‡†è¾“å…¥è¯»å–æŒ‡ä»¤</li>
          </ul>
          <h3>è„šæœ¬ç¤ºä¾‹</h3>
          <pre># è‡ªåŠ¨åŒ–å·¥ä½œæµ
codex exec "ä¿®å¤ CI å¤±è´¥"
codex exec "æ›´æ–° changelog"

# æ¡ä»¶æ‰§è¡Œ
if codex login status; then
  codex exec "è‡ªåŠ¨åŒ–ä»£ç å®¡æŸ¥"
fi

# ç®¡é“è¾“å…¥
echo "é‡æ„å‡½æ•°" | codex exec -</pre>
          <div class="desc">é€‚åˆ CI/CD å’Œè„šæœ¬è‡ªåŠ¨åŒ–åœºæ™¯</div>
        </div>

        <!-- é«˜çº§åŠŸèƒ½ -->
        <div class="card">
          <h2>ğŸŒŸ é«˜çº§åŠŸèƒ½ <a href="https://developers.openai.com/codex/cli/features" title="é«˜çº§ç‰¹æ€§" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>å›¾ç‰‡è¾“å…¥</code> : æ”¯æŒæˆªå›¾/è®¾è®¡å›¾åˆ†æ</li>
            <li><code>/plan</code> : åˆ¶å®šæ‰§è¡Œè®¡åˆ’</li>
            <li><code>Web æœç´¢</code> : è·å–æœ€æ–°ä¿¡æ¯</li>
            <li><code>MCP é›†æˆ</code> : è¿æ¥ç¬¬ä¸‰æ–¹å·¥å…·</li>
          </ul>
          <h3>é«˜çº§ç”¨æ³•</h3>
          <pre># å¤šå›¾ç‰‡åˆ†æ
codex -i img1.png,img2.jpg "å¯¹æ¯”é¡µé¢"
codex --image design.png "å®ç°è¿™ä¸ªç•Œé¢"

# Web æœç´¢ (éœ€é…ç½®)
codex --search "æœ€æ–° React ç‰¹æ€§"

# è·¯å¾„å¿«é€Ÿå¼•ç”¨
è¾“å…¥ @ + æ–‡ä»¶åå¿«é€Ÿæœç´¢
åŒå‡» Esc ç¼–è¾‘ä¸Šä¸€æ¡æ¶ˆæ¯</pre>
          <div class="desc">å¯ç”¨ Web æœç´¢éœ€åœ¨ config.toml ä¸­é…ç½®</div>
        </div>

        <!-- äº‘æœåŠ¡ -->
        <div class="card">
          <h2>â˜ï¸ Codex Cloud <a href="https://developers.openai.com/codex/cli/reference#codex-cloud" title="Cloud æŒ‡å—" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>codex cloud</code> : äº¤äº’å¼ä»»åŠ¡ç®¡ç†</li>
            <li><code>codex cloud exec</code> : æäº¤äº‘ç«¯ä»»åŠ¡</li>
            <li><code>codex apply TASK_ID</code> : åº”ç”¨äº‘ç«¯å˜æ›´</li>
          </ul>
          <h3>äº‘ç«¯æ‰§è¡Œ</h3>
          <pre># å¯åŠ¨äº‘ç«¯ä»»åŠ¡
codex cloud exec --env ENV_ID "æ€»ç»“ Bug"
codex cloud exec --env ENV_ID --attempts 3 "ç”Ÿæˆå¤šç§æ–¹æ¡ˆ"

# åº”ç”¨å˜æ›´åˆ°æœ¬åœ°
codex apply TASK_123

# ç®¡ç†ä»»åŠ¡
codex cloud  # äº¤äº’å¼é€‰æ‹©å™¨</pre>
          <div class="desc">ä½¿ç”¨ç›¸åŒè®¤è¯èº«ä»½ï¼Œä»»åŠ¡å¤±è´¥è¿”å›éé›¶çŠ¶æ€ç </div>
        </div>

        <!-- Shell é›†æˆ -->
        <div class="card">
          <h2>ğŸš Shell é›†æˆ <a href="https://developers.openai.com/codex/cli/reference#codex-completion" title="è¡¥å…¨è„šæœ¬" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>codex completion bash</code> : Bash è¡¥å…¨</li>
            <li><code>codex completion zsh</code> : Zsh è¡¥å…¨</li>
            <li><code>codex completion fish</code> : Fish è¡¥å…¨</li>
            <li><code>codex completion powershell</code> : PowerShell è¡¥å…¨</li>
          </ul>
          <h3>è®¾ç½®æ–¹æ³•</h3>
          <pre># Zsh ç¤ºä¾‹
echo 'eval "$(codex completion zsh)"' >> ~/.zshrc

# å¦‚æœæç¤º compdef é”™è¯¯
echo 'autoload -Uz compinit && compinit' >> ~/.zshrc

# é‡æ–°åŠ è½½ Shell
source ~/.zshrc

# ä½¿ç”¨ Tab è¡¥å…¨å‘½ä»¤
codex [Tab]</pre>
          <div class="desc">é‡å¯ Shell åç”Ÿæ•ˆ</div>
        </div>

        <!-- æ²™ç›’å’Œéš”ç¦» -->
        <div class="card">
          <h2>ğŸ›¡ï¸ æ²™ç›’ç¯å¢ƒ <a href="https://developers.openai.com/codex/cli/reference#codex-sandbox" title="æ²™ç›’è¯¦æƒ…" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>codex sandbox --</code> : macOS Seatbelt</li>
            <li><code>codex sandbox --</code> : Linux Landlock</li>
            <li><code>--full-auto</code> : è‡ªåŠ¨æƒé™é…ç½®</li>
          </ul>
          <h3>æ²™ç›’ç¤ºä¾‹</h3>
          <pre># macOS æ²™ç›’æ‰§è¡Œ
codex sandbox --config key=value -- full-auto -- command args

# Linux æ²™ç›’æ‰§è¡Œ
codex sandbox --full-auto -- ls -la /tmp

# å†™å…¥æƒé™é…ç½®
[codex]
writable_roots = ["/workspace", "/tmp"]

# ç½‘ç»œè®¿é—®æ§åˆ¶
network_access = true  # workspace-write æ¨¡å¼</pre>
          <div class="desc">Windows æ”¯æŒå—é™ä»¤ç‰Œæ²™ç›’ (å®éªŒç‰¹æ€§)</div>
        </div>

        <!-- MCP é›†æˆ -->
        <div class="card">
          <h2>ğŸ”Œ MCP é›†æˆ <a href="https://developers.openai.com/codex/cli/reference#codex-mcp" title="MCP é…ç½®" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>codex mcp list</code> : åˆ—å‡º MCP æœåŠ¡å™¨</li>
            <li><code>codex mcp add name</code> : æ·»åŠ æœåŠ¡å™¨</li>
            <li><code>codex mcp remove name</code> : ç§»é™¤æœåŠ¡å™¨</li>
            <li><code>codex mcp-server</code> : Codex ä½œä¸º MCP æœåŠ¡</li>
          </ul>
          <h3>MCP é…ç½®</h3>
          <pre># æ·»åŠ  STDIO æœåŠ¡å™¨
codex mcp add fs-server -- npx @modelcontextprotocol/server-filesystem /tmp

# æ·»åŠ  HTTP æœåŠ¡å™¨
codex mcp add api-server --url https://api.example.com/mcp

# OAuth è®¤è¯
codex mcp login api-server --scopes read,write

# é…ç½®æ–‡ä»¶æ–¹å¼
[mcp.servers.fs]
command = "npx"
args = ["@modelcontextprotocol/server-filesystem", "/tmp"]</pre>
          <div class="desc">éœ€è¦å¯ç”¨ RMCP å®¢æˆ·ç«¯åŠŸèƒ½</div>
        </div>

        <!-- æ•…éšœæ’é™¤ -->
        <div class="card">
          <h2>ğŸ”§ æ•…éšœæ’é™¤</h2>
          <ul>
            <li><code>codex --version</code> : æ£€æŸ¥ç‰ˆæœ¬</li>
            <li><code>codex login status</code> : éªŒè¯ç™»å½•</li>
            <li><code>codex --help</code> : æŸ¥çœ‹å¸®åŠ©</li>
            <li><code>~/.codex/sessions/</code> : ä¼šè¯æ—¥å¿—ä½ç½®</li>
          </ul>
          <h3>å¸¸è§é—®é¢˜</h3>
          <pre># WSL å®‰è£…é—®é¢˜
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# æƒé™è¢«æ‹’
codex --sandbox read-only "åªè¯»æ“ä½œ"

# æ¸…ç†ç¼“å­˜
rm -rf ~/.codex/cache

# è¯¦ç»†è°ƒè¯•
codex --config debug=true "è°ƒè¯•æ¨¡å¼"</pre>
          <div class="desc">Windows ä¼˜å…ˆä½¿ç”¨ WSL2 ç¯å¢ƒç¨³å®šè¿è¡Œ</div>
        </div>

        <!-- é…ç½®æ¦‚è§ˆ -->
        <div class="card">
          <h2>â±ï¸ é…ç½®æ¦‚è§ˆ <a href="https://developers.openai.com/codex/local-config" title="é…ç½®é€‰é¡¹" target="_blank" style="color:#93cdfc;">&gt;&gt;&gt;</a></h2>
          <ul>
            <li><code>model</code> : é»˜è®¤æ¨¡å‹</li>
            <li><code>model_provider</code> : æ¨¡å‹ä¾›åº”å•†</li>
            <li><code>approval_policy</code> : å®¡æ‰¹ç­–ç•¥</li>
            <li><code>sandbox_mode</code> : æ²™ç›’æ¨¡å¼</li>
          </ul>
          <h3>é…ç½®ç»„ç¤ºä¾‹</h3>
          <pre># æ·±åº¦å®¡æŸ¥é…ç½®
[profiles.deep-review]
model = "gpt-5-pro"
model_reasoning_effort = "high"
approval_policy = "never"

# è½»é‡çº§é…ç½®
[profiles.lightweight]
model = "gpt-4.1"
approval_policy = "untrusted"

# é»˜è®¤ä½¿ç”¨
profile = "deep-review"</pre>
          <div class="desc">CLI å‚æ•°è¦†ç›–ä¼˜å…ˆçº§æœ€é«˜</div>
        </div>

      </div>
    </div>
    <script src="../../assets/common.js"></script>
  </body>
</html>